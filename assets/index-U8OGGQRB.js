var pE=Object.defineProperty;var _E=(t,e,n)=>e in t?pE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zi=(t,e,n)=>_E(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xc={exports:{}},Ta={},Vc={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function vE(){if(Fm)return Pe;Fm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function y(T){return T===null||typeof T!="object"?null:(T=p&&T[p]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,M={};function x(T,z,se){this.props=T,this.context=z,this.refs=M,this.updater=se||E}x.prototype.isReactComponent={},x.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},x.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function R(){}R.prototype=x.prototype;function S(T,z,se){this.props=T,this.context=z,this.refs=M,this.updater=se||E}var L=S.prototype=new R;L.constructor=S,v(L,x.prototype),L.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,b={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function D(T,z,se){var le,fe={},me=null,ye=null;if(z!=null)for(le in z.ref!==void 0&&(ye=z.ref),z.key!==void 0&&(me=""+z.key),z)P.call(z,le)&&!V.hasOwnProperty(le)&&(fe[le]=z[le]);var Ee=arguments.length-2;if(Ee===1)fe.children=se;else if(1<Ee){for(var Se=Array(Ee),Oe=0;Oe<Ee;Oe++)Se[Oe]=arguments[Oe+2];fe.children=Se}if(T&&T.defaultProps)for(le in Ee=T.defaultProps,Ee)fe[le]===void 0&&(fe[le]=Ee[le]);return{$$typeof:t,type:T,key:me,ref:ye,props:fe,_owner:b.current}}function j(T,z){return{$$typeof:t,type:T.type,key:z,ref:T.ref,props:T.props,_owner:T._owner}}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ie(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(se){return z[se]})}var ee=/\/+/g;function Q(T,z){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):z.toString(36)}function ae(T,z,se,le,fe){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var ye=!1;if(T===null)ye=!0;else switch(me){case"string":case"number":ye=!0;break;case"object":switch(T.$$typeof){case t:case e:ye=!0}}if(ye)return ye=T,fe=fe(ye),T=le===""?"."+Q(ye,0):le,A(fe)?(se="",T!=null&&(se=T.replace(ee,"$&/")+"/"),ae(fe,z,se,"",function(Oe){return Oe})):fe!=null&&(G(fe)&&(fe=j(fe,se+(!fe.key||ye&&ye.key===fe.key?"":(""+fe.key).replace(ee,"$&/")+"/")+T)),z.push(fe)),1;if(ye=0,le=le===""?".":le+":",A(T))for(var Ee=0;Ee<T.length;Ee++){me=T[Ee];var Se=le+Q(me,Ee);ye+=ae(me,z,se,Se,fe)}else if(Se=y(T),typeof Se=="function")for(T=Se.call(T),Ee=0;!(me=T.next()).done;)me=me.value,Se=le+Q(me,Ee++),ye+=ae(me,z,se,Se,fe);else if(me==="object")throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ye}function te(T,z,se){if(T==null)return T;var le=[],fe=0;return ae(T,le,"","",function(me){return z.call(se,me,fe++)}),le}function _e(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(se){(T._status===0||T._status===-1)&&(T._status=1,T._result=se)},function(se){(T._status===0||T._status===-1)&&(T._status=2,T._result=se)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var re={current:null},W={transition:null},ne={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:W,ReactCurrentOwner:b};function $(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:te,forEach:function(T,z,se){te(T,function(){z.apply(this,arguments)},se)},count:function(T){var z=0;return te(T,function(){z++}),z},toArray:function(T){return te(T,function(z){return z})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Pe.Component=x,Pe.Fragment=n,Pe.Profiler=s,Pe.PureComponent=S,Pe.StrictMode=i,Pe.Suspense=c,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Pe.act=$,Pe.cloneElement=function(T,z,se){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var le=v({},T.props),fe=T.key,me=T.ref,ye=T._owner;if(z!=null){if(z.ref!==void 0&&(me=z.ref,ye=b.current),z.key!==void 0&&(fe=""+z.key),T.type&&T.type.defaultProps)var Ee=T.type.defaultProps;for(Se in z)P.call(z,Se)&&!V.hasOwnProperty(Se)&&(le[Se]=z[Se]===void 0&&Ee!==void 0?Ee[Se]:z[Se])}var Se=arguments.length-2;if(Se===1)le.children=se;else if(1<Se){Ee=Array(Se);for(var Oe=0;Oe<Se;Oe++)Ee[Oe]=arguments[Oe+2];le.children=Ee}return{$$typeof:t,type:T.type,key:fe,ref:me,props:le,_owner:ye}},Pe.createContext=function(T){return T={$$typeof:l,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:o,_context:T},T.Consumer=T},Pe.createElement=D,Pe.createFactory=function(T){var z=D.bind(null,T);return z.type=T,z},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(T){return{$$typeof:h,render:T}},Pe.isValidElement=G,Pe.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:_e}},Pe.memo=function(T,z){return{$$typeof:d,type:T,compare:z===void 0?null:z}},Pe.startTransition=function(T){var z=W.transition;W.transition={};try{T()}finally{W.transition=z}},Pe.unstable_act=$,Pe.useCallback=function(T,z){return re.current.useCallback(T,z)},Pe.useContext=function(T){return re.current.useContext(T)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(T){return re.current.useDeferredValue(T)},Pe.useEffect=function(T,z){return re.current.useEffect(T,z)},Pe.useId=function(){return re.current.useId()},Pe.useImperativeHandle=function(T,z,se){return re.current.useImperativeHandle(T,z,se)},Pe.useInsertionEffect=function(T,z){return re.current.useInsertionEffect(T,z)},Pe.useLayoutEffect=function(T,z){return re.current.useLayoutEffect(T,z)},Pe.useMemo=function(T,z){return re.current.useMemo(T,z)},Pe.useReducer=function(T,z,se){return re.current.useReducer(T,z,se)},Pe.useRef=function(T){return re.current.useRef(T)},Pe.useState=function(T){return re.current.useState(T)},Pe.useSyncExternalStore=function(T,z,se){return re.current.useSyncExternalStore(T,z,se)},Pe.useTransition=function(){return re.current.useTransition()},Pe.version="18.3.1",Pe}var bm;function Du(){return bm||(bm=1,Vc.exports=vE()),Vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function EE(){if(zm)return Ta;zm=1;var t=Du(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(h,c,d){var m,p={},y=null,E=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(E=c.ref);for(m in c)i.call(c,m)&&!o.hasOwnProperty(m)&&(p[m]=c[m]);if(h&&h.defaultProps)for(m in c=h.defaultProps,c)p[m]===void 0&&(p[m]=c[m]);return{$$typeof:e,type:h,key:y,ref:E,props:p,_owner:s.current}}return Ta.Fragment=n,Ta.jsx=l,Ta.jsxs=l,Ta}var Um;function wE(){return Um||(Um=1,Xc.exports=EE()),Xc.exports}var ze=wE(),U=Du();const sd=yE(U);var zl={},Kc={exports:{}},ln={},qc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function ME(){return Gm||(Gm=1,function(t){function e(W,ne){var $=W.length;W.push(ne);e:for(;0<$;){var T=$-1>>>1,z=W[T];if(0<s(z,ne))W[T]=ne,W[$]=z,$=T;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ne=W[0],$=W.pop();if($!==ne){W[0]=$;e:for(var T=0,z=W.length,se=z>>>1;T<se;){var le=2*(T+1)-1,fe=W[le],me=le+1,ye=W[me];if(0>s(fe,$))me<z&&0>s(ye,fe)?(W[T]=ye,W[me]=$,T=me):(W[T]=fe,W[le]=$,T=le);else if(me<z&&0>s(ye,$))W[T]=ye,W[me]=$,T=me;else break e}}return ne}function s(W,ne){var $=W.sortIndex-ne.sortIndex;return $!==0?$:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var c=[],d=[],m=1,p=null,y=3,E=!1,v=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var ne=n(d);ne!==null;){if(ne.callback===null)i(d);else if(ne.startTime<=W)i(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function A(W){if(M=!1,L(W),!v)if(n(c)!==null)v=!0,_e(P);else{var ne=n(d);ne!==null&&re(A,ne.startTime-W)}}function P(W,ne){v=!1,M&&(M=!1,R(D),D=-1),E=!0;var $=y;try{for(L(ne),p=n(c);p!==null&&(!(p.expirationTime>ne)||W&&!ie());){var T=p.callback;if(typeof T=="function"){p.callback=null,y=p.priorityLevel;var z=T(p.expirationTime<=ne);ne=t.unstable_now(),typeof z=="function"?p.callback=z:p===n(c)&&i(c),L(ne)}else i(c);p=n(c)}if(p!==null)var se=!0;else{var le=n(d);le!==null&&re(A,le.startTime-ne),se=!1}return se}finally{p=null,y=$,E=!1}}var b=!1,V=null,D=-1,j=5,G=-1;function ie(){return!(t.unstable_now()-G<j)}function ee(){if(V!==null){var W=t.unstable_now();G=W;var ne=!0;try{ne=V(!0,W)}finally{ne?Q():(b=!1,V=null)}}else b=!1}var Q;if(typeof S=="function")Q=function(){S(ee)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=ee,Q=function(){te.postMessage(null)}}else Q=function(){x(ee,0)};function _e(W){V=W,b||(b=!0,Q())}function re(W,ne){D=x(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||E||(v=!0,_e(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var $=y;y=ne;try{return W()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=y;y=W;try{return ne()}finally{y=$}},t.unstable_scheduleCallback=function(W,ne,$){var T=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?T+$:T):$=T,W){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,W={id:m++,callback:ne,priorityLevel:W,startTime:$,expirationTime:z,sortIndex:-1},$>T?(W.sortIndex=$,e(d,W),n(c)===null&&W===n(d)&&(M?(R(D),D=-1):M=!0,re(A,$-T))):(W.sortIndex=z,e(c,W),v||E||(v=!0,_e(P))),W},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(W){var ne=y;return function(){var $=y;y=ne;try{return W.apply(this,arguments)}finally{y=$}}}}(Hc)),Hc}var jm;function xE(){return jm||(jm=1,qc.exports=ME()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function RE(){if(Bm)return ln;Bm=1;var t=Du(),e=xE();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(r,a){l(r,a),l(r+"Capture",a)}function l(r,a){for(s[r]=a,r=0;r<a.length;r++)i.add(a[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function y(r){return c.call(p,r)?!0:c.call(m,r)?!1:d.test(r)?p[r]=!0:(m[r]=!0,!1)}function E(r,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function v(r,a,u,f){if(a===null||typeof a>"u"||E(r,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function M(r,a,u,f,g,_,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=r,this.type=a,this.sanitizeURL=_,this.removeEmptyString=w}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];x[a]=new M(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function S(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(R,S);x[a]=new M(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(R,S);x[a]=new M(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(R,S);x[a]=new M(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function L(r,a,u,f){var g=x.hasOwnProperty(a)?x[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(v(a,u,g,f)&&(u=null),f||g===null?y(a)&&(u===null?r.removeAttribute(a):r.setAttribute(a,""+u)):g.mustUseProperty?r[g.propertyName]=u===null?g.type===3?!1:"":u:(a=g.attributeName,f=g.attributeNamespace,u===null?r.removeAttribute(a):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?r.setAttributeNS(f,a,u):r.setAttribute(a,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),b=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ie=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var $=Object.assign,T;function z(r){if(T===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);T=a&&a[1]||""}return`
`+T+r}var se=!1;function le(r,a){if(!r||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(F){var f=F}Reflect.construct(r,[],a)}else{try{a.call()}catch(F){f=F}r.call(a.prototype)}else{try{throw Error()}catch(F){f=F}r()}}catch(F){if(F&&f&&typeof F.stack=="string"){for(var g=F.stack.split(`
`),_=f.stack.split(`
`),w=g.length-1,C=_.length-1;1<=w&&0<=C&&g[w]!==_[C];)C--;for(;1<=w&&0<=C;w--,C--)if(g[w]!==_[C]){if(w!==1||C!==1)do if(w--,C--,0>C||g[w]!==_[C]){var I=`
`+g[w].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=w&&0<=C);break}}}finally{se=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?z(r):""}function fe(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=le(r.type,!1),r;case 11:return r=le(r.type.render,!1),r;case 1:return r=le(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case b:return"Portal";case j:return"Profiler";case D:return"StrictMode";case Q:return"Suspense";case ae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ie:return(r.displayName||"Context")+".Consumer";case G:return(r._context.displayName||"Context")+".Provider";case ee:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case te:return a=r.displayName||null,a!==null?a:me(r.type)||"Memo";case _e:a=r._payload,r=r._init;try{return me(r(a))}catch{}}return null}function ye(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Se(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Oe(r){var a=Se(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,_.call(this,w)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function wt(r){r._valueTracker||(r._valueTracker=Oe(r))}function at(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=Se(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function Ae(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ne(r,a){var u=a.checked;return $({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function nt(r,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Ee(a.value!=null?a.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ue(r,a){a=a.checked,a!=null&&L(r,"checked",a,!1)}function qe(r,a){Ue(r,a);var u=Ee(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Ze(r,a.type,u):a.hasOwnProperty("defaultValue")&&Ze(r,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function _t(r,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,u||a===r.value||(r.value=a),r.defaultValue=a}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ze(r,a,u){(a!=="number"||Ae(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var Qe=Array.isArray;function yt(r,a,u,f){if(r=r.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=a.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Ee(u),a=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function wn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return $({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Mn(r,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Qe(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}r._wrapperState={initialValue:Ee(u)}}function li(r,a){var u=Ee(a.value),f=Ee(a.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),a.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function $e(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function tn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ui(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?tn(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pi,hi=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,g){MSApp.execUnsafeLocalFunction(function(){return r(a,u,f,g)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Pi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Li(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oh=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(r){oh.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Vn[a]=Vn[r]})});function Gr(r,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Vn.hasOwnProperty(r)&&Vn[r]?(""+a).trim():a+"px"}function X(r,a){r=r.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Gr(u,a[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,g):r[u]=g}}var H=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Le(r,a){if(a){if(H[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Je(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function Vt(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var et=null,dt=null,Ft=null;function ci(r){if(r=fa(r)){if(typeof et!="function")throw Error(n(280));var a=r.stateNode;a&&(a=Jo(a),et(r.stateNode,r.type,a))}}function e0(r){dt?Ft?Ft.push(r):Ft=[r]:dt=r}function t0(){if(dt){var r=dt,a=Ft;if(Ft=dt=null,ci(r),a)for(r=0;r<a.length;r++)ci(a[r])}}function n0(r,a){return r(a)}function i0(){}var lh=!1;function r0(r,a,u){if(lh)return r(a,u);lh=!0;try{return n0(r,a,u)}finally{lh=!1,(dt!==null||Ft!==null)&&(i0(),t0())}}function Xs(r,a){var u=r.stateNode;if(u===null)return null;var f=Jo(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var uh=!1;if(h)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){uh=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{uh=!1}function xy(r,a,u,f,g,_,w,C,I){var F=Array.prototype.slice.call(arguments,3);try{a.apply(u,F)}catch(q){this.onError(q)}}var Ks=!1,Lo=null,Oo=!1,hh=null,Ry={onError:function(r){Ks=!0,Lo=r}};function Cy(r,a,u,f,g,_,w,C,I){Ks=!1,Lo=null,xy.apply(Ry,arguments)}function Sy(r,a,u,f,g,_,w,C,I){if(Cy.apply(this,arguments),Ks){if(Ks){var F=Lo;Ks=!1,Lo=null}else throw Error(n(198));Oo||(Oo=!0,hh=F)}}function mr(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function s0(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function a0(r){if(mr(r)!==r)throw Error(n(188))}function Ty(r){var a=r.alternate;if(!a){if(a=mr(r),a===null)throw Error(n(188));return a!==r?null:r}for(var u=r,f=a;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return a0(g),r;if(_===f)return a0(g),a;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var w=!1,C=g.child;C;){if(C===u){w=!0,u=g,f=_;break}if(C===f){w=!0,f=g,u=_;break}C=C.sibling}if(!w){for(C=_.child;C;){if(C===u){w=!0,u=_,f=g;break}if(C===f){w=!0,f=_,u=g;break}C=C.sibling}if(!w)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:a}function o0(r){return r=Ty(r),r!==null?l0(r):null}function l0(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=l0(r);if(a!==null)return a;r=r.sibling}return null}var u0=e.unstable_scheduleCallback,h0=e.unstable_cancelCallback,Iy=e.unstable_shouldYield,Ay=e.unstable_requestPaint,vt=e.unstable_now,Py=e.unstable_getCurrentPriorityLevel,ch=e.unstable_ImmediatePriority,c0=e.unstable_UserBlockingPriority,No=e.unstable_NormalPriority,Ly=e.unstable_LowPriority,f0=e.unstable_IdlePriority,ko=null,Kn=null;function Oy(r){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(ko,r,void 0,(r.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:Dy,Ny=Math.log,ky=Math.LN2;function Dy(r){return r>>>=0,r===0?32:31-(Ny(r)/ky|0)|0}var Do=64,Fo=4194304;function qs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function bo(r,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,_=r.pingedLanes,w=u&268435455;if(w!==0){var C=w&~g;C!==0?f=qs(C):(_&=w,_!==0&&(f=qs(_)))}else w=u&~g,w!==0?f=qs(w):_!==0&&(f=qs(_));if(f===0)return 0;if(a!==0&&a!==f&&!(a&g)&&(g=f&-f,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if(f&4&&(f|=u&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=f;0<a;)u=31-kn(a),g=1<<u,f|=r[u],a&=~g;return f}function Fy(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function by(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,_=r.pendingLanes;0<_;){var w=31-kn(_),C=1<<w,I=g[w];I===-1?(!(C&u)||C&f)&&(g[w]=Fy(C,a)):I<=a&&(r.expiredLanes|=C),_&=~C}}function fh(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function d0(){var r=Do;return Do<<=1,!(Do&4194240)&&(Do=64),r}function dh(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Hs(r,a,u){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-kn(a),r[a]=u}function zy(r,a){var u=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var g=31-kn(u),_=1<<g;a[g]=0,f[g]=-1,r[g]=-1,u&=~_}}function gh(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-kn(u),g=1<<f;g&a|r[f]&a&&(r[f]|=a),u&=~g}}var He=0;function g0(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var m0,mh,p0,_0,y0,ph=!1,zo=[],Oi=null,Ni=null,ki=null,Ys=new Map,Zs=new Map,Di=[],Uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v0(r,a){switch(r){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Ys.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(a.pointerId)}}function Qs(r,a,u,f,g,_){return r===null||r.nativeEvent!==_?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},a!==null&&(a=fa(a),a!==null&&mh(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function Gy(r,a,u,f,g){switch(a){case"focusin":return Oi=Qs(Oi,r,a,u,f,g),!0;case"dragenter":return Ni=Qs(Ni,r,a,u,f,g),!0;case"mouseover":return ki=Qs(ki,r,a,u,f,g),!0;case"pointerover":var _=g.pointerId;return Ys.set(_,Qs(Ys.get(_)||null,r,a,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Zs.set(_,Qs(Zs.get(_)||null,r,a,u,f,g)),!0}return!1}function E0(r){var a=pr(r.target);if(a!==null){var u=mr(a);if(u!==null){if(a=u.tag,a===13){if(a=s0(u),a!==null){r.blockedOn=a,y0(r.priority,function(){p0(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uo(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=yh(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);St=f,u.target.dispatchEvent(f),St=null}else return a=fa(u),a!==null&&mh(a),r.blockedOn=u,!1;a.shift()}return!0}function w0(r,a,u){Uo(r)&&u.delete(a)}function jy(){ph=!1,Oi!==null&&Uo(Oi)&&(Oi=null),Ni!==null&&Uo(Ni)&&(Ni=null),ki!==null&&Uo(ki)&&(ki=null),Ys.forEach(w0),Zs.forEach(w0)}function Js(r,a){r.blockedOn===a&&(r.blockedOn=null,ph||(ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jy)))}function ea(r){function a(g){return Js(g,r)}if(0<zo.length){Js(zo[0],r);for(var u=1;u<zo.length;u++){var f=zo[u];f.blockedOn===r&&(f.blockedOn=null)}}for(Oi!==null&&Js(Oi,r),Ni!==null&&Js(Ni,r),ki!==null&&Js(ki,r),Ys.forEach(a),Zs.forEach(a),u=0;u<Di.length;u++)f=Di[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<Di.length&&(u=Di[0],u.blockedOn===null);)E0(u),u.blockedOn===null&&Di.shift()}var jr=A.ReactCurrentBatchConfig,Go=!0;function By(r,a,u,f){var g=He,_=jr.transition;jr.transition=null;try{He=1,_h(r,a,u,f)}finally{He=g,jr.transition=_}}function $y(r,a,u,f){var g=He,_=jr.transition;jr.transition=null;try{He=4,_h(r,a,u,f)}finally{He=g,jr.transition=_}}function _h(r,a,u,f){if(Go){var g=yh(r,a,u,f);if(g===null)Dh(r,a,f,jo,u),v0(r,f);else if(Gy(g,r,a,u,f))f.stopPropagation();else if(v0(r,f),a&4&&-1<Uy.indexOf(r)){for(;g!==null;){var _=fa(g);if(_!==null&&m0(_),_=yh(r,a,u,f),_===null&&Dh(r,a,f,jo,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else Dh(r,a,f,null,u)}}var jo=null;function yh(r,a,u,f){if(jo=null,r=Vt(f),r=pr(r),r!==null)if(a=mr(r),a===null)r=null;else if(u=a.tag,u===13){if(r=s0(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return jo=r,null}function M0(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Py()){case ch:return 1;case c0:return 4;case No:case Ly:return 16;case f0:return 536870912;default:return 16}default:return 16}}var Fi=null,vh=null,Bo=null;function x0(){if(Bo)return Bo;var r,a=vh,u=a.length,f,g="value"in Fi?Fi.value:Fi.textContent,_=g.length;for(r=0;r<u&&a[r]===g[r];r++);var w=u-r;for(f=1;f<=w&&a[u-f]===g[_-f];f++);return Bo=g.slice(r,1<f?1-f:void 0)}function $o(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Wo(){return!0}function R0(){return!1}function pn(r){function a(u,f,g,_,w){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(u=r[C],this[C]=u?u(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wo:R0,this.isPropagationStopped=R0,this}return $(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),a}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=pn(Br),ta=$({},Br,{view:0,detail:0}),Wy=pn(ta),wh,Mh,na,Xo=$({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==na&&(na&&r.type==="mousemove"?(wh=r.screenX-na.screenX,Mh=r.screenY-na.screenY):Mh=wh=0,na=r),wh)},movementY:function(r){return"movementY"in r?r.movementY:Mh}}),C0=pn(Xo),Xy=$({},Xo,{dataTransfer:0}),Vy=pn(Xy),Ky=$({},ta,{relatedTarget:0}),xh=pn(Ky),qy=$({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=pn(qy),Yy=$({},Br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zy=pn(Yy),Qy=$({},Br,{data:0}),S0=pn(Qy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=tv[r])?!!a[r]:!1}function Rh(){return nv}var iv=$({},ta,{key:function(r){if(r.key){var a=Jy[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=$o(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ev[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(r){return r.type==="keypress"?$o(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$o(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rv=pn(iv),sv=$({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T0=pn(sv),av=$({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),ov=pn(av),lv=$({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=pn(lv),hv=$({},Xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=pn(hv),fv=[9,13,27,32],Ch=h&&"CompositionEvent"in window,ia=null;h&&"documentMode"in document&&(ia=document.documentMode);var dv=h&&"TextEvent"in window&&!ia,I0=h&&(!Ch||ia&&8<ia&&11>=ia),A0=" ",P0=!1;function L0(r,a){switch(r){case"keyup":return fv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $r=!1;function gv(r,a){switch(r){case"compositionend":return O0(a);case"keypress":return a.which!==32?null:(P0=!0,A0);case"textInput":return r=a.data,r===A0&&P0?null:r;default:return null}}function mv(r,a){if($r)return r==="compositionend"||!Ch&&L0(r,a)?(r=x0(),Bo=vh=Fi=null,$r=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return I0&&a.locale!=="ko"?null:a.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!pv[r.type]:a==="textarea"}function k0(r,a,u,f){e0(f),a=Yo(a,"onChange"),0<a.length&&(u=new Eh("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var ra=null,sa=null;function _v(r){Q0(r,0)}function Vo(r){var a=qr(r);if(at(a))return r}function yv(r,a){if(r==="change")return a}var D0=!1;if(h){var Sh;if(h){var Th="oninput"in document;if(!Th){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Th=typeof F0.oninput=="function"}Sh=Th}else Sh=!1;D0=Sh&&(!document.documentMode||9<document.documentMode)}function b0(){ra&&(ra.detachEvent("onpropertychange",z0),sa=ra=null)}function z0(r){if(r.propertyName==="value"&&Vo(sa)){var a=[];k0(a,sa,r,Vt(r)),r0(_v,a)}}function vv(r,a,u){r==="focusin"?(b0(),ra=a,sa=u,ra.attachEvent("onpropertychange",z0)):r==="focusout"&&b0()}function Ev(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vo(sa)}function wv(r,a){if(r==="click")return Vo(a)}function Mv(r,a){if(r==="input"||r==="change")return Vo(a)}function xv(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Dn=typeof Object.is=="function"?Object.is:xv;function aa(r,a){if(Dn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!c.call(a,g)||!Dn(r[g],a[g]))return!1}return!0}function U0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function G0(r,a){var u=U0(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=U0(u)}}function j0(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?j0(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function B0(){for(var r=window,a=Ae();a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Ae(r.document)}return a}function Ih(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Rv(r){var a=B0(),u=r.focusedElem,f=r.selectionRange;if(a!==u&&u&&u.ownerDocument&&j0(u.ownerDocument.documentElement,u)){if(f!==null&&Ih(u)){if(a=f.start,r=f.end,r===void 0&&(r=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(r,u.value.length);else if(r=(a=u.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!r.extend&&_>f&&(g=f,f=_,_=g),g=G0(u,_);var w=G0(u,f);g&&w&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),_>f?(r.addRange(a),r.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),r.addRange(a)))}}for(a=[],r=u;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)r=a[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Cv=h&&"documentMode"in document&&11>=document.documentMode,Wr=null,Ah=null,oa=null,Ph=!1;function $0(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ph||Wr==null||Wr!==Ae(f)||(f=Wr,"selectionStart"in f&&Ih(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),oa&&aa(oa,f)||(oa=f,f=Yo(Ah,"onSelect"),0<f.length&&(a=new Eh("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=Wr)))}function Ko(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Xr={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},Lh={},W0={};h&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function qo(r){if(Lh[r])return Lh[r];if(!Xr[r])return r;var a=Xr[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in W0)return Lh[r]=a[u];return r}var X0=qo("animationend"),V0=qo("animationiteration"),K0=qo("animationstart"),q0=qo("transitionend"),H0=new Map,Y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,a){H0.set(r,a),o(a,[r])}for(var Oh=0;Oh<Y0.length;Oh++){var Nh=Y0[Oh],Sv=Nh.toLowerCase(),Tv=Nh[0].toUpperCase()+Nh.slice(1);bi(Sv,"on"+Tv)}bi(X0,"onAnimationEnd"),bi(V0,"onAnimationIteration"),bi(K0,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(q0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Z0(r,a,u){var f=r.type||"unknown-event";r.currentTarget=u,Sy(f,a,void 0,r),r.currentTarget=null}function Q0(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var w=f.length-1;0<=w;w--){var C=f[w],I=C.instance,F=C.currentTarget;if(C=C.listener,I!==_&&g.isPropagationStopped())break e;Z0(g,C,F),_=I}else for(w=0;w<f.length;w++){if(C=f[w],I=C.instance,F=C.currentTarget,C=C.listener,I!==_&&g.isPropagationStopped())break e;Z0(g,C,F),_=I}}}if(Oo)throw r=hh,Oo=!1,hh=null,r}function rt(r,a){var u=a[jh];u===void 0&&(u=a[jh]=new Set);var f=r+"__bubble";u.has(f)||(J0(a,r,2,!1),u.add(f))}function kh(r,a,u){var f=0;a&&(f|=4),J0(u,r,f,a)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function ua(r){if(!r[Ho]){r[Ho]=!0,i.forEach(function(u){u!=="selectionchange"&&(Iv.has(u)||kh(u,!1,r),kh(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Ho]||(a[Ho]=!0,kh("selectionchange",!1,a))}}function J0(r,a,u,f){switch(M0(a)){case 1:var g=By;break;case 4:g=$y;break;default:g=_h}u=g.bind(null,a,u,r),g=void 0,!uh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(a,u,{capture:!0,passive:g}):r.addEventListener(a,u,!0):g!==void 0?r.addEventListener(a,u,{passive:g}):r.addEventListener(a,u,!1)}function Dh(r,a,u,f,g){var _=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var C=f.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;w=w.return}for(;C!==null;){if(w=pr(C),w===null)return;if(I=w.tag,I===5||I===6){f=_=w;continue e}C=C.parentNode}}f=f.return}r0(function(){var F=_,q=Vt(u),Z=[];e:{var K=H0.get(r);if(K!==void 0){var he=Eh,ge=r;switch(r){case"keypress":if($o(u)===0)break e;case"keydown":case"keyup":he=rv;break;case"focusin":ge="focus",he=xh;break;case"focusout":ge="blur",he=xh;break;case"beforeblur":case"afterblur":he=xh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=ov;break;case X0:case V0:case K0:he=Hy;break;case q0:he=uv;break;case"scroll":he=Wy;break;case"wheel":he=cv;break;case"copy":case"cut":case"paste":he=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=T0}var pe=(a&4)!==0,Et=!pe&&r==="scroll",N=pe?K!==null?K+"Capture":null:K;pe=[];for(var O=F,k;O!==null;){k=O;var J=k.stateNode;if(k.tag===5&&J!==null&&(k=J,N!==null&&(J=Xs(O,N),J!=null&&pe.push(ha(O,J,k)))),Et)break;O=O.return}0<pe.length&&(K=new he(K,ge,null,u,q),Z.push({event:K,listeners:pe}))}}if(!(a&7)){e:{if(K=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",K&&u!==St&&(ge=u.relatedTarget||u.fromElement)&&(pr(ge)||ge[fi]))break e;if((he||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,he?(ge=u.relatedTarget||u.toElement,he=F,ge=ge?pr(ge):null,ge!==null&&(Et=mr(ge),ge!==Et||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=F),he!==ge)){if(pe=C0,J="onMouseLeave",N="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(pe=T0,J="onPointerLeave",N="onPointerEnter",O="pointer"),Et=he==null?K:qr(he),k=ge==null?K:qr(ge),K=new pe(J,O+"leave",he,u,q),K.target=Et,K.relatedTarget=k,J=null,pr(q)===F&&(pe=new pe(N,O+"enter",ge,u,q),pe.target=k,pe.relatedTarget=Et,J=pe),Et=J,he&&ge)t:{for(pe=he,N=ge,O=0,k=pe;k;k=Vr(k))O++;for(k=0,J=N;J;J=Vr(J))k++;for(;0<O-k;)pe=Vr(pe),O--;for(;0<k-O;)N=Vr(N),k--;for(;O--;){if(pe===N||N!==null&&pe===N.alternate)break t;pe=Vr(pe),N=Vr(N)}pe=null}else pe=null;he!==null&&eg(Z,K,he,pe,!1),ge!==null&&Et!==null&&eg(Z,Et,ge,pe,!0)}}e:{if(K=F?qr(F):window,he=K.nodeName&&K.nodeName.toLowerCase(),he==="select"||he==="input"&&K.type==="file")var ve=yv;else if(N0(K))if(D0)ve=Mv;else{ve=Ev;var we=vv}else(he=K.nodeName)&&he.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ve=wv);if(ve&&(ve=ve(r,F))){k0(Z,ve,u,q);break e}we&&we(r,K,F),r==="focusout"&&(we=K._wrapperState)&&we.controlled&&K.type==="number"&&Ze(K,"number",K.value)}switch(we=F?qr(F):window,r){case"focusin":(N0(we)||we.contentEditable==="true")&&(Wr=we,Ah=F,oa=null);break;case"focusout":oa=Ah=Wr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,$0(Z,u,q);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":$0(Z,u,q)}var Me;if(Ch)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $r?L0(r,u)&&(xe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xe="onCompositionStart");xe&&(I0&&u.locale!=="ko"&&($r||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$r&&(Me=x0()):(Fi=q,vh="value"in Fi?Fi.value:Fi.textContent,$r=!0)),we=Yo(F,xe),0<we.length&&(xe=new S0(xe,r,null,u,q),Z.push({event:xe,listeners:we}),Me?xe.data=Me:(Me=O0(u),Me!==null&&(xe.data=Me)))),(Me=dv?gv(r,u):mv(r,u))&&(F=Yo(F,"onBeforeInput"),0<F.length&&(q=new S0("onBeforeInput","beforeinput",null,u,q),Z.push({event:q,listeners:F}),q.data=Me))}Q0(Z,a)})}function ha(r,a,u){return{instance:r,listener:a,currentTarget:u}}function Yo(r,a){for(var u=a+"Capture",f=[];r!==null;){var g=r,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Xs(r,u),_!=null&&f.unshift(ha(r,_,g)),_=Xs(r,a),_!=null&&f.push(ha(r,_,g))),r=r.return}return f}function Vr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function eg(r,a,u,f,g){for(var _=a._reactName,w=[];u!==null&&u!==f;){var C=u,I=C.alternate,F=C.stateNode;if(I!==null&&I===f)break;C.tag===5&&F!==null&&(C=F,g?(I=Xs(u,_),I!=null&&w.unshift(ha(u,I,C))):g||(I=Xs(u,_),I!=null&&w.push(ha(u,I,C)))),u=u.return}w.length!==0&&r.push({event:a,listeners:w})}var Av=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function tg(r){return(typeof r=="string"?r:""+r).replace(Av,`
`).replace(Pv,"")}function Zo(r,a,u){if(a=tg(a),tg(r)!==a&&u)throw Error(n(425))}function Qo(){}var Fh=null,bh=null;function zh(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(r){return ng.resolve(null).then(r).catch(Nv)}:Uh;function Nv(r){setTimeout(function(){throw r})}function Gh(r,a){var u=a,f=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){r.removeChild(g),ea(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);ea(a)}function zi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function ig(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),qn="__reactFiber$"+Kr,ca="__reactProps$"+Kr,fi="__reactContainer$"+Kr,jh="__reactEvents$"+Kr,kv="__reactListeners$"+Kr,Dv="__reactHandles$"+Kr;function pr(r){var a=r[qn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[fi]||u[qn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=ig(r);r!==null;){if(u=r[qn])return u;r=ig(r)}return a}r=u,u=r.parentNode}return null}function fa(r){return r=r[qn]||r[fi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Jo(r){return r[ca]||null}var Bh=[],Hr=-1;function Ui(r){return{current:r}}function st(r){0>Hr||(r.current=Bh[Hr],Bh[Hr]=null,Hr--)}function it(r,a){Hr++,Bh[Hr]=r.current,r.current=a}var Gi={},bt=Ui(Gi),nn=Ui(!1),_r=Gi;function Yr(r,a){var u=r.type.contextTypes;if(!u)return Gi;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=a[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function rn(r){return r=r.childContextTypes,r!=null}function el(){st(nn),st(bt)}function rg(r,a,u){if(bt.current!==Gi)throw Error(n(168));it(bt,a),it(nn,u)}function sg(r,a,u){var f=r.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(n(108,ye(r)||"Unknown",g));return $({},u,f)}function tl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Gi,_r=bt.current,it(bt,r),it(nn,nn.current),!0}function ag(r,a,u){var f=r.stateNode;if(!f)throw Error(n(169));u?(r=sg(r,a,_r),f.__reactInternalMemoizedMergedChildContext=r,st(nn),st(bt),it(bt,r)):st(nn),it(nn,u)}var di=null,nl=!1,$h=!1;function og(r){di===null?di=[r]:di.push(r)}function Fv(r){nl=!0,og(r)}function ji(){if(!$h&&di!==null){$h=!0;var r=0,a=He;try{var u=di;for(He=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}di=null,nl=!1}catch(g){throw di!==null&&(di=di.slice(r+1)),u0(ch,ji),g}finally{He=a,$h=!1}}return null}var Zr=[],Qr=0,il=null,rl=0,xn=[],Rn=0,yr=null,gi=1,mi="";function vr(r,a){Zr[Qr++]=rl,Zr[Qr++]=il,il=r,rl=a}function lg(r,a,u){xn[Rn++]=gi,xn[Rn++]=mi,xn[Rn++]=yr,yr=r;var f=gi;r=mi;var g=32-kn(f)-1;f&=~(1<<g),u+=1;var _=32-kn(a)+g;if(30<_){var w=g-g%5;_=(f&(1<<w)-1).toString(32),f>>=w,g-=w,gi=1<<32-kn(a)+g|u<<g|f,mi=_+r}else gi=1<<_|u<<g|f,mi=r}function Wh(r){r.return!==null&&(vr(r,1),lg(r,1,0))}function Xh(r){for(;r===il;)il=Zr[--Qr],Zr[Qr]=null,rl=Zr[--Qr],Zr[Qr]=null;for(;r===yr;)yr=xn[--Rn],xn[Rn]=null,mi=xn[--Rn],xn[Rn]=null,gi=xn[--Rn],xn[Rn]=null}var _n=null,yn=null,ot=!1,Fn=null;function ug(r,a){var u=In(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=r,a=r.deletions,a===null?(r.deletions=[u],r.flags|=16):a.push(u)}function hg(r,a){switch(r.tag){case 5:var u=r.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,_n=r,yn=zi(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,_n=r,yn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=yr!==null?{id:gi,overflow:mi}:null,r.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=In(18,null,null,0),u.stateNode=a,u.return=r,r.child=u,_n=r,yn=null,!0):!1;default:return!1}}function Vh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kh(r){if(ot){var a=yn;if(a){var u=a;if(!hg(r,a)){if(Vh(r))throw Error(n(418));a=zi(u.nextSibling);var f=_n;a&&hg(r,a)?ug(f,u):(r.flags=r.flags&-4097|2,ot=!1,_n=r)}}else{if(Vh(r))throw Error(n(418));r.flags=r.flags&-4097|2,ot=!1,_n=r}}}function cg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;_n=r}function sl(r){if(r!==_n)return!1;if(!ot)return cg(r),ot=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!zh(r.type,r.memoizedProps)),a&&(a=yn)){if(Vh(r))throw fg(),Error(n(418));for(;a;)ug(r,a),a=zi(a.nextSibling)}if(cg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(a===0){yn=zi(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}r=r.nextSibling}yn=null}}else yn=_n?zi(r.stateNode.nextSibling):null;return!0}function fg(){for(var r=yn;r;)r=zi(r.nextSibling)}function Jr(){yn=_n=null,ot=!1}function qh(r){Fn===null?Fn=[r]:Fn.push(r)}var bv=A.ReactCurrentBatchConfig;function da(r,a,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,r));var g=f,_=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(w){var C=g.refs;w===null?delete C[_]:C[_]=w},a._stringRef=_,a)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function al(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function dg(r){var a=r._init;return a(r._payload)}function gg(r){function a(N,O){if(r){var k=N.deletions;k===null?(N.deletions=[O],N.flags|=16):k.push(O)}}function u(N,O){if(!r)return null;for(;O!==null;)a(N,O),O=O.sibling;return null}function f(N,O){for(N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function g(N,O){return N=Hi(N,O),N.index=0,N.sibling=null,N}function _(N,O,k){return N.index=k,r?(k=N.alternate,k!==null?(k=k.index,k<O?(N.flags|=2,O):k):(N.flags|=2,O)):(N.flags|=1048576,O)}function w(N){return r&&N.alternate===null&&(N.flags|=2),N}function C(N,O,k,J){return O===null||O.tag!==6?(O=Uc(k,N.mode,J),O.return=N,O):(O=g(O,k),O.return=N,O)}function I(N,O,k,J){var ve=k.type;return ve===V?q(N,O,k.props.children,J,k.key):O!==null&&(O.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_e&&dg(ve)===O.type)?(J=g(O,k.props),J.ref=da(N,O,k),J.return=N,J):(J=Pl(k.type,k.key,k.props,null,N.mode,J),J.ref=da(N,O,k),J.return=N,J)}function F(N,O,k,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Gc(k,N.mode,J),O.return=N,O):(O=g(O,k.children||[]),O.return=N,O)}function q(N,O,k,J,ve){return O===null||O.tag!==7?(O=Tr(k,N.mode,J,ve),O.return=N,O):(O=g(O,k),O.return=N,O)}function Z(N,O,k){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Uc(""+O,N.mode,k),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return k=Pl(O.type,O.key,O.props,null,N.mode,k),k.ref=da(N,null,O),k.return=N,k;case b:return O=Gc(O,N.mode,k),O.return=N,O;case _e:var J=O._init;return Z(N,J(O._payload),k)}if(Qe(O)||ne(O))return O=Tr(O,N.mode,k,null),O.return=N,O;al(N,O)}return null}function K(N,O,k,J){var ve=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return ve!==null?null:C(N,O,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return k.key===ve?I(N,O,k,J):null;case b:return k.key===ve?F(N,O,k,J):null;case _e:return ve=k._init,K(N,O,ve(k._payload),J)}if(Qe(k)||ne(k))return ve!==null?null:q(N,O,k,J,null);al(N,k)}return null}function he(N,O,k,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number")return N=N.get(k)||null,C(O,N,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return N=N.get(J.key===null?k:J.key)||null,I(O,N,J,ve);case b:return N=N.get(J.key===null?k:J.key)||null,F(O,N,J,ve);case _e:var we=J._init;return he(N,O,k,we(J._payload),ve)}if(Qe(J)||ne(J))return N=N.get(k)||null,q(O,N,J,ve,null);al(O,J)}return null}function ge(N,O,k,J){for(var ve=null,we=null,Me=O,xe=O=0,At=null;Me!==null&&xe<k.length;xe++){Me.index>xe?(At=Me,Me=null):At=Me.sibling;var Ge=K(N,Me,k[xe],J);if(Ge===null){Me===null&&(Me=At);break}r&&Me&&Ge.alternate===null&&a(N,Me),O=_(Ge,O,xe),we===null?ve=Ge:we.sibling=Ge,we=Ge,Me=At}if(xe===k.length)return u(N,Me),ot&&vr(N,xe),ve;if(Me===null){for(;xe<k.length;xe++)Me=Z(N,k[xe],J),Me!==null&&(O=_(Me,O,xe),we===null?ve=Me:we.sibling=Me,we=Me);return ot&&vr(N,xe),ve}for(Me=f(N,Me);xe<k.length;xe++)At=he(Me,N,xe,k[xe],J),At!==null&&(r&&At.alternate!==null&&Me.delete(At.key===null?xe:At.key),O=_(At,O,xe),we===null?ve=At:we.sibling=At,we=At);return r&&Me.forEach(function(Yi){return a(N,Yi)}),ot&&vr(N,xe),ve}function pe(N,O,k,J){var ve=ne(k);if(typeof ve!="function")throw Error(n(150));if(k=ve.call(k),k==null)throw Error(n(151));for(var we=ve=null,Me=O,xe=O=0,At=null,Ge=k.next();Me!==null&&!Ge.done;xe++,Ge=k.next()){Me.index>xe?(At=Me,Me=null):At=Me.sibling;var Yi=K(N,Me,Ge.value,J);if(Yi===null){Me===null&&(Me=At);break}r&&Me&&Yi.alternate===null&&a(N,Me),O=_(Yi,O,xe),we===null?ve=Yi:we.sibling=Yi,we=Yi,Me=At}if(Ge.done)return u(N,Me),ot&&vr(N,xe),ve;if(Me===null){for(;!Ge.done;xe++,Ge=k.next())Ge=Z(N,Ge.value,J),Ge!==null&&(O=_(Ge,O,xe),we===null?ve=Ge:we.sibling=Ge,we=Ge);return ot&&vr(N,xe),ve}for(Me=f(N,Me);!Ge.done;xe++,Ge=k.next())Ge=he(Me,N,xe,Ge.value,J),Ge!==null&&(r&&Ge.alternate!==null&&Me.delete(Ge.key===null?xe:Ge.key),O=_(Ge,O,xe),we===null?ve=Ge:we.sibling=Ge,we=Ge);return r&&Me.forEach(function(mE){return a(N,mE)}),ot&&vr(N,xe),ve}function Et(N,O,k,J){if(typeof k=="object"&&k!==null&&k.type===V&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case P:e:{for(var ve=k.key,we=O;we!==null;){if(we.key===ve){if(ve=k.type,ve===V){if(we.tag===7){u(N,we.sibling),O=g(we,k.props.children),O.return=N,N=O;break e}}else if(we.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_e&&dg(ve)===we.type){u(N,we.sibling),O=g(we,k.props),O.ref=da(N,we,k),O.return=N,N=O;break e}u(N,we);break}else a(N,we);we=we.sibling}k.type===V?(O=Tr(k.props.children,N.mode,J,k.key),O.return=N,N=O):(J=Pl(k.type,k.key,k.props,null,N.mode,J),J.ref=da(N,O,k),J.return=N,N=J)}return w(N);case b:e:{for(we=k.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){u(N,O.sibling),O=g(O,k.children||[]),O.return=N,N=O;break e}else{u(N,O);break}else a(N,O);O=O.sibling}O=Gc(k,N.mode,J),O.return=N,N=O}return w(N);case _e:return we=k._init,Et(N,O,we(k._payload),J)}if(Qe(k))return ge(N,O,k,J);if(ne(k))return pe(N,O,k,J);al(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,O!==null&&O.tag===6?(u(N,O.sibling),O=g(O,k),O.return=N,N=O):(u(N,O),O=Uc(k,N.mode,J),O.return=N,N=O),w(N)):u(N,O)}return Et}var es=gg(!0),mg=gg(!1),ol=Ui(null),ll=null,ts=null,Hh=null;function Yh(){Hh=ts=ll=null}function Zh(r){var a=ol.current;st(ol),r._currentValue=a}function Qh(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function ns(r,a){ll=r,Hh=ts=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(sn=!0),r.firstContext=null)}function Cn(r){var a=r._currentValue;if(Hh!==r)if(r={context:r,memoizedValue:a,next:null},ts===null){if(ll===null)throw Error(n(308));ts=r,ll.dependencies={lanes:0,firstContext:r}}else ts=ts.next=r;return a}var Er=null;function Jh(r){Er===null?Er=[r]:Er.push(r)}function pg(r,a,u,f){var g=a.interleaved;return g===null?(u.next=u,Jh(a)):(u.next=g.next,g.next=u),a.interleaved=u,pi(r,f)}function pi(r,a){r.lanes|=a;var u=r.alternate;for(u!==null&&(u.lanes|=a),u=r,r=r.return;r!==null;)r.childLanes|=a,u=r.alternate,u!==null&&(u.childLanes|=a),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Bi=!1;function ec(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function _i(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function $i(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,Fe&2){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,pi(r,u)}return g=f.interleaved,g===null?(a.next=a,Jh(f)):(a.next=g.next,g.next=a),f.interleaved=a,pi(r,u)}function ul(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,gh(r,u)}}function yg(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=w:_=_.next=w,u=u.next}while(u!==null);_===null?g=_=a:_=_.next=a}else g=_=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}function hl(r,a,u,f){var g=r.updateQueue;Bi=!1;var _=g.firstBaseUpdate,w=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var I=C,F=I.next;I.next=null,w===null?_=F:w.next=F,w=I;var q=r.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==w&&(C===null?q.firstBaseUpdate=F:C.next=F,q.lastBaseUpdate=I))}if(_!==null){var Z=g.baseState;w=0,q=F=I=null,C=_;do{var K=C.lane,he=C.eventTime;if((f&K)===K){q!==null&&(q=q.next={eventTime:he,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ge=r,pe=C;switch(K=a,he=u,pe.tag){case 1:if(ge=pe.payload,typeof ge=="function"){Z=ge.call(he,Z,K);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=pe.payload,K=typeof ge=="function"?ge.call(he,Z,K):ge,K==null)break e;Z=$({},Z,K);break e;case 2:Bi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,K=g.effects,K===null?g.effects=[C]:K.push(C))}else he={eventTime:he,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(F=q=he,I=Z):q=q.next=he,w|=K;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;K=C,C=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);if(q===null&&(I=Z),g.baseState=I,g.firstBaseUpdate=F,g.lastBaseUpdate=q,a=g.shared.interleaved,a!==null){g=a;do w|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);xr|=w,r.lanes=w,r.memoizedState=Z}}function vg(r,a,u){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var f=r[a],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var ga={},Hn=Ui(ga),ma=Ui(ga),pa=Ui(ga);function wr(r){if(r===ga)throw Error(n(174));return r}function tc(r,a){switch(it(pa,a),it(ma,r),it(Hn,ga),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ui(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=ui(a,r)}st(Hn),it(Hn,a)}function is(){st(Hn),st(ma),st(pa)}function Eg(r){wr(pa.current);var a=wr(Hn.current),u=ui(a,r.type);a!==u&&(it(ma,r),it(Hn,u))}function nc(r){ma.current===r&&(st(Hn),st(ma))}var lt=Ui(0);function cl(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ic=[];function rc(){for(var r=0;r<ic.length;r++)ic[r]._workInProgressVersionPrimary=null;ic.length=0}var fl=A.ReactCurrentDispatcher,sc=A.ReactCurrentBatchConfig,Mr=0,ut=null,xt=null,Tt=null,dl=!1,_a=!1,ya=0,zv=0;function zt(){throw Error(n(321))}function ac(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Dn(r[u],a[u]))return!1;return!0}function oc(r,a,u,f,g,_){if(Mr=_,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,fl.current=r===null||r.memoizedState===null?Bv:$v,r=u(f,g),_a){_=0;do{if(_a=!1,ya=0,25<=_)throw Error(n(301));_+=1,Tt=xt=null,a.updateQueue=null,fl.current=Wv,r=u(f,g)}while(_a)}if(fl.current=pl,a=xt!==null&&xt.next!==null,Mr=0,Tt=xt=ut=null,dl=!1,a)throw Error(n(300));return r}function lc(){var r=ya!==0;return ya=0,r}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ut.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function Sn(){if(xt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var a=Tt===null?ut.memoizedState:Tt.next;if(a!==null)Tt=a,xt=r;else{if(r===null)throw Error(n(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Tt===null?ut.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function va(r,a){return typeof a=="function"?a(r):a}function uc(r){var a=Sn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=xt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var w=g.next;g.next=_.next,_.next=w}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var C=w=null,I=null,F=_;do{var q=F.lane;if((Mr&q)===q)I!==null&&(I=I.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),f=F.hasEagerState?F.eagerState:r(f,F.action);else{var Z={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};I===null?(C=I=Z,w=f):I=I.next=Z,ut.lanes|=q,xr|=q}F=F.next}while(F!==null&&F!==_);I===null?w=f:I.next=C,Dn(f,a.memoizedState)||(sn=!0),a.memoizedState=f,a.baseState=w,a.baseQueue=I,u.lastRenderedState=f}if(r=u.interleaved,r!==null){g=r;do _=g.lane,ut.lanes|=_,xr|=_,g=g.next;while(g!==r)}else g===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function hc(r){var a=Sn(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,_=a.memoizedState;if(g!==null){u.pending=null;var w=g=g.next;do _=r(_,w.action),w=w.next;while(w!==g);Dn(_,a.memoizedState)||(sn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function wg(){}function Mg(r,a){var u=ut,f=Sn(),g=a(),_=!Dn(f.memoizedState,g);if(_&&(f.memoizedState=g,sn=!0),f=f.queue,cc(Cg.bind(null,u,f,r),[r]),f.getSnapshot!==a||_||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Ea(9,Rg.bind(null,u,f,g,a),void 0,null),It===null)throw Error(n(349));Mr&30||xg(u,a,g)}return g}function xg(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Rg(r,a,u,f){a.value=u,a.getSnapshot=f,Sg(a)&&Tg(r)}function Cg(r,a,u){return u(function(){Sg(a)&&Tg(r)})}function Sg(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Dn(r,u)}catch{return!0}}function Tg(r){var a=pi(r,1);a!==null&&Gn(a,r,1,-1)}function Ig(r){var a=Yn();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:r},a.queue=r,r=r.dispatch=jv.bind(null,ut,r),[a.memoizedState,r]}function Ea(r,a,u,f){return r={tag:r,create:a,destroy:u,deps:f,next:null},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.lastEffect=r.next=r):(u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r)),r}function Ag(){return Sn().memoizedState}function gl(r,a,u,f){var g=Yn();ut.flags|=r,g.memoizedState=Ea(1|a,u,void 0,f===void 0?null:f)}function ml(r,a,u,f){var g=Sn();f=f===void 0?null:f;var _=void 0;if(xt!==null){var w=xt.memoizedState;if(_=w.destroy,f!==null&&ac(f,w.deps)){g.memoizedState=Ea(a,u,_,f);return}}ut.flags|=r,g.memoizedState=Ea(1|a,u,_,f)}function Pg(r,a){return gl(8390656,8,r,a)}function cc(r,a){return ml(2048,8,r,a)}function Lg(r,a){return ml(4,2,r,a)}function Og(r,a){return ml(4,4,r,a)}function Ng(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function kg(r,a,u){return u=u!=null?u.concat([r]):null,ml(4,4,Ng.bind(null,a,r),u)}function fc(){}function Dg(r,a){var u=Sn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&ac(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function Fg(r,a){var u=Sn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&ac(a,f[1])?f[0]:(r=r(),u.memoizedState=[r,a],r)}function bg(r,a,u){return Mr&21?(Dn(u,a)||(u=d0(),ut.lanes|=u,xr|=u,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=u)}function Uv(r,a){var u=He;He=u!==0&&4>u?u:4,r(!0);var f=sc.transition;sc.transition={};try{r(!1),a()}finally{He=u,sc.transition=f}}function zg(){return Sn().memoizedState}function Gv(r,a,u){var f=Ki(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Ug(r))Gg(a,u);else if(u=pg(r,a,u,f),u!==null){var g=qt();Gn(u,r,f,g),jg(u,a,f)}}function jv(r,a,u){var f=Ki(r),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ug(r))Gg(a,g);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var w=a.lastRenderedState,C=_(w,u);if(g.hasEagerState=!0,g.eagerState=C,Dn(C,w)){var I=a.interleaved;I===null?(g.next=g,Jh(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}u=pg(r,a,g,f),u!==null&&(g=qt(),Gn(u,r,f,g),jg(u,a,f))}}function Ug(r){var a=r.alternate;return r===ut||a!==null&&a===ut}function Gg(r,a){_a=dl=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function jg(r,a,u){if(u&4194240){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,gh(r,u)}}var pl={readContext:Cn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Bv={readContext:Cn,useCallback:function(r,a){return Yn().memoizedState=[r,a===void 0?null:a],r},useContext:Cn,useEffect:Pg,useImperativeHandle:function(r,a,u){return u=u!=null?u.concat([r]):null,gl(4194308,4,Ng.bind(null,a,r),u)},useLayoutEffect:function(r,a){return gl(4194308,4,r,a)},useInsertionEffect:function(r,a){return gl(4,2,r,a)},useMemo:function(r,a){var u=Yn();return a=a===void 0?null:a,r=r(),u.memoizedState=[r,a],r},useReducer:function(r,a,u){var f=Yn();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},f.queue=r,r=r.dispatch=Gv.bind(null,ut,r),[f.memoizedState,r]},useRef:function(r){var a=Yn();return r={current:r},a.memoizedState=r},useState:Ig,useDebugValue:fc,useDeferredValue:function(r){return Yn().memoizedState=r},useTransition:function(){var r=Ig(!1),a=r[0];return r=Uv.bind(null,r[1]),Yn().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,u){var f=ut,g=Yn();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),It===null)throw Error(n(349));Mr&30||xg(f,a,u)}g.memoizedState=u;var _={value:u,getSnapshot:a};return g.queue=_,Pg(Cg.bind(null,f,_,r),[r]),f.flags|=2048,Ea(9,Rg.bind(null,f,_,u,a),void 0,null),u},useId:function(){var r=Yn(),a=It.identifierPrefix;if(ot){var u=mi,f=gi;u=(f&~(1<<32-kn(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=ya++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=zv++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},$v={readContext:Cn,useCallback:Dg,useContext:Cn,useEffect:cc,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Og,useMemo:Fg,useReducer:uc,useRef:Ag,useState:function(){return uc(va)},useDebugValue:fc,useDeferredValue:function(r){var a=Sn();return bg(a,xt.memoizedState,r)},useTransition:function(){var r=uc(va)[0],a=Sn().memoizedState;return[r,a]},useMutableSource:wg,useSyncExternalStore:Mg,useId:zg,unstable_isNewReconciler:!1},Wv={readContext:Cn,useCallback:Dg,useContext:Cn,useEffect:cc,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Og,useMemo:Fg,useReducer:hc,useRef:Ag,useState:function(){return hc(va)},useDebugValue:fc,useDeferredValue:function(r){var a=Sn();return xt===null?a.memoizedState=r:bg(a,xt.memoizedState,r)},useTransition:function(){var r=hc(va)[0],a=Sn().memoizedState;return[r,a]},useMutableSource:wg,useSyncExternalStore:Mg,useId:zg,unstable_isNewReconciler:!1};function bn(r,a){if(r&&r.defaultProps){a=$({},a),r=r.defaultProps;for(var u in r)a[u]===void 0&&(a[u]=r[u]);return a}return a}function dc(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:$({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var _l={isMounted:function(r){return(r=r._reactInternals)?mr(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var f=qt(),g=Ki(r),_=_i(f,g);_.payload=a,u!=null&&(_.callback=u),a=$i(r,_,g),a!==null&&(Gn(a,r,g,f),ul(a,r,g))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=qt(),g=Ki(r),_=_i(f,g);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=$i(r,_,g),a!==null&&(Gn(a,r,g,f),ul(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=qt(),f=Ki(r),g=_i(u,f);g.tag=2,a!=null&&(g.callback=a),a=$i(r,g,f),a!==null&&(Gn(a,r,f,u),ul(a,r,f))}};function Bg(r,a,u,f,g,_,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,w):a.prototype&&a.prototype.isPureReactComponent?!aa(u,f)||!aa(g,_):!0}function $g(r,a,u){var f=!1,g=Gi,_=a.contextType;return typeof _=="object"&&_!==null?_=Cn(_):(g=rn(a)?_r:bt.current,f=a.contextTypes,_=(f=f!=null)?Yr(r,g):Gi),a=new a(u,_),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_l,r.stateNode=a,a._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=_),a}function Wg(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&_l.enqueueReplaceState(a,a.state,null)}function gc(r,a,u,f){var g=r.stateNode;g.props=u,g.state=r.memoizedState,g.refs={},ec(r);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Cn(_):(_=rn(a)?_r:bt.current,g.context=Yr(r,_)),g.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dc(r,a,_,u),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&_l.enqueueReplaceState(g,g.state,null),hl(r,u,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function rs(r,a){try{var u="",f=a;do u+=fe(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:a,stack:g,digest:null}}function mc(r,a,u){return{value:r,source:null,stack:u??null,digest:a??null}}function pc(r,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Xv=typeof WeakMap=="function"?WeakMap:Map;function Xg(r,a,u){u=_i(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Rl||(Rl=!0,Lc=f),pc(r,a)},u}function Vg(r,a,u){u=_i(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;u.payload=function(){return f(g)},u.callback=function(){pc(r,a)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){pc(r,a),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),u}function Kg(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new Xv;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(g.add(u),r=sE.bind(null,r,a,u),a.then(r,r))}function qg(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function Hg(r,a,u,f,g){return r.mode&1?(r.flags|=65536,r.lanes=g,r):(r===a?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=_i(-1,1),a.tag=2,$i(u,a,1))),u.lanes|=1),r)}var Vv=A.ReactCurrentOwner,sn=!1;function Kt(r,a,u,f){a.child=r===null?mg(a,null,u,f):es(a,r.child,u,f)}function Yg(r,a,u,f,g){u=u.render;var _=a.ref;return ns(a,g),f=oc(r,a,u,f,_,g),u=lc(),r!==null&&!sn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,yi(r,a,g)):(ot&&u&&Wh(a),a.flags|=1,Kt(r,a,f,g),a.child)}function Zg(r,a,u,f,g){if(r===null){var _=u.type;return typeof _=="function"&&!zc(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,Qg(r,a,_,f,g)):(r=Pl(u.type,null,f,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(_=r.child,!(r.lanes&g)){var w=_.memoizedProps;if(u=u.compare,u=u!==null?u:aa,u(w,f)&&r.ref===a.ref)return yi(r,a,g)}return a.flags|=1,r=Hi(_,f),r.ref=a.ref,r.return=a,a.child=r}function Qg(r,a,u,f,g){if(r!==null){var _=r.memoizedProps;if(aa(_,f)&&r.ref===a.ref)if(sn=!1,a.pendingProps=f=_,(r.lanes&g)!==0)r.flags&131072&&(sn=!0);else return a.lanes=r.lanes,yi(r,a,g)}return _c(r,a,u,f,g)}function Jg(r,a,u){var f=a.pendingProps,g=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(as,vn),vn|=u;else{if(!(u&1073741824))return r=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,it(as,vn),vn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,it(as,vn),vn|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,it(as,vn),vn|=f;return Kt(r,a,g,u),a.child}function em(r,a){var u=a.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function _c(r,a,u,f,g){var _=rn(u)?_r:bt.current;return _=Yr(a,_),ns(a,g),u=oc(r,a,u,f,_,g),f=lc(),r!==null&&!sn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,yi(r,a,g)):(ot&&f&&Wh(a),a.flags|=1,Kt(r,a,u,g),a.child)}function tm(r,a,u,f,g){if(rn(u)){var _=!0;tl(a)}else _=!1;if(ns(a,g),a.stateNode===null)vl(r,a),$g(a,u,f),gc(a,u,f,g),f=!0;else if(r===null){var w=a.stateNode,C=a.memoizedProps;w.props=C;var I=w.context,F=u.contextType;typeof F=="object"&&F!==null?F=Cn(F):(F=rn(u)?_r:bt.current,F=Yr(a,F));var q=u.getDerivedStateFromProps,Z=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==f||I!==F)&&Wg(a,w,f,F),Bi=!1;var K=a.memoizedState;w.state=K,hl(a,f,w,g),I=a.memoizedState,C!==f||K!==I||nn.current||Bi?(typeof q=="function"&&(dc(a,u,q,f),I=a.memoizedState),(C=Bi||Bg(a,u,C,f,K,I,F))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=I),w.props=f,w.state=I,w.context=F,f=C):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{w=a.stateNode,_g(r,a),C=a.memoizedProps,F=a.type===a.elementType?C:bn(a.type,C),w.props=F,Z=a.pendingProps,K=w.context,I=u.contextType,typeof I=="object"&&I!==null?I=Cn(I):(I=rn(u)?_r:bt.current,I=Yr(a,I));var he=u.getDerivedStateFromProps;(q=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==Z||K!==I)&&Wg(a,w,f,I),Bi=!1,K=a.memoizedState,w.state=K,hl(a,f,w,g);var ge=a.memoizedState;C!==Z||K!==ge||nn.current||Bi?(typeof he=="function"&&(dc(a,u,he,f),ge=a.memoizedState),(F=Bi||Bg(a,u,F,f,K,ge,I)||!1)?(q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ge,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ge,I)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ge),w.props=f,w.state=ge,w.context=I,f=F):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),f=!1)}return yc(r,a,u,f,_,g)}function yc(r,a,u,f,g,_){em(r,a);var w=(a.flags&128)!==0;if(!f&&!w)return g&&ag(a,u,!1),yi(r,a,_);f=a.stateNode,Vv.current=a;var C=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,r!==null&&w?(a.child=es(a,r.child,null,_),a.child=es(a,null,C,_)):Kt(r,a,C,_),a.memoizedState=f.state,g&&ag(a,u,!0),a.child}function nm(r){var a=r.stateNode;a.pendingContext?rg(r,a.pendingContext,a.pendingContext!==a.context):a.context&&rg(r,a.context,!1),tc(r,a.containerInfo)}function im(r,a,u,f,g){return Jr(),qh(g),a.flags|=256,Kt(r,a,u,f),a.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function Ec(r){return{baseLanes:r,cachePool:null,transitions:null}}function rm(r,a,u){var f=a.pendingProps,g=lt.current,_=!1,w=(a.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(g&2)!==0),C?(_=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),it(lt,g&1),r===null)return Kh(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(w=f.children,r=f.fallback,_?(f=a.mode,_=a.child,w={mode:"hidden",children:w},!(f&1)&&_!==null?(_.childLanes=0,_.pendingProps=w):_=Ll(w,f,0,null),r=Tr(r,f,u,null),_.return=a,r.return=a,_.sibling=r,a.child=_,a.child.memoizedState=Ec(u),a.memoizedState=vc,r):wc(a,w));if(g=r.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return Kv(r,a,w,f,C,g,u);if(_){_=f.fallback,w=a.mode,g=r.child,C=g.sibling;var I={mode:"hidden",children:f.children};return!(w&1)&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=I,a.deletions=null):(f=Hi(g,I),f.subtreeFlags=g.subtreeFlags&14680064),C!==null?_=Hi(C,_):(_=Tr(_,w,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,w=r.child.memoizedState,w=w===null?Ec(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},_.memoizedState=w,_.childLanes=r.childLanes&~u,a.memoizedState=vc,f}return _=r.child,r=_.sibling,f=Hi(_,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=u),f.return=a,f.sibling=null,r!==null&&(u=a.deletions,u===null?(a.deletions=[r],a.flags|=16):u.push(r)),a.child=f,a.memoizedState=null,f}function wc(r,a){return a=Ll({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function yl(r,a,u,f){return f!==null&&qh(f),es(a,r.child,null,u),r=wc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Kv(r,a,u,f,g,_,w){if(u)return a.flags&256?(a.flags&=-257,f=mc(Error(n(422))),yl(r,a,w,f)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(_=f.fallback,g=a.mode,f=Ll({mode:"visible",children:f.children},g,0,null),_=Tr(_,g,w,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,a.mode&1&&es(a,r.child,null,w),a.child.memoizedState=Ec(w),a.memoizedState=vc,_);if(!(a.mode&1))return yl(r,a,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var C=f.dgst;return f=C,_=Error(n(419)),f=mc(_,f,void 0),yl(r,a,w,f)}if(C=(w&r.childLanes)!==0,sn||C){if(f=It,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|w)?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,pi(r,g),Gn(f,r,g,-1))}return bc(),f=mc(Error(n(421))),yl(r,a,w,f)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=aE.bind(null,r),g._reactRetry=a,null):(r=_.treeContext,yn=zi(g.nextSibling),_n=a,ot=!0,Fn=null,r!==null&&(xn[Rn++]=gi,xn[Rn++]=mi,xn[Rn++]=yr,gi=r.id,mi=r.overflow,yr=a),a=wc(a,f.children),a.flags|=4096,a)}function sm(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),Qh(r.return,a,u)}function Mc(r,a,u,f,g){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function am(r,a,u){var f=a.pendingProps,g=f.revealOrder,_=f.tail;if(Kt(r,a,f.children,u),f=lt.current,f&2)f=f&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sm(r,u,a);else if(r.tag===19)sm(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(it(lt,f),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(u=a.child,g=null;u!==null;)r=u.alternate,r!==null&&cl(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Mc(a,!1,g,u,_);break;case"backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&cl(r)===null){a.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Mc(a,!0,u,null,_);break;case"together":Mc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vl(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function yi(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),xr|=a.lanes,!(u&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,u=Hi(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=Hi(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function qv(r,a,u){switch(a.tag){case 3:nm(a),Jr();break;case 5:Eg(a);break;case 1:rn(a.type)&&tl(a);break;case 4:tc(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;it(ol,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(it(lt,lt.current&1),a.flags|=128,null):u&a.child.childLanes?rm(r,a,u):(it(lt,lt.current&1),r=yi(r,a,u),r!==null?r.sibling:null);it(lt,lt.current&1);break;case 19:if(f=(u&a.childLanes)!==0,r.flags&128){if(f)return am(r,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(lt,lt.current),f)break;return null;case 22:case 23:return a.lanes=0,Jg(r,a,u)}return yi(r,a,u)}var om,xc,lm,um;om=function(r,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},xc=function(){},lm=function(r,a,u,f){var g=r.memoizedProps;if(g!==f){r=a.stateNode,wr(Hn.current);var _=null;switch(u){case"input":g=Ne(r,g),f=Ne(r,f),_=[];break;case"select":g=$({},g,{value:void 0}),f=$({},f,{value:void 0}),_=[];break;case"textarea":g=wn(r,g),f=wn(r,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Qo)}Le(u,f);var w;u=null;for(F in g)if(!f.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var C=g[F];for(w in C)C.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(s.hasOwnProperty(F)?_||(_=[]):(_=_||[]).push(F,null));for(F in f){var I=f[F];if(C=g!=null?g[F]:void 0,f.hasOwnProperty(F)&&I!==C&&(I!=null||C!=null))if(F==="style")if(C){for(w in C)!C.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in I)I.hasOwnProperty(w)&&C[w]!==I[w]&&(u||(u={}),u[w]=I[w])}else u||(_||(_=[]),_.push(F,u)),u=I;else F==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,C=C?C.__html:void 0,I!=null&&C!==I&&(_=_||[]).push(F,I)):F==="children"?typeof I!="string"&&typeof I!="number"||(_=_||[]).push(F,""+I):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(s.hasOwnProperty(F)?(I!=null&&F==="onScroll"&&rt("scroll",r),_||C===I||(_=[])):(_=_||[]).push(F,I))}u&&(_=_||[]).push("style",u);var F=_;(a.updateQueue=F)&&(a.flags|=4)}},um=function(r,a,u,f){u!==f&&(a.flags|=4)};function wa(r,a){if(!ot)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ut(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function Hv(r,a,u){var f=a.pendingProps;switch(Xh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(a),null;case 1:return rn(a.type)&&el(),Ut(a),null;case 3:return f=a.stateNode,is(),st(nn),st(bt),rc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(sl(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Fn!==null&&(kc(Fn),Fn=null))),xc(r,a),Ut(a),null;case 5:nc(a);var g=wr(pa.current);if(u=a.type,r!==null&&a.stateNode!=null)lm(r,a,u,f,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return Ut(a),null}if(r=wr(Hn.current),sl(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[qn]=a,f[ca]=_,r=(a.mode&1)!==0,u){case"dialog":rt("cancel",f),rt("close",f);break;case"iframe":case"object":case"embed":rt("load",f);break;case"video":case"audio":for(g=0;g<la.length;g++)rt(la[g],f);break;case"source":rt("error",f);break;case"img":case"image":case"link":rt("error",f),rt("load",f);break;case"details":rt("toggle",f);break;case"input":nt(f,_),rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},rt("invalid",f);break;case"textarea":Mn(f,_),rt("invalid",f)}Le(u,_),g=null;for(var w in _)if(_.hasOwnProperty(w)){var C=_[w];w==="children"?typeof C=="string"?f.textContent!==C&&(_.suppressHydrationWarning!==!0&&Zo(f.textContent,C,r),g=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(_.suppressHydrationWarning!==!0&&Zo(f.textContent,C,r),g=["children",""+C]):s.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&rt("scroll",f)}switch(u){case"input":wt(f),_t(f,_,!0);break;case"textarea":wt(f),$e(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Qo)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=tn(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=w.createElement(u,{is:f.is}):(r=w.createElement(u),u==="select"&&(w=r,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):r=w.createElementNS(r,u),r[qn]=a,r[ca]=f,om(r,a,!1,!1),a.stateNode=r;e:{switch(w=Je(u,f),u){case"dialog":rt("cancel",r),rt("close",r),g=f;break;case"iframe":case"object":case"embed":rt("load",r),g=f;break;case"video":case"audio":for(g=0;g<la.length;g++)rt(la[g],r);g=f;break;case"source":rt("error",r),g=f;break;case"img":case"image":case"link":rt("error",r),rt("load",r),g=f;break;case"details":rt("toggle",r),g=f;break;case"input":nt(r,f),g=Ne(r,f),rt("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=$({},f,{value:void 0}),rt("invalid",r);break;case"textarea":Mn(r,f),g=wn(r,f),rt("invalid",r);break;default:g=f}Le(u,g),C=g;for(_ in C)if(C.hasOwnProperty(_)){var I=C[_];_==="style"?X(r,I):_==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&hi(r,I)):_==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&Li(r,I):typeof I=="number"&&Li(r,""+I):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?I!=null&&_==="onScroll"&&rt("scroll",r):I!=null&&L(r,_,I,w))}switch(u){case"input":wt(r),_t(r,f,!1);break;case"textarea":wt(r),$e(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Ee(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?yt(r,!!f.multiple,_,!1):f.defaultValue!=null&&yt(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Qo)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ut(a),null;case 6:if(r&&a.stateNode!=null)um(r,a,r.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(u=wr(pa.current),wr(Hn.current),sl(a)){if(f=a.stateNode,u=a.memoizedProps,f[qn]=a,(_=f.nodeValue!==u)&&(r=_n,r!==null))switch(r.tag){case 3:Zo(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zo(f.nodeValue,u,(r.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[qn]=a,a.stateNode=f}return Ut(a),null;case 13:if(st(lt),f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&yn!==null&&a.mode&1&&!(a.flags&128))fg(),Jr(),a.flags|=98560,_=!1;else if(_=sl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[qn]=a}else Jr(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ut(a),_=!1}else Fn!==null&&(kc(Fn),Fn=null),_=!0;if(!_)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(r===null||lt.current&1?Rt===0&&(Rt=3):bc())),a.updateQueue!==null&&(a.flags|=4),Ut(a),null);case 4:return is(),xc(r,a),r===null&&ua(a.stateNode.containerInfo),Ut(a),null;case 10:return Zh(a.type._context),Ut(a),null;case 17:return rn(a.type)&&el(),Ut(a),null;case 19:if(st(lt),_=a.memoizedState,_===null)return Ut(a),null;if(f=(a.flags&128)!==0,w=_.rendering,w===null)if(f)wa(_,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(w=cl(r),w!==null){for(a.flags|=128,wa(_,!1),f=w.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,r=f,_.flags&=14680066,w=_.alternate,w===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=w.childLanes,_.lanes=w.lanes,_.child=w.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=w.memoizedProps,_.memoizedState=w.memoizedState,_.updateQueue=w.updateQueue,_.type=w.type,r=w.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return it(lt,lt.current&1|2),a.child}r=r.sibling}_.tail!==null&&vt()>os&&(a.flags|=128,f=!0,wa(_,!1),a.lanes=4194304)}else{if(!f)if(r=cl(w),r!==null){if(a.flags|=128,f=!0,u=r.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),wa(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!ot)return Ut(a),null}else 2*vt()-_.renderingStartTime>os&&u!==1073741824&&(a.flags|=128,f=!0,wa(_,!1),a.lanes=4194304);_.isBackwards?(w.sibling=a.child,a.child=w):(u=_.last,u!==null?u.sibling=w:a.child=w,_.last=w)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=vt(),a.sibling=null,u=lt.current,it(lt,f?u&1|2:u&1),a):(Ut(a),null);case 22:case 23:return Fc(),f=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?vn&1073741824&&(Ut(a),a.subtreeFlags&6&&(a.flags|=8192)):Ut(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Yv(r,a){switch(Xh(a),a.tag){case 1:return rn(a.type)&&el(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return is(),st(nn),st(bt),rc(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return nc(a),null;case 13:if(st(lt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Jr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return st(lt),null;case 4:return is(),null;case 10:return Zh(a.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var El=!1,Gt=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,de=null;function ss(r,a){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){gt(r,a,f)}else u.current=null}function Rc(r,a,u){try{u()}catch(f){gt(r,a,f)}}var hm=!1;function Qv(r,a){if(Fh=Go,r=B0(),Ih(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var w=0,C=-1,I=-1,F=0,q=0,Z=r,K=null;t:for(;;){for(var he;Z!==u||g!==0&&Z.nodeType!==3||(C=w+g),Z!==_||f!==0&&Z.nodeType!==3||(I=w+f),Z.nodeType===3&&(w+=Z.nodeValue.length),(he=Z.firstChild)!==null;)K=Z,Z=he;for(;;){if(Z===r)break t;if(K===u&&++F===g&&(C=w),K===_&&++q===f&&(I=w),(he=Z.nextSibling)!==null)break;Z=K,K=Z.parentNode}Z=he}u=C===-1||I===-1?null:{start:C,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(bh={focusedElem:r,selectionRange:u},Go=!1,de=a;de!==null;)if(a=de,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,de=r;else for(;de!==null;){a=de;try{var ge=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var pe=ge.memoizedProps,Et=ge.memoizedState,N=a.stateNode,O=N.getSnapshotBeforeUpdate(a.elementType===a.type?pe:bn(a.type,pe),Et);N.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var k=a.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){gt(a,a.return,J)}if(r=a.sibling,r!==null){r.return=a.return,de=r;break}de=a.return}return ge=hm,hm=!1,ge}function Ma(r,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var _=g.destroy;g.destroy=void 0,_!==void 0&&Rc(a,u,_)}g=g.next}while(g!==f)}}function wl(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Cc(r){var a=r.ref;if(a!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof a=="function"?a(r):a.current=r}}function cm(r){var a=r.alternate;a!==null&&(r.alternate=null,cm(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[qn],delete a[ca],delete a[jh],delete a[kv],delete a[Dv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fm(r){return r.tag===5||r.tag===3||r.tag===4}function dm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sc(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Qo));else if(f!==4&&(r=r.child,r!==null))for(Sc(r,a,u),r=r.sibling;r!==null;)Sc(r,a,u),r=r.sibling}function Tc(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Tc(r,a,u),r=r.sibling;r!==null;)Tc(r,a,u),r=r.sibling}var Pt=null,zn=!1;function Wi(r,a,u){for(u=u.child;u!==null;)gm(r,a,u),u=u.sibling}function gm(r,a,u){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(ko,u)}catch{}switch(u.tag){case 5:Gt||ss(u,a);case 6:var f=Pt,g=zn;Pt=null,Wi(r,a,u),Pt=f,zn=g,Pt!==null&&(zn?(r=Pt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Pt.removeChild(u.stateNode));break;case 18:Pt!==null&&(zn?(r=Pt,u=u.stateNode,r.nodeType===8?Gh(r.parentNode,u):r.nodeType===1&&Gh(r,u),ea(r)):Gh(Pt,u.stateNode));break;case 4:f=Pt,g=zn,Pt=u.stateNode.containerInfo,zn=!0,Wi(r,a,u),Pt=f,zn=g;break;case 0:case 11:case 14:case 15:if(!Gt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,w=_.destroy;_=_.tag,w!==void 0&&(_&2||_&4)&&Rc(u,a,w),g=g.next}while(g!==f)}Wi(r,a,u);break;case 1:if(!Gt&&(ss(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(C){gt(u,a,C)}Wi(r,a,u);break;case 21:Wi(r,a,u);break;case 22:u.mode&1?(Gt=(f=Gt)||u.memoizedState!==null,Wi(r,a,u),Gt=f):Wi(r,a,u);break;default:Wi(r,a,u)}}function mm(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Zv),a.forEach(function(f){var g=oE.bind(null,r,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Un(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=r,w=a,C=w;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,zn=!1;break e;case 3:Pt=C.stateNode.containerInfo,zn=!0;break e;case 4:Pt=C.stateNode.containerInfo,zn=!0;break e}C=C.return}if(Pt===null)throw Error(n(160));gm(_,w,g),Pt=null,zn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(F){gt(g,a,F)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)pm(a,r),a=a.sibling}function pm(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Un(a,r),Zn(r),f&4){try{Ma(3,r,r.return),wl(3,r)}catch(pe){gt(r,r.return,pe)}try{Ma(5,r,r.return)}catch(pe){gt(r,r.return,pe)}}break;case 1:Un(a,r),Zn(r),f&512&&u!==null&&ss(u,u.return);break;case 5:if(Un(a,r),Zn(r),f&512&&u!==null&&ss(u,u.return),r.flags&32){var g=r.stateNode;try{Li(g,"")}catch(pe){gt(r,r.return,pe)}}if(f&4&&(g=r.stateNode,g!=null)){var _=r.memoizedProps,w=u!==null?u.memoizedProps:_,C=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{C==="input"&&_.type==="radio"&&_.name!=null&&Ue(g,_),Je(C,w);var F=Je(C,_);for(w=0;w<I.length;w+=2){var q=I[w],Z=I[w+1];q==="style"?X(g,Z):q==="dangerouslySetInnerHTML"?hi(g,Z):q==="children"?Li(g,Z):L(g,q,Z,F)}switch(C){case"input":qe(g,_);break;case"textarea":li(g,_);break;case"select":var K=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var he=_.value;he!=null?yt(g,!!_.multiple,he,!1):K!==!!_.multiple&&(_.defaultValue!=null?yt(g,!!_.multiple,_.defaultValue,!0):yt(g,!!_.multiple,_.multiple?[]:"",!1))}g[ca]=_}catch(pe){gt(r,r.return,pe)}}break;case 6:if(Un(a,r),Zn(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,_=r.memoizedProps;try{g.nodeValue=_}catch(pe){gt(r,r.return,pe)}}break;case 3:if(Un(a,r),Zn(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ea(a.containerInfo)}catch(pe){gt(r,r.return,pe)}break;case 4:Un(a,r),Zn(r);break;case 13:Un(a,r),Zn(r),g=r.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Pc=vt())),f&4&&mm(r);break;case 22:if(q=u!==null&&u.memoizedState!==null,r.mode&1?(Gt=(F=Gt)||q,Un(a,r),Gt=F):Un(a,r),Zn(r),f&8192){if(F=r.memoizedState!==null,(r.stateNode.isHidden=F)&&!q&&r.mode&1)for(de=r,q=r.child;q!==null;){for(Z=de=q;de!==null;){switch(K=de,he=K.child,K.tag){case 0:case 11:case 14:case 15:Ma(4,K,K.return);break;case 1:ss(K,K.return);var ge=K.stateNode;if(typeof ge.componentWillUnmount=="function"){f=K,u=K.return;try{a=f,ge.props=a.memoizedProps,ge.state=a.memoizedState,ge.componentWillUnmount()}catch(pe){gt(f,u,pe)}}break;case 5:ss(K,K.return);break;case 22:if(K.memoizedState!==null){vm(Z);continue}}he!==null?(he.return=K,de=he):vm(Z)}q=q.sibling}e:for(q=null,Z=r;;){if(Z.tag===5){if(q===null){q=Z;try{g=Z.stateNode,F?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(C=Z.stateNode,I=Z.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,C.style.display=Gr("display",w))}catch(pe){gt(r,r.return,pe)}}}else if(Z.tag===6){if(q===null)try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(pe){gt(r,r.return,pe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;q===Z&&(q=null),Z=Z.return}q===Z&&(q=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Un(a,r),Zn(r),f&4&&mm(r);break;case 21:break;default:Un(a,r),Zn(r)}}function Zn(r){var a=r.flags;if(a&2){try{e:{for(var u=r.return;u!==null;){if(fm(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Li(g,""),f.flags&=-33);var _=dm(r);Tc(r,_,g);break;case 3:case 4:var w=f.stateNode.containerInfo,C=dm(r);Sc(r,C,w);break;default:throw Error(n(161))}}catch(I){gt(r,r.return,I)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Jv(r,a,u){de=r,_m(r)}function _m(r,a,u){for(var f=(r.mode&1)!==0;de!==null;){var g=de,_=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||El;if(!w){var C=g.alternate,I=C!==null&&C.memoizedState!==null||Gt;C=El;var F=Gt;if(El=w,(Gt=I)&&!F)for(de=g;de!==null;)w=de,I=w.child,w.tag===22&&w.memoizedState!==null?Em(g):I!==null?(I.return=w,de=I):Em(g);for(;_!==null;)de=_,_m(_),_=_.sibling;de=g,El=C,Gt=F}ym(r)}else g.subtreeFlags&8772&&_!==null?(_.return=g,de=_):ym(r)}}function ym(r){for(;de!==null;){var a=de;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Gt||wl(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Gt)if(u===null)f.componentDidMount();else{var g=a.elementType===a.type?u.memoizedProps:bn(a.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&vg(a,_,f);break;case 3:var w=a.updateQueue;if(w!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}vg(a,w,u)}break;case 5:var C=a.stateNode;if(u===null&&a.flags&4){u=C;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var F=a.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var Z=q.dehydrated;Z!==null&&ea(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gt||a.flags&512&&Cc(a)}catch(K){gt(a,a.return,K)}}if(a===r){de=null;break}if(u=a.sibling,u!==null){u.return=a.return,de=u;break}de=a.return}}function vm(r){for(;de!==null;){var a=de;if(a===r){de=null;break}var u=a.sibling;if(u!==null){u.return=a.return,de=u;break}de=a.return}}function Em(r){for(;de!==null;){var a=de;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{wl(4,a)}catch(I){gt(a,u,I)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(I){gt(a,g,I)}}var _=a.return;try{Cc(a)}catch(I){gt(a,_,I)}break;case 5:var w=a.return;try{Cc(a)}catch(I){gt(a,w,I)}}}catch(I){gt(a,a.return,I)}if(a===r){de=null;break}var C=a.sibling;if(C!==null){C.return=a.return,de=C;break}de=a.return}}var eE=Math.ceil,Ml=A.ReactCurrentDispatcher,Ic=A.ReactCurrentOwner,Tn=A.ReactCurrentBatchConfig,Fe=0,It=null,Mt=null,Lt=0,vn=0,as=Ui(0),Rt=0,xa=null,xr=0,xl=0,Ac=0,Ra=null,an=null,Pc=0,os=1/0,vi=null,Rl=!1,Lc=null,Xi=null,Cl=!1,Vi=null,Sl=0,Ca=0,Oc=null,Tl=-1,Il=0;function qt(){return Fe&6?vt():Tl!==-1?Tl:Tl=vt()}function Ki(r){return r.mode&1?Fe&2&&Lt!==0?Lt&-Lt:bv.transition!==null?(Il===0&&(Il=d0()),Il):(r=He,r!==0||(r=window.event,r=r===void 0?16:M0(r.type)),r):1}function Gn(r,a,u,f){if(50<Ca)throw Ca=0,Oc=null,Error(n(185));Hs(r,u,f),(!(Fe&2)||r!==It)&&(r===It&&(!(Fe&2)&&(xl|=u),Rt===4&&qi(r,Lt)),on(r,f),u===1&&Fe===0&&!(a.mode&1)&&(os=vt()+500,nl&&ji()))}function on(r,a){var u=r.callbackNode;by(r,a);var f=bo(r,r===It?Lt:0);if(f===0)u!==null&&h0(u),r.callbackNode=null,r.callbackPriority=0;else if(a=f&-f,r.callbackPriority!==a){if(u!=null&&h0(u),a===1)r.tag===0?Fv(Mm.bind(null,r)):og(Mm.bind(null,r)),Ov(function(){!(Fe&6)&&ji()}),u=null;else{switch(g0(f)){case 1:u=ch;break;case 4:u=c0;break;case 16:u=No;break;case 536870912:u=f0;break;default:u=No}u=Pm(u,wm.bind(null,r))}r.callbackPriority=a,r.callbackNode=u}}function wm(r,a){if(Tl=-1,Il=0,Fe&6)throw Error(n(327));var u=r.callbackNode;if(ls()&&r.callbackNode!==u)return null;var f=bo(r,r===It?Lt:0);if(f===0)return null;if(f&30||f&r.expiredLanes||a)a=Al(r,f);else{a=f;var g=Fe;Fe|=2;var _=Rm();(It!==r||Lt!==a)&&(vi=null,os=vt()+500,Cr(r,a));do try{iE();break}catch(C){xm(r,C)}while(!0);Yh(),Ml.current=_,Fe=g,Mt!==null?a=0:(It=null,Lt=0,a=Rt)}if(a!==0){if(a===2&&(g=fh(r),g!==0&&(f=g,a=Nc(r,g))),a===1)throw u=xa,Cr(r,0),qi(r,f),on(r,vt()),u;if(a===6)qi(r,f);else{if(g=r.current.alternate,!(f&30)&&!tE(g)&&(a=Al(r,f),a===2&&(_=fh(r),_!==0&&(f=_,a=Nc(r,_))),a===1))throw u=xa,Cr(r,0),qi(r,f),on(r,vt()),u;switch(r.finishedWork=g,r.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:Sr(r,an,vi);break;case 3:if(qi(r,f),(f&130023424)===f&&(a=Pc+500-vt(),10<a)){if(bo(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){qt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Uh(Sr.bind(null,r,an,vi),a);break}Sr(r,an,vi);break;case 4:if(qi(r,f),(f&4194240)===f)break;for(a=r.eventTimes,g=-1;0<f;){var w=31-kn(f);_=1<<w,w=a[w],w>g&&(g=w),f&=~_}if(f=g,f=vt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*eE(f/1960))-f,10<f){r.timeoutHandle=Uh(Sr.bind(null,r,an,vi),f);break}Sr(r,an,vi);break;case 5:Sr(r,an,vi);break;default:throw Error(n(329))}}}return on(r,vt()),r.callbackNode===u?wm.bind(null,r):null}function Nc(r,a){var u=Ra;return r.current.memoizedState.isDehydrated&&(Cr(r,a).flags|=256),r=Al(r,a),r!==2&&(a=an,an=u,a!==null&&kc(a)),r}function kc(r){an===null?an=r:an.push.apply(an,r)}function tE(r){for(var a=r;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!Dn(_(),g))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qi(r,a){for(a&=~Ac,a&=~xl,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var u=31-kn(a),f=1<<u;r[u]=-1,a&=~f}}function Mm(r){if(Fe&6)throw Error(n(327));ls();var a=bo(r,0);if(!(a&1))return on(r,vt()),null;var u=Al(r,a);if(r.tag!==0&&u===2){var f=fh(r);f!==0&&(a=f,u=Nc(r,f))}if(u===1)throw u=xa,Cr(r,0),qi(r,a),on(r,vt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,Sr(r,an,vi),on(r,vt()),null}function Dc(r,a){var u=Fe;Fe|=1;try{return r(a)}finally{Fe=u,Fe===0&&(os=vt()+500,nl&&ji())}}function Rr(r){Vi!==null&&Vi.tag===0&&!(Fe&6)&&ls();var a=Fe;Fe|=1;var u=Tn.transition,f=He;try{if(Tn.transition=null,He=1,r)return r()}finally{He=f,Tn.transition=u,Fe=a,!(Fe&6)&&ji()}}function Fc(){vn=as.current,st(as)}function Cr(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,Lv(u)),Mt!==null)for(u=Mt.return;u!==null;){var f=u;switch(Xh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&el();break;case 3:is(),st(nn),st(bt),rc();break;case 5:nc(f);break;case 4:is();break;case 13:st(lt);break;case 19:st(lt);break;case 10:Zh(f.type._context);break;case 22:case 23:Fc()}u=u.return}if(It=r,Mt=r=Hi(r.current,null),Lt=vn=a,Rt=0,xa=null,Ac=xl=xr=0,an=Ra=null,Er!==null){for(a=0;a<Er.length;a++)if(u=Er[a],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var w=_.next;_.next=g,f.next=w}u.pending=f}Er=null}return r}function xm(r,a){do{var u=Mt;try{if(Yh(),fl.current=pl,dl){for(var f=ut.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}dl=!1}if(Mr=0,Tt=xt=ut=null,_a=!1,ya=0,Ic.current=null,u===null||u.return===null){Rt=1,xa=a,Mt=null;break}e:{var _=r,w=u.return,C=u,I=a;if(a=Lt,C.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=I,q=C,Z=q.tag;if(!(q.mode&1)&&(Z===0||Z===11||Z===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var he=qg(w);if(he!==null){he.flags&=-257,Hg(he,w,C,_,a),he.mode&1&&Kg(_,F,a),a=he,I=F;var ge=a.updateQueue;if(ge===null){var pe=new Set;pe.add(I),a.updateQueue=pe}else ge.add(I);break e}else{if(!(a&1)){Kg(_,F,a),bc();break e}I=Error(n(426))}}else if(ot&&C.mode&1){var Et=qg(w);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Hg(Et,w,C,_,a),qh(rs(I,C));break e}}_=I=rs(I,C),Rt!==4&&(Rt=2),Ra===null?Ra=[_]:Ra.push(_),_=w;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var N=Xg(_,I,a);yg(_,N);break e;case 1:C=I;var O=_.type,k=_.stateNode;if(!(_.flags&128)&&(typeof O.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Xi===null||!Xi.has(k)))){_.flags|=65536,a&=-a,_.lanes|=a;var J=Vg(_,C,a);yg(_,J);break e}}_=_.return}while(_!==null)}Sm(u)}catch(ve){a=ve,Mt===u&&u!==null&&(Mt=u=u.return);continue}break}while(!0)}function Rm(){var r=Ml.current;return Ml.current=pl,r===null?pl:r}function bc(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),It===null||!(xr&268435455)&&!(xl&268435455)||qi(It,Lt)}function Al(r,a){var u=Fe;Fe|=2;var f=Rm();(It!==r||Lt!==a)&&(vi=null,Cr(r,a));do try{nE();break}catch(g){xm(r,g)}while(!0);if(Yh(),Fe=u,Ml.current=f,Mt!==null)throw Error(n(261));return It=null,Lt=0,Rt}function nE(){for(;Mt!==null;)Cm(Mt)}function iE(){for(;Mt!==null&&!Iy();)Cm(Mt)}function Cm(r){var a=Am(r.alternate,r,vn);r.memoizedProps=r.pendingProps,a===null?Sm(r):Mt=a,Ic.current=null}function Sm(r){var a=r;do{var u=a.alternate;if(r=a.return,a.flags&32768){if(u=Yv(u,a),u!==null){u.flags&=32767,Mt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,Mt=null;return}}else if(u=Hv(u,a,vn),u!==null){Mt=u;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=r}while(a!==null);Rt===0&&(Rt=5)}function Sr(r,a,u){var f=He,g=Tn.transition;try{Tn.transition=null,He=1,rE(r,a,u,f)}finally{Tn.transition=g,He=f}return null}function rE(r,a,u,f){do ls();while(Vi!==null);if(Fe&6)throw Error(n(327));u=r.finishedWork;var g=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var _=u.lanes|u.childLanes;if(zy(r,_),r===It&&(Mt=It=null,Lt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Cl||(Cl=!0,Pm(No,function(){return ls(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=Tn.transition,Tn.transition=null;var w=He;He=1;var C=Fe;Fe|=4,Ic.current=null,Qv(r,u),pm(u,r),Rv(bh),Go=!!Fh,bh=Fh=null,r.current=u,Jv(u),Ay(),Fe=C,He=w,Tn.transition=_}else r.current=u;if(Cl&&(Cl=!1,Vi=r,Sl=g),_=r.pendingLanes,_===0&&(Xi=null),Oy(u.stateNode),on(r,vt()),a!==null)for(f=r.onRecoverableError,u=0;u<a.length;u++)g=a[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Rl)throw Rl=!1,r=Lc,Lc=null,r;return Sl&1&&r.tag!==0&&ls(),_=r.pendingLanes,_&1?r===Oc?Ca++:(Ca=0,Oc=r):Ca=0,ji(),null}function ls(){if(Vi!==null){var r=g0(Sl),a=Tn.transition,u=He;try{if(Tn.transition=null,He=16>r?16:r,Vi===null)var f=!1;else{if(r=Vi,Vi=null,Sl=0,Fe&6)throw Error(n(331));var g=Fe;for(Fe|=4,de=r.current;de!==null;){var _=de,w=_.child;if(de.flags&16){var C=_.deletions;if(C!==null){for(var I=0;I<C.length;I++){var F=C[I];for(de=F;de!==null;){var q=de;switch(q.tag){case 0:case 11:case 15:Ma(8,q,_)}var Z=q.child;if(Z!==null)Z.return=q,de=Z;else for(;de!==null;){q=de;var K=q.sibling,he=q.return;if(cm(q),q===F){de=null;break}if(K!==null){K.return=he,de=K;break}de=he}}}var ge=_.alternate;if(ge!==null){var pe=ge.child;if(pe!==null){ge.child=null;do{var Et=pe.sibling;pe.sibling=null,pe=Et}while(pe!==null)}}de=_}}if(_.subtreeFlags&2064&&w!==null)w.return=_,de=w;else e:for(;de!==null;){if(_=de,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Ma(9,_,_.return)}var N=_.sibling;if(N!==null){N.return=_.return,de=N;break e}de=_.return}}var O=r.current;for(de=O;de!==null;){w=de;var k=w.child;if(w.subtreeFlags&2064&&k!==null)k.return=w,de=k;else e:for(w=O;de!==null;){if(C=de,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:wl(9,C)}}catch(ve){gt(C,C.return,ve)}if(C===w){de=null;break e}var J=C.sibling;if(J!==null){J.return=C.return,de=J;break e}de=C.return}}if(Fe=g,ji(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(ko,r)}catch{}f=!0}return f}finally{He=u,Tn.transition=a}}return!1}function Tm(r,a,u){a=rs(u,a),a=Xg(r,a,1),r=$i(r,a,1),a=qt(),r!==null&&(Hs(r,1,a),on(r,a))}function gt(r,a,u){if(r.tag===3)Tm(r,r,u);else for(;a!==null;){if(a.tag===3){Tm(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))){r=rs(u,r),r=Vg(a,r,1),a=$i(a,r,1),r=qt(),a!==null&&(Hs(a,1,r),on(a,r));break}}a=a.return}}function sE(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),a=qt(),r.pingedLanes|=r.suspendedLanes&u,It===r&&(Lt&u)===u&&(Rt===4||Rt===3&&(Lt&130023424)===Lt&&500>vt()-Pc?Cr(r,0):Ac|=u),on(r,a)}function Im(r,a){a===0&&(r.mode&1?(a=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):a=1);var u=qt();r=pi(r,a),r!==null&&(Hs(r,a,u),on(r,u))}function aE(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),Im(r,u)}function oE(r,a){var u=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),Im(r,u)}var Am;Am=function(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps||nn.current)sn=!0;else{if(!(r.lanes&u)&&!(a.flags&128))return sn=!1,qv(r,a,u);sn=!!(r.flags&131072)}else sn=!1,ot&&a.flags&1048576&&lg(a,rl,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;vl(r,a),r=a.pendingProps;var g=Yr(a,bt.current);ns(a,u),g=oc(null,a,f,r,g,u);var _=lc();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,rn(f)?(_=!0,tl(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ec(a),g.updater=_l,a.stateNode=g,g._reactInternals=a,gc(a,f,r,u),a=yc(null,a,f,!0,_,u)):(a.tag=0,ot&&_&&Wh(a),Kt(null,a,g,u),a=a.child),a;case 16:f=a.elementType;e:{switch(vl(r,a),r=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=uE(f),r=bn(f,r),g){case 0:a=_c(null,a,f,r,u);break e;case 1:a=tm(null,a,f,r,u);break e;case 11:a=Yg(null,a,f,r,u);break e;case 14:a=Zg(null,a,f,bn(f.type,r),u);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:bn(f,g),_c(r,a,f,g,u);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:bn(f,g),tm(r,a,f,g,u);case 3:e:{if(nm(a),r===null)throw Error(n(387));f=a.pendingProps,_=a.memoizedState,g=_.element,_g(r,a),hl(a,f,null,u);var w=a.memoizedState;if(f=w.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=rs(Error(n(423)),a),a=im(r,a,f,u,g);break e}else if(f!==g){g=rs(Error(n(424)),a),a=im(r,a,f,u,g);break e}else for(yn=zi(a.stateNode.containerInfo.firstChild),_n=a,ot=!0,Fn=null,u=mg(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jr(),f===g){a=yi(r,a,u);break e}Kt(r,a,f,u)}a=a.child}return a;case 5:return Eg(a),r===null&&Kh(a),f=a.type,g=a.pendingProps,_=r!==null?r.memoizedProps:null,w=g.children,zh(f,g)?w=null:_!==null&&zh(f,_)&&(a.flags|=32),em(r,a),Kt(r,a,w,u),a.child;case 6:return r===null&&Kh(a),null;case 13:return rm(r,a,u);case 4:return tc(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=es(a,null,f,u):Kt(r,a,f,u),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:bn(f,g),Yg(r,a,f,g,u);case 7:return Kt(r,a,a.pendingProps,u),a.child;case 8:return Kt(r,a,a.pendingProps.children,u),a.child;case 12:return Kt(r,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,_=a.memoizedProps,w=g.value,it(ol,f._currentValue),f._currentValue=w,_!==null)if(Dn(_.value,w)){if(_.children===g.children&&!nn.current){a=yi(r,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var C=_.dependencies;if(C!==null){w=_.child;for(var I=C.firstContext;I!==null;){if(I.context===f){if(_.tag===1){I=_i(-1,u&-u),I.tag=2;var F=_.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?I.next=I:(I.next=q.next,q.next=I),F.pending=I}}_.lanes|=u,I=_.alternate,I!==null&&(I.lanes|=u),Qh(_.return,u,a),C.lanes|=u;break}I=I.next}}else if(_.tag===10)w=_.type===a.type?null:_.child;else if(_.tag===18){if(w=_.return,w===null)throw Error(n(341));w.lanes|=u,C=w.alternate,C!==null&&(C.lanes|=u),Qh(w,u,a),w=_.sibling}else w=_.child;if(w!==null)w.return=_;else for(w=_;w!==null;){if(w===a){w=null;break}if(_=w.sibling,_!==null){_.return=w.return,w=_;break}w=w.return}_=w}Kt(r,a,g.children,u),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ns(a,u),g=Cn(g),f=f(g),a.flags|=1,Kt(r,a,f,u),a.child;case 14:return f=a.type,g=bn(f,a.pendingProps),g=bn(f.type,g),Zg(r,a,f,g,u);case 15:return Qg(r,a,a.type,a.pendingProps,u);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:bn(f,g),vl(r,a),a.tag=1,rn(f)?(r=!0,tl(a)):r=!1,ns(a,u),$g(a,f,g),gc(a,f,g,u),yc(null,a,f,!0,r,u);case 19:return am(r,a,u);case 22:return Jg(r,a,u)}throw Error(n(156,a.tag))};function Pm(r,a){return u0(r,a)}function lE(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,a,u,f){return new lE(r,a,u,f)}function zc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function uE(r){if(typeof r=="function")return zc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===te)return 14}return 2}function Hi(r,a){var u=r.alternate;return u===null?(u=In(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Pl(r,a,u,f,g,_){var w=2;if(f=r,typeof r=="function")zc(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case V:return Tr(u.children,g,_,a);case D:w=8,g|=8;break;case j:return r=In(12,u,a,g|2),r.elementType=j,r.lanes=_,r;case Q:return r=In(13,u,a,g),r.elementType=Q,r.lanes=_,r;case ae:return r=In(19,u,a,g),r.elementType=ae,r.lanes=_,r;case re:return Ll(u,g,_,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:w=10;break e;case ie:w=9;break e;case ee:w=11;break e;case te:w=14;break e;case _e:w=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=In(w,u,a,g),a.elementType=r,a.type=f,a.lanes=_,a}function Tr(r,a,u,f){return r=In(7,r,f,a),r.lanes=u,r}function Ll(r,a,u,f){return r=In(22,r,f,a),r.elementType=re,r.lanes=u,r.stateNode={isHidden:!1},r}function Uc(r,a,u){return r=In(6,r,null,a),r.lanes=u,r}function Gc(r,a,u){return a=In(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function hE(r,a,u,f,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dh(0),this.expirationTimes=dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function jc(r,a,u,f,g,_,w,C,I){return r=new hE(r,a,u,C,I),a===1?(a=1,_===!0&&(a|=8)):a=0,_=In(3,null,null,a),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(_),r}function cE(r,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:f==null?null:""+f,children:r,containerInfo:a,implementation:u}}function Lm(r){if(!r)return Gi;r=r._reactInternals;e:{if(mr(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(rn(u))return sg(r,u,a)}return a}function Om(r,a,u,f,g,_,w,C,I){return r=jc(u,f,!0,r,g,_,w,C,I),r.context=Lm(null),u=r.current,f=qt(),g=Ki(u),_=_i(f,g),_.callback=a??null,$i(u,_,g),r.current.lanes=g,Hs(r,g,f),on(r,f),r}function Ol(r,a,u,f){var g=a.current,_=qt(),w=Ki(g);return u=Lm(u),a.context===null?a.context=u:a.pendingContext=u,a=_i(_,w),a.payload={element:r},f=f===void 0?null:f,f!==null&&(a.callback=f),r=$i(g,a,w),r!==null&&(Gn(r,g,w,_),ul(r,g,w)),w}function Nl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Nm(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Bc(r,a){Nm(r,a),(r=r.alternate)&&Nm(r,a)}var km=typeof reportError=="function"?reportError:function(r){console.error(r)};function $c(r){this._internalRoot=r}kl.prototype.render=$c.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));Ol(r,a,null,null)},kl.prototype.unmount=$c.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Rr(function(){Ol(null,r,null,null)}),a[fi]=null}};function kl(r){this._internalRoot=r}kl.prototype.unstable_scheduleHydration=function(r){if(r){var a=_0();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Di.length&&a!==0&&a<Di[u].priority;u++);Di.splice(u,0,r),u===0&&E0(r)}};function Wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Dl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function fE(r,a,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var F=Nl(w);_.call(F)}}var w=Om(a,f,r,0,null,!1,!1,"",Dm);return r._reactRootContainer=w,r[fi]=w.current,ua(r.nodeType===8?r.parentNode:r),Rr(),w}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var C=f;f=function(){var F=Nl(I);C.call(F)}}var I=jc(r,0,!1,null,null,!1,!1,"",Dm);return r._reactRootContainer=I,r[fi]=I.current,ua(r.nodeType===8?r.parentNode:r),Rr(function(){Ol(a,I,u,f)}),I}function Fl(r,a,u,f,g){var _=u._reactRootContainer;if(_){var w=_;if(typeof g=="function"){var C=g;g=function(){var I=Nl(w);C.call(I)}}Ol(a,w,r,g)}else w=fE(u,a,r,g,f);return Nl(w)}m0=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var u=qs(a.pendingLanes);u!==0&&(gh(a,u|1),on(a,vt()),!(Fe&6)&&(os=vt()+500,ji()))}break;case 13:Rr(function(){var f=pi(r,1);if(f!==null){var g=qt();Gn(f,r,1,g)}}),Bc(r,1)}},mh=function(r){if(r.tag===13){var a=pi(r,134217728);if(a!==null){var u=qt();Gn(a,r,134217728,u)}Bc(r,134217728)}},p0=function(r){if(r.tag===13){var a=Ki(r),u=pi(r,a);if(u!==null){var f=qt();Gn(u,r,a,f)}Bc(r,a)}},_0=function(){return He},y0=function(r,a){var u=He;try{return He=r,a()}finally{He=u}},et=function(r,a,u){switch(a){case"input":if(qe(r,u),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var g=Jo(f);if(!g)throw Error(n(90));at(f),qe(f,g)}}}break;case"textarea":li(r,u);break;case"select":a=u.value,a!=null&&yt(r,!!u.multiple,a,!1)}},n0=Dc,i0=Rr;var dE={usingClientEntryPoint:!1,Events:[fa,qr,Jo,e0,t0,Dc]},Sa={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gE={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=o0(r),r===null?null:r.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{ko=bl.inject(gE),Kn=bl}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE,ln.createPortal=function(r,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(a))throw Error(n(200));return cE(r,a,null,u)},ln.createRoot=function(r,a){if(!Wc(r))throw Error(n(299));var u=!1,f="",g=km;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=jc(r,1,!1,null,null,u,!1,f,g),r[fi]=a.current,ua(r.nodeType===8?r.parentNode:r),new $c(a)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=o0(a),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return Rr(r)},ln.hydrate=function(r,a,u){if(!Dl(a))throw Error(n(200));return Fl(null,r,a,!0,u)},ln.hydrateRoot=function(r,a,u){if(!Wc(r))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",w=km;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),a=Om(a,null,r,1,u??null,g,!1,_,w),r[fi]=a.current,ua(r),f)for(r=0;r<f.length;r++)u=f[r],g=u._getVersion,g=g(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,g]:a.mutableSourceEagerHydrationData.push(u,g);return new kl(a)},ln.render=function(r,a,u){if(!Dl(a))throw Error(n(200));return Fl(null,r,a,!1,u)},ln.unmountComponentAtNode=function(r){if(!Dl(r))throw Error(n(40));return r._reactRootContainer?(Rr(function(){Fl(null,null,r,!1,function(){r._reactRootContainer=null,r[fi]=null})}),!0):!1},ln.unstable_batchedUpdates=Dc,ln.unstable_renderSubtreeIntoContainer=function(r,a,u,f){if(!Dl(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Fl(r,a,u,!1,f)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var $m;function CE(){if($m)return Kc.exports;$m=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kc.exports=RE(),Kc.exports}var Wm;function SE(){if(Wm)return zl;Wm=1;var t=CE();return zl.createRoot=t.createRoot,zl.hydrateRoot=t.hydrateRoot,zl}var TE=SE();function IE(){return ze.jsxs(ze.Fragment,{children:[ze.jsx("div",{style:{margin:"20vh auto",width:"fit-content",height:"40vh",padding:"0",display:"flex"},children:ze.jsx("img",{src:"logo-skysnap-sq.webp"})}),ze.jsx("h1",{style:{textAlign:"center",fontFamily:"sans-serif, Arial"},children:"SkySnap - Rekrutacja 2025"})]})}var Ia={},Xm;function AE(){if(Xm)return Ia;Xm=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.parse=l,Ia.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,E){const v=new o,M=y.length;if(M<2)return v;const x=(E==null?void 0:E.decode)||m;let R=0;do{const S=y.indexOf("=",R);if(S===-1)break;const L=y.indexOf(";",R),A=L===-1?M:L;if(S>A){R=y.lastIndexOf(";",S-1)+1;continue}const P=h(y,R,S),b=c(y,S,P),V=y.slice(P,b);if(v[V]===void 0){let D=h(y,S+1,A),j=c(y,A,D);const G=x(y.slice(D,j));v[V]=G}R=A+1}while(R<M);return v}function h(y,E,v){do{const M=y.charCodeAt(E);if(M!==32&&M!==9)return E}while(++E<v);return v}function c(y,E,v){for(;E>v;){const M=y.charCodeAt(--E);if(M!==32&&M!==9)return E+1}return v}function d(y,E,v){const M=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const x=M(E);if(!e.test(x))throw new TypeError(`argument val is invalid: ${E}`);let R=y+"="+x;if(!v)return R;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);R+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);R+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);R+="; Path="+v.path}if(v.expires){if(!p(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);R+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(R+="; HttpOnly"),v.secure&&(R+="; Secure"),v.partitioned&&(R+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return R}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return s.call(y)==="[object Date]"}return Ia}AE();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vm="popstate";function PE(t={}){function e(i,s){let{pathname:o,search:l,hash:h}=i.location;return Af("",{pathname:o,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Qa(s)}return OE(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LE(){return Math.random().toString(36).substring(2,10)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function Af(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gs(e):e,state:n,key:e&&e.key||i||LE()}}function Qa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function OE(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,h="POP",c=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function p(){h="POP";let x=m(),R=x==null?null:x-d;d=x,c&&c({action:h,location:M.location,delta:R})}function y(x,R){h="PUSH";let S=Af(M.location,x,R);d=m()+1;let L=Km(S,d),A=M.createHref(S);try{l.pushState(L,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}o&&c&&c({action:h,location:M.location,delta:1})}function E(x,R){h="REPLACE";let S=Af(M.location,x,R);d=m();let L=Km(S,d),A=M.createHref(S);l.replaceState(L,"",A),o&&c&&c({action:h,location:M.location,delta:0})}function v(x){let R=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof x=="string"?x:Qa(x);return S=S.replace(/ $/,"%20"),ft(R,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,R)}let M={get action(){return h},get location(){return t(s,l)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vm,p),c=x,()=>{s.removeEventListener(Vm,p),c=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let R=v(x);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:E,go(x){return l.go(x)}};return M}function C1(t,e,n="/"){return NE(t,e,n,!1)}function NE(t,e,n,i){let s=typeof e=="string"?Gs(e):e,o=Ci(s.pathname||"/",n);if(o==null)return null;let l=S1(t);kE(l);let h=null;for(let c=0;h==null&&c<l.length;++c){let d=XE(o);h=$E(l[c],d,i)}return h}function S1(t,e=[],n=[],i=""){let s=(o,l,h)=>{let c={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let d=Ri([i,c.relativePath]),m=n.concat(c);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),S1(o.children,e,m,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:jE(d,o.index),routesMeta:m})};return t.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,l);else for(let c of T1(o.path))s(o,l,c)}),e}function T1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=T1(i.join("/")),h=[];return h.push(...l.map(c=>c===""?o:[o,c].join("/"))),s&&h.push(...l),h.map(c=>t.startsWith("/")&&c===""?"/":c)}function kE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var DE=/^:[\w-]+$/,FE=3,bE=2,zE=1,UE=10,GE=-2,qm=t=>t==="*";function jE(t,e){let n=t.split("/"),i=n.length;return n.some(qm)&&(i+=GE),e&&(i+=bE),n.filter(s=>!qm(s)).reduce((s,o)=>s+(DE.test(o)?FE:o===""?zE:UE),i)}function BE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function $E(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",l=[];for(let h=0;h<i.length;++h){let c=i[h],d=h===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",p=cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),y=c.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:Ri([o,p.pathname]),pathnameBase:HE(Ri([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Ri([o,p.pathnameBase]))}return l}function cu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=WE(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:p},y)=>{if(m==="*"){let v=h[y]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const E=h[y];return p&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function WE(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,c)=>(i.push({paramName:h,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function XE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function VE(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Gs(t):t;return{pathname:n?n.startsWith("/")?n:KE(n,e):e,search:YE(i),hash:ZE(s)}}function KE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yc(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I1(t){let e=qE(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function A1(t,e,n,i=!1){let s;typeof t=="string"?s=Gs(t):(s={...t},ft(!s.pathname||!s.pathname.includes("?"),Yc("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Yc("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Yc("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,h;if(l==null)h=n;else{let p=e.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}h=p>=0?e[p]:"/"}let c=VE(s,h),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var Ri=t=>t.join("/").replace(/\/\/+/g,"/"),HE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var JE=["GET",...P1];new Set(JE);var js=U.createContext(null);js.displayName="DataRouter";var Fu=U.createContext(null);Fu.displayName="DataRouterState";var L1=U.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var e2=U.createContext(new Map);e2.displayName="Fetchers";var t2=U.createContext(null);t2.displayName="Await";var ai=U.createContext(null);ai.displayName="Navigation";var fo=U.createContext(null);fo.displayName="Location";var oi=U.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var ad=U.createContext(null);ad.displayName="RouteError";function n2(t,{relative:e}={}){ft(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(ai),{hash:s,pathname:o,search:l}=mo(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ri([n,o])),i.createHref({pathname:h,search:l,hash:s})}function go(){return U.useContext(fo)!=null}function zr(){return ft(go(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(fo).location}var O1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(t){U.useContext(ai).static||U.useLayoutEffect(t)}function i2(){let{isDataRoute:t}=U.useContext(oi);return t?y2():r2()}function r2(){ft(go(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(js),{basename:e,navigator:n}=U.useContext(ai),{matches:i}=U.useContext(oi),{pathname:s}=zr(),o=JSON.stringify(I1(i)),l=U.useRef(!1);return N1(()=>{l.current=!0}),U.useCallback((c,d={})=>{if(ri(l.current,O1),!l.current)return;if(typeof c=="number"){n.go(c);return}let m=A1(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ri([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,o,s,t])}var s2=U.createContext(null);function a2(t){let e=U.useContext(oi).outlet;return e&&U.createElement(s2.Provider,{value:t},e)}function mo(t,{relative:e}={}){let{matches:n}=U.useContext(oi),{pathname:i}=zr(),s=JSON.stringify(I1(n));return U.useMemo(()=>A1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function o2(t,e){return k1(t,e)}function k1(t,e,n,i){var S;ft(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=U.useContext(ai),{matches:l}=U.useContext(oi),h=l[l.length-1],c=h?h.params:{},d=h?h.pathname:"/",m=h?h.pathnameBase:"/",p=h&&h.route;{let L=p&&p.path||"";D1(d,!p||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let y=zr(),E;if(e){let L=typeof e=="string"?Gs(e):e;ft(m==="/"||((S=L.pathname)==null?void 0:S.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=y;let v=E.pathname||"/",M=v;if(m!=="/"){let L=m.replace(/^\//,"").split("/");M="/"+v.replace(/^\//,"").split("/").slice(L.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:C1(t,{pathname:M});ri(p||x!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ri(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=f2(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:Ri([m,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Ri([m,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return e&&R?U.createElement(fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function l2(){let t=_2(),e=QE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:s},n):null,l)}var u2=U.createElement(l2,null),h2=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(oi.Provider,{value:this.props.routeContext},U.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:t,match:e,children:n}){let i=U.useContext(js);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(oi.Provider,{value:t},n)}function f2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ft(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,h=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=c),d.route.id){let{loaderData:m,errors:p}=n,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((c,d,m)=>{let p,y=!1,E=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||u2,l&&(h<0&&m===0?(D1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):h===m&&(y=!0,v=d.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,m+1)),x=()=>{let R;return p?R=E:y?R=v:d.route.Component?R=U.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=c,U.createElement(c2,{match:d,routeContext:{outlet:c,matches:M,isDataRoute:n!=null},children:R})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?U.createElement(h2,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function od(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(t){let e=U.useContext(js);return ft(e,od(t)),e}function g2(t){let e=U.useContext(Fu);return ft(e,od(t)),e}function m2(t){let e=U.useContext(oi);return ft(e,od(t)),e}function ld(t){let e=m2(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p2(){return ld("useRouteId")}function _2(){var i;let t=U.useContext(ad),e=g2("useRouteError"),n=ld("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function y2(){let{router:t}=d2("useNavigate"),e=ld("useNavigate"),n=U.useRef(!1);return N1(()=>{n.current=!0}),U.useCallback(async(s,o={})=>{ri(n.current,O1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Hm={};function D1(t,e,n){!e&&!Hm[t]&&(Hm[t]=!0,ri(!1,n))}U.memo(v2);function v2({routes:t,future:e,state:n}){return k1(t,void 0,n,e)}function E2(t){return a2(t.context)}function Fa(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){ft(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Gs(n));let{pathname:c="/",search:d="",hash:m="",state:p=null,key:y="default"}=n,E=U.useMemo(()=>{let v=Ci(c,l);return v==null?null:{location:{pathname:v,search:d,hash:m,state:p,key:y},navigationType:i}},[l,c,d,m,p,y,i]);return ri(E!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:U.createElement(ai.Provider,{value:h},U.createElement(fo.Provider,{children:e,value:E}))}function M2({children:t,location:e}){return o2(Pf(t),e)}function Pf(t,e=[]){let n=[];return U.Children.forEach(t,(i,s)=>{if(!U.isValidElement(i))return;let o=[...e,s];if(i.type===U.Fragment){n.push.apply(n,Pf(i.props.children,o));return}ft(i.type===Fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Pf(i.props.children,o)),n.push(l)}),n}var tu="get",nu="application/x-www-form-urlencoded";function bu(t){return t!=null&&typeof t.tagName=="string"}function x2(t){return bu(t)&&t.tagName.toLowerCase()==="button"}function R2(t){return bu(t)&&t.tagName.toLowerCase()==="form"}function C2(t){return bu(t)&&t.tagName.toLowerCase()==="input"}function S2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T2(t,e){return t.button===0&&(!e||e==="_self")&&!S2(t)}var Ul=null;function I2(){if(Ul===null)try{new FormData(document.createElement("form"),0),Ul=!1}catch{Ul=!0}return Ul}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zc(t){return t!=null&&!A2.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):t}function P2(t,e){let n,i,s,o,l;if(R2(t)){let h=t.getAttribute("action");i=h?Ci(h,e):null,n=t.getAttribute("method")||tu,s=Zc(t.getAttribute("enctype"))||nu,o=new FormData(t)}else if(x2(t)||C2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||h.getAttribute("action");if(i=c?Ci(c,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||tu,s=Zc(t.getAttribute("formenctype"))||Zc(h.getAttribute("enctype"))||nu,o=new FormData(h,t),!I2()){let{name:d,type:m,value:p}=t;if(m==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,p)}}else{if(bu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,i=null,s=nu,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:l}}function ud(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function L2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N2(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await L2(o,n);return l.links?l.links():[]}return[]}));return b2(i.flat(1).filter(O2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ym(t,e,n,i,s,o){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,h=(c,d)=>{var m;return n[d].pathname!==c.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>l(c,d)||h(c,d)):o==="data"?e.filter((c,d)=>{var p;let m=i.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(l(c,d)||h(c,d))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function k2(t,e,{includeHydrateFallback:n}={}){return D2(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function D2(t){return[...new Set(t)]}function F2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function b2(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(F2(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function z2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ci(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F1(){let t=U.useContext(js);return ud(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U2(){let t=U.useContext(Fu);return ud(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hd=U.createContext(void 0);hd.displayName="FrameworkContext";function b1(){let t=U.useContext(hd);return ud(t,"You must render this element inside a <HydratedRouter> element"),t}function G2(t,e){let n=U.useContext(hd),[i,s]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:h,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=e,y=U.useRef(null);U.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let M=R=>{R.forEach(S=>{l(S.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return y.current&&x.observe(y.current),()=>{x.disconnect()}}},[t]),U.useEffect(()=>{if(i){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[i]);let E=()=>{s(!0)},v=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Aa(h,E),onBlur:Aa(c,v),onMouseEnter:Aa(d,E),onMouseLeave:Aa(m,v),onTouchStart:Aa(p,E)}]:[!1,y,{}]}function Aa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function j2({page:t,...e}){let{router:n}=F1(),i=U.useMemo(()=>C1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement($2,{page:t,matches:i,...e}):null}function B2(t){let{manifest:e,routeModules:n}=b1(),[i,s]=U.useState([]);return U.useEffect(()=>{let o=!1;return N2(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),i}function $2({page:t,matches:e,...n}){let i=zr(),{manifest:s,routeModules:o}=b1(),{basename:l}=F1(),{loaderData:h,matches:c}=U2(),d=U.useMemo(()=>Ym(t,e,c,s,i,"data"),[t,e,c,s,i]),m=U.useMemo(()=>Ym(t,e,c,s,i,"assets"),[t,e,c,s,i]),p=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let v=new Set,M=!1;if(e.forEach(R=>{var L;let S=s.routes[R.route.id];!S||!S.hasLoader||(!d.some(A=>A.route.id===R.route.id)&&R.route.id in h&&((L=o[R.route.id])!=null&&L.shouldRevalidate)||S.hasClientLoader?M=!0:v.add(R.route.id))}),v.size===0)return[];let x=z2(t,l);return M&&v.size>0&&x.searchParams.set("_routes",e.filter(R=>v.has(R.route.id)).map(R=>R.route.id).join(",")),[x.pathname+x.search]},[l,h,i,s,d,e,t,o]),y=U.useMemo(()=>k2(m,s),[m,s]),E=B2(m);return U.createElement(U.Fragment,null,p.map(v=>U.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>U.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),E.map(({key:v,link:M})=>U.createElement("link",{key:v,...M})))}function W2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.3.0")}catch{}function X2({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=PE({window:n,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),h=U.useCallback(c=>{U.startTransition(()=>l(c))},[l]);return U.useLayoutEffect(()=>s.listen(h),[s,h]),U.createElement(w2,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G1=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:h,target:c,to:d,preventScrollReset:m,viewTransition:p,...y},E){let{basename:v}=U.useContext(ai),M=typeof d=="string"&&U1.test(d),x,R=!1;if(typeof d=="string"&&M&&(x=d,z1))try{let j=new URL(window.location.href),G=d.startsWith("//")?new URL(j.protocol+d):new URL(d),ie=Ci(G.pathname,v);G.origin===j.origin&&ie!=null?d=ie+G.search+G.hash:R=!0}catch{ri(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=n2(d,{relative:s}),[L,A,P]=G2(i,y),b=q2(d,{replace:l,state:h,target:c,preventScrollReset:m,relative:s,viewTransition:p});function V(j){e&&e(j),j.defaultPrevented||b(j)}let D=U.createElement("a",{...y,...P,href:x||S,onClick:R||o?e:V,ref:W2(E,A),target:c,"data-discover":!M&&n==="render"?"true":void 0});return L&&!M?U.createElement(U.Fragment,null,D,U.createElement(j2,{page:S})):D});G1.displayName="Link";var iu=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:h,children:c,...d},m){let p=mo(l,{relative:d.relative}),y=zr(),E=U.useContext(Fu),{navigator:v,basename:M}=U.useContext(ai),x=E!=null&&J2(p)&&h===!0,R=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=y.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(S=S.toLowerCase(),L=L?L.toLowerCase():null,R=R.toLowerCase()),L&&M&&(L=Ci(L,M)||L);const A=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let P=S===R||!s&&S.startsWith(R)&&S.charAt(A)==="/",b=L!=null&&(L===R||!s&&L.startsWith(R)&&L.charAt(R.length)==="/"),V={isActive:P,isPending:b,isTransitioning:x},D=P?e:void 0,j;typeof i=="function"?j=i(V):j=[i,P?"active":null,b?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(V):o;return U.createElement(G1,{...d,"aria-current":D,className:j,ref:m,style:G,to:l,viewTransition:h},typeof c=="function"?c(V):c)});iu.displayName="NavLink";var V2=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:l=tu,action:h,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:p,...y},E)=>{let v=Z2(),M=Q2(h,{relative:d}),x=l.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&U1.test(h),S=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let A=L.nativeEvent.submitter,P=(A==null?void 0:A.getAttribute("formmethod"))||l;v(A||L.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:o,relative:d,preventScrollReset:m,viewTransition:p})};return U.createElement("form",{ref:E,method:x,action:M,onSubmit:i?c:S,...y,"data-discover":!R&&t==="render"?"true":void 0})});V2.displayName="Form";function K2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(t){let e=U.useContext(js);return ft(e,K2(t)),e}function q2(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let h=i2(),c=zr(),d=mo(t,{relative:o});return U.useCallback(m=>{if(T2(m,e)){m.preventDefault();let p=n!==void 0?n:Qa(c)===Qa(d);h(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,h,d,n,i,e,t,s,o,l])}var H2=0,Y2=()=>`__${String(++H2)}__`;function Z2(){let{router:t}=j1("useSubmit"),{basename:e}=U.useContext(ai),n=p2();return U.useCallback(async(i,s={})=>{let{action:o,method:l,encType:h,formData:c,body:d}=P2(i,e);if(s.navigate===!1){let m=s.fetcherKey||Y2();await t.fetch(m,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Q2(t,{relative:e}={}){let{basename:n}=U.useContext(ai),i=U.useContext(oi);ft(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...mo(t||".",{relative:e})},l=zr();if(t==null){o.search=l.search;let h=new URLSearchParams(o.search),c=h.getAll("index");if(c.some(m=>m==="")){h.delete("index"),c.filter(p=>p).forEach(p=>h.append("index",p));let m=h.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ri([n,o.pathname])),Qa(o)}function J2(t,e={}){let n=U.useContext(L1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=j1("useViewTransitionState"),s=mo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ci(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Ci(n.nextLocation.pathname,i)||n.nextLocation.pathname;return cu(s.pathname,l)!=null||cu(s.pathname,o)!=null}new TextEncoder;function ew(){return ze.jsxs(ze.Fragment,{children:[ze.jsxs("nav",{children:[ze.jsx(iu,{to:"/",children:"Home"}),ze.jsx(iu,{to:"/2d",children:"2D"}),ze.jsx(iu,{to:"/3d",children:"3D"})]}),ze.jsx("main",{children:ze.jsx(E2,{})})]})}var Qc={exports:{}},Jc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function tw(){if(Zm)return Jc;Zm=1;var t=Du();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function h(p,y){var E=y(),v=i({inst:{value:E,getSnapshot:y}}),M=v[0].inst,x=v[1];return o(function(){M.value=E,M.getSnapshot=y,c(M)&&x({inst:M})},[p,E,y]),s(function(){return c(M)&&x({inst:M}),p(function(){c(M)&&x({inst:M})})},[p]),l(E),E}function c(p){var y=p.getSnapshot;p=p.value;try{var E=y();return!n(p,E)}catch{return!0}}function d(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:h;return Jc.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Jc}var Qm;function nw(){return Qm||(Qm=1,Qc.exports=tw()),Qc.exports}var iw=nw();const B1=0,$1=1,W1=2,Jm=3;var ep=Object.prototype.hasOwnProperty;function Lf(t,e){var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Lf(t[i],e[i]););return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(ep.call(t,n)&&++i&&!ep.call(e,n)||!(n in e)||!Lf(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}const Mi=new WeakMap,sr=()=>{},Yt=sr(),Of=Object,be=t=>t===Yt,Jn=t=>typeof t=="function",lr=(t,e)=>({...t,...e}),X1=t=>Jn(t.then),ef={},Gl={},cd="undefined",po=typeof window!=cd,Nf=typeof document!=cd,rw=po&&"Deno"in window,sw=()=>po&&typeof window.requestAnimationFrame!=cd,V1=(t,e)=>{const n=Mi.get(t);return[()=>!be(e)&&t.get(e)||ef,i=>{if(!be(e)){const s=t.get(e);e in Gl||(Gl[e]=s),n[5](e,lr(s,i),s||ef)}},n[6],()=>!be(e)&&e in Gl?Gl[e]:!be(e)&&t.get(e)||ef]};let kf=!0;const aw=()=>kf,[Df,Ff]=po&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[sr,sr],ow=()=>{const t=Nf&&document.visibilityState;return be(t)||t!=="hidden"},lw=t=>(Nf&&document.addEventListener("visibilitychange",t),Df("focus",t),()=>{Nf&&document.removeEventListener("visibilitychange",t),Ff("focus",t)}),uw=t=>{const e=()=>{kf=!0,t()},n=()=>{kf=!1};return Df("online",e),Df("offline",n),()=>{Ff("online",e),Ff("offline",n)}},hw={isOnline:aw,isVisible:ow},cw={initFocus:lw,initReconnect:uw},tp=!sd.useId,Ja=!po||rw,fw=t=>sw()?window.requestAnimationFrame(t):setTimeout(t,1),tf=Ja?U.useEffect:U.useLayoutEffect,nf=typeof navigator<"u"&&navigator.connection,np=!Ja&&nf&&(["slow-2g","2g"].includes(nf.effectiveType)||nf.saveData),jl=new WeakMap,rf=(t,e)=>Of.prototype.toString.call(t)===`[object ${e}]`;let dw=0;const bf=t=>{const e=typeof t,n=rf(t,"Date"),i=rf(t,"RegExp"),s=rf(t,"Object");let o,l;if(Of(t)===t&&!n&&!i){if(o=jl.get(t),o)return o;if(o=++dw+"~",jl.set(t,o),Array.isArray(t)){for(o="@",l=0;l<t.length;l++)o+=bf(t[l])+",";jl.set(t,o)}if(s){o="#";const h=Of.keys(t).sort();for(;!be(l=h.pop());)be(t[l])||(o+=l+":"+bf(t[l])+",");jl.set(t,o)}}else o=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},fd=t=>{if(Jn(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?bf(t):"",[t,e]};let gw=0;const zf=()=>++gw;async function K1(...t){const[e,n,i,s]=t,o=lr({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let l=o.populateCache;const h=o.rollbackOnError;let c=o.optimisticData;const d=y=>typeof h=="function"?h(y):h!==!1,m=o.throwOnError;if(Jn(n)){const y=n,E=[],v=e.keys();for(const M of v)!/^\$(inf|sub)\$/.test(M)&&y(e.get(M)._k)&&E.push(M);return Promise.all(E.map(p))}return p(n);async function p(y){const[E]=fd(y);if(!E)return;const[v,M]=V1(e,E),[x,R,S,L]=Mi.get(e),A=()=>{const Q=x[E];return(Jn(o.revalidate)?o.revalidate(v().data,y):o.revalidate!==!1)&&(delete S[E],delete L[E],Q&&Q[0])?Q[0](W1).then(()=>v().data):v().data};if(t.length<3)return A();let P=i,b;const V=zf();R[E]=[V,0];const D=!be(c),j=v(),G=j.data,ie=j._c,ee=be(ie)?G:ie;if(D&&(c=Jn(c)?c(ee,G):c,M({data:c,_c:ee})),Jn(P))try{P=P(ee)}catch(Q){b=Q}if(P&&X1(P))if(P=await P.catch(Q=>{b=Q}),V!==R[E][0]){if(b)throw b;return P}else b&&D&&d(b)&&(l=!0,M({data:ee,_c:Yt}));if(l&&!b)if(Jn(l)){const Q=l(P,ee);M({data:Q,error:Yt,_c:Yt})}else M({data:P,error:Yt,_c:Yt});if(R[E][1]=zf(),Promise.resolve(A()).then(()=>{M({_c:Yt})}),b){if(m)throw b;return}return P}}const ip=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},mw=(t,e)=>{if(!Mi.has(t)){const n=lr(cw,e),i=Object.create(null),s=K1.bind(Yt,t);let o=sr;const l=Object.create(null),h=(m,p)=>{const y=l[m]||[];return l[m]=y,y.push(p),()=>y.splice(y.indexOf(p),1)},c=(m,p,y)=>{t.set(m,p);const E=l[m];if(E)for(const v of E)v(p,y)},d=()=>{if(!Mi.has(t)&&(Mi.set(t,[i,Object.create(null),Object.create(null),Object.create(null),s,c,h]),!Ja)){const m=n.initFocus(setTimeout.bind(Yt,ip.bind(Yt,i,B1))),p=n.initReconnect(setTimeout.bind(Yt,ip.bind(Yt,i,$1)));o=()=>{m&&m(),p&&p(),Mi.delete(t)}}};return d(),[t,s,d,o]}return[t,Mi.get(t)[4]]},pw=(t,e,n,i,s)=>{const o=n.errorRetryCount,l=s.retryCount,h=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!be(o)&&l>o||setTimeout(i,h,s)},_w=Lf,[q1,yw]=mw(new Map),vw=lr({onLoadingSlow:sr,onSuccess:sr,onError:sr,onErrorRetry:pw,onDiscarded:sr,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:np?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:np?5e3:3e3,compare:_w,isPaused:()=>!1,cache:q1,mutate:yw,fallback:{}},hw),Ew=(t,e)=>{const n=lr(t,e);if(e){const{use:i,fallback:s}=t,{use:o,fallback:l}=e;i&&o&&(n.use=i.concat(o)),s&&l&&(n.fallback=lr(s,l))}return n},ww=U.createContext({}),Mw="$inf$",H1=po&&window.__SWR_DEVTOOLS_USE__,xw=H1?window.__SWR_DEVTOOLS_USE__:[],Rw=()=>{H1&&(window.__SWR_DEVTOOLS_REACT__=sd)},Cw=t=>Jn(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Sw=()=>lr(vw,U.useContext(ww)),Tw=t=>(e,n,i)=>t(e,n&&((...o)=>{const[l]=fd(e),[,,,h]=Mi.get(q1);if(l.startsWith(Mw))return n(...o);const c=h[l];return be(c)?n(...o):(delete h[l],c)}),i),Iw=xw.concat(Tw),Aw=t=>function(...n){const i=Sw(),[s,o,l]=Cw(n),h=Ew(i,l);let c=t;const{use:d}=h,m=(d||[]).concat(Iw);for(let p=m.length;p--;)c=m[p](c);return c(s,o||h.fetcher||null,h)},Pw=(t,e,n)=>{const i=e[t]||(e[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s>=0&&(i[s]=i[i.length-1],i.pop())}};Rw();const sf=sd.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),af={dedupe:!0},Lw=(t,e,n)=>{const{cache:i,compare:s,suspense:o,fallbackData:l,revalidateOnMount:h,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:m,refreshWhenOffline:p,keepPreviousData:y}=n,[E,v,M,x]=Mi.get(i),[R,S]=fd(t),L=U.useRef(!1),A=U.useRef(!1),P=U.useRef(R),b=U.useRef(e),V=U.useRef(n),D=()=>V.current,j=()=>D().isVisible()&&D().isOnline(),[G,ie,ee,Q]=V1(i,R),ae=U.useRef({}).current,te=be(l)?be(n.fallback)?Yt:n.fallback[R]:l,_e=(Ae,Ne)=>{for(const nt in ae){const Ue=nt;if(Ue==="data"){if(!s(Ae[Ue],Ne[Ue])&&(!be(Ae[Ue])||!s(fe,Ne[Ue])))return!1}else if(Ne[Ue]!==Ae[Ue])return!1}return!0},re=U.useMemo(()=>{const Ae=!R||!e?!1:be(h)?D().isPaused()||o?!1:c!==!1:h,Ne=Qe=>{const yt=lr(Qe);return delete yt._k,Ae?{isValidating:!0,isLoading:!0,...yt}:yt},nt=G(),Ue=Q(),qe=Ne(nt),_t=nt===Ue?qe:Ne(Ue);let Ze=qe;return[()=>{const Qe=Ne(G());return _e(Qe,Ze)?(Ze.data=Qe.data,Ze.isLoading=Qe.isLoading,Ze.isValidating=Qe.isValidating,Ze.error=Qe.error,Ze):(Ze=Qe,Qe)},()=>_t]},[i,R]),W=iw.useSyncExternalStore(U.useCallback(Ae=>ee(R,(Ne,nt)=>{_e(nt,Ne)||Ae()}),[i,R]),re[0],re[1]),ne=!L.current,$=E[R]&&E[R].length>0,T=W.data,z=be(T)?te&&X1(te)?sf(te):te:T,se=W.error,le=U.useRef(z),fe=y?be(T)?be(le.current)?z:le.current:T:z,me=$&&!be(se)?!1:ne&&!be(h)?h:D().isPaused()?!1:o?be(z)?!1:c:be(z)||c,ye=!!(R&&e&&ne&&me),Ee=be(W.isValidating)?ye:W.isValidating,Se=be(W.isLoading)?ye:W.isLoading,Oe=U.useCallback(async Ae=>{const Ne=b.current;if(!R||!Ne||A.current||D().isPaused())return!1;let nt,Ue,qe=!0;const _t=Ae||{},Ze=!M[R]||!_t.dedupe,Qe=()=>tp?!A.current&&R===P.current&&L.current:R===P.current,yt={isValidating:!1,isLoading:!1},wn=()=>{ie(yt)},Mn=()=>{const $e=M[R];$e&&$e[1]===Ue&&delete M[R]},li={isValidating:!0};be(G().data)&&(li.isLoading=!0);try{if(Ze&&(ie(li),n.loadingTimeout&&be(G().data)&&setTimeout(()=>{qe&&Qe()&&D().onLoadingSlow(R,n)},n.loadingTimeout),M[R]=[Ne(S),zf()]),[nt,Ue]=M[R],nt=await nt,Ze&&setTimeout(Mn,n.dedupingInterval),!M[R]||M[R][1]!==Ue)return Ze&&Qe()&&D().onDiscarded(R),!1;yt.error=Yt;const $e=v[R];if(!be($e)&&(Ue<=$e[0]||Ue<=$e[1]||$e[1]===0))return wn(),Ze&&Qe()&&D().onDiscarded(R),!1;const tn=G().data;yt.data=s(tn,nt)?tn:nt,Ze&&Qe()&&D().onSuccess(nt,R,n)}catch($e){Mn();const tn=D(),{shouldRetryOnError:ui}=tn;tn.isPaused()||(yt.error=$e,Ze&&Qe()&&(tn.onError($e,R,tn),(ui===!0||Jn(ui)&&ui($e))&&(!D().revalidateOnFocus||!D().revalidateOnReconnect||j())&&tn.onErrorRetry($e,R,tn,Pi=>{const hi=E[R];hi&&hi[0]&&hi[0](Jm,Pi)},{retryCount:(_t.retryCount||0)+1,dedupe:!0})))}return qe=!1,wn(),!0},[R,i]),wt=U.useCallback((...Ae)=>K1(i,P.current,...Ae),[]);if(tf(()=>{b.current=e,V.current=n,be(T)||(le.current=T)}),tf(()=>{if(!R)return;const Ae=Oe.bind(Yt,af);let Ne=0;D().revalidateOnFocus&&(Ne=Date.now()+D().focusThrottleInterval);const Ue=Pw(R,E,(qe,_t={})=>{if(qe==B1){const Ze=Date.now();D().revalidateOnFocus&&Ze>Ne&&j()&&(Ne=Ze+D().focusThrottleInterval,Ae())}else if(qe==$1)D().revalidateOnReconnect&&j()&&Ae();else{if(qe==W1)return Oe();if(qe==Jm)return Oe(_t)}});return A.current=!1,P.current=R,L.current=!0,ie({_k:S}),me&&(be(z)||Ja?Ae():fw(Ae)),()=>{A.current=!0,Ue()}},[R]),tf(()=>{let Ae;function Ne(){const Ue=Jn(d)?d(G().data):d;Ue&&Ae!==-1&&(Ae=setTimeout(nt,Ue))}function nt(){!G().error&&(m||D().isVisible())&&(p||D().isOnline())?Oe(af).then(Ne):Ne()}return Ne(),()=>{Ae&&(clearTimeout(Ae),Ae=-1)}},[d,m,p,R]),U.useDebugValue(fe),o&&be(z)&&R){if(!tp&&Ja)throw new Error("Fallback data is required when using Suspense in SSR.");b.current=e,V.current=n,A.current=!1;const Ae=x[R];if(!be(Ae)){const Ne=wt(Ae);sf(Ne)}if(be(se)){const Ne=Oe(af);be(fe)||(Ne.status="fulfilled",Ne.value=!0),sf(Ne)}else throw se}return{mutate:wt,get data(){return ae.data=!0,fe},get error(){return ae.error=!0,se},get isValidating(){return ae.isValidating=!0,Ee},get isLoading(){return ae.isLoading=!0,Se}}},rp=Aw(Lw),sp=(...t)=>fetch(...t).then(e=>e.json());function Ow(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var kr=1,Dr=2,Ss=3,Nw=4,Uf=5,ap=6378137,kw=6356752314e-3,op=.0066943799901413165,Va=484813681109536e-20,Y=Math.PI/2,Dw=.16666666666666666,Fw=.04722222222222222,bw=.022156084656084655,oe=1e-10,Ot=.017453292519943295,ti=57.29577951308232,We=Math.PI/4,eo=Math.PI*2,kt=3.14159265359,mn={};mn.greenwich=0;mn.lisbon=-9.131906111111;mn.paris=2.337229166667;mn.bogota=-74.080916666667;mn.madrid=-3.687938888889;mn.rome=12.452333333333;mn.bern=7.439583333333;mn.jakarta=106.807719444444;mn.ferro=-17.666666666667;mn.brussels=4.367975;mn.stockholm=18.058277777778;mn.athens=23.7163375;mn.oslo=10.722916666667;const zw={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var lp=/[\s_\-\/\(\)]/g;function ur(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(lp,""),s=-1,o,l;++s<n.length;)if(o=n[s],l=o.toLowerCase().replace(lp,""),l===i)return t[o]}function Gf(t){var e={},n=t.split("+").map(function(h){return h.trim()}).filter(function(h){return h}).reduce(function(h,c){var d=c.split("=");return d.push(!0),h[d[0].toLowerCase()]=d[1],h},{}),i,s,o,l={proj:"projName",datum:"datumCode",rf:function(h){e.rf=parseFloat(h)},lat_0:function(h){e.lat0=h*Ot},lat_1:function(h){e.lat1=h*Ot},lat_2:function(h){e.lat2=h*Ot},lat_ts:function(h){e.lat_ts=h*Ot},lon_0:function(h){e.long0=h*Ot},lon_1:function(h){e.long1=h*Ot},lon_2:function(h){e.long2=h*Ot},alpha:function(h){e.alpha=parseFloat(h)*Ot},gamma:function(h){e.rectified_grid_angle=parseFloat(h)},lonc:function(h){e.longc=h*Ot},x_0:function(h){e.x0=parseFloat(h)},y_0:function(h){e.y0=parseFloat(h)},k_0:function(h){e.k0=parseFloat(h)},k:function(h){e.k0=parseFloat(h)},a:function(h){e.a=parseFloat(h)},b:function(h){e.b=parseFloat(h)},r:function(h){e.a=e.b=parseFloat(h)},r_a:function(){e.R_A=!0},zone:function(h){e.zone=parseInt(h,10)},south:function(){e.utmSouth=!0},towgs84:function(h){e.datum_params=h.split(",").map(function(c){return parseFloat(c)})},to_meter:function(h){e.to_meter=parseFloat(h)},units:function(h){e.units=h;var c=ur(zw,h);c&&(e.to_meter=c.to_meter)},from_greenwich:function(h){e.from_greenwich=h*Ot},pm:function(h){var c=ur(mn,h);e.from_greenwich=(c||parseFloat(h))*Ot},nadgrids:function(h){h==="@null"?e.datumCode="none":e.nadgrids=h},axis:function(h){var c="ewnsud";h.length===3&&c.indexOf(h.substr(0,1))!==-1&&c.indexOf(h.substr(1,1))!==-1&&c.indexOf(h.substr(2,1))!==-1&&(e.axis=h)},approx:function(){e.approx=!0}};for(i in n)s=n[i],i in l?(o=l[i],typeof o=="function"?o(s):e[o]=s):e[i]=s;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var to=1,Y1=2,Z1=3,fu=4,Q1=5,dd=-1,Uw=/\s/,Gw=/[A-Za-z]/,jw=/[A-Za-z84_]/,zu=/[,\]]/,J1=/[\d\.E\-\+]/;function Ti(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=to}Ti.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==fu)for(;Uw.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case to:return this.neutral(t);case Y1:return this.keyword(t);case fu:return this.quoted(t);case Q1:return this.afterquote(t);case Z1:return this.number(t);case dd:return}};Ti.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=fu;return}if(zu.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};Ti.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=to;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=to,this.currentObject=this.stack.pop(),this.currentObject||(this.state=dd);return}};Ti.prototype.number=function(t){if(J1.test(t)){this.word+=t;return}if(zu.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};Ti.prototype.quoted=function(t){if(t==='"'){this.state=Q1;return}this.word+=t};Ti.prototype.keyword=function(t){if(jw.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=to;return}if(zu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};Ti.prototype.neutral=function(t){if(Gw.test(t)){this.word=t,this.state=Y1;return}if(t==='"'){this.word="",this.state=fu;return}if(J1.test(t)){this.word=t,this.state=Z1;return}if(zu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};Ti.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===dd)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Bw(t){var e=new Ti(t);return e.output()}function of(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,s=n.reduce(function(o,l){return ws(l,o),o},i);e&&(t[e]=s)}function ws(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},ws(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ws(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ws(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],of(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],of(e,n,t),e[n].type=n;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return ws(t,e[n]);return of(e,n,t)}}var $w=.017453292519943295,Ww=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Xw(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function Qn(t){return t*$w}function e_(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;++n){var s=e[n];Ww.indexOf(s)!==-1&&Vw(t[s]),typeof t[s]=="object"&&e_(t[s])}}function Vw(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",i=0,s=t.AXIS.length;i<s;++i){var o=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];o[0].indexOf("north")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="north"?n+="n":o[0].indexOf("south")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="south"?n+="s":o[0].indexOf("east")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="east"?n+="e":(o[0].indexOf("west")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var l=t.GEOGCS;t.type==="GEOGCS"&&(l=t),l&&(l.DATUM?t.datumCode=l.DATUM.name.toLowerCase():t.datumCode=l.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),l.DATUM&&l.DATUM.SPHEROID&&(t.ellps=l.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=l.DATUM.SPHEROID.a,t.rf=parseFloat(l.DATUM.SPHEROID.rf,10)),l.DATUM&&l.DATUM.TOWGS84&&(t.datum_params=l.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function h(m){var p=t.to_meter||1;return m*p}var c=function(m){return Xw(t,m)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Qn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Qn],["x0","false_easting",h],["y0","false_northing",h],["long0","central_meridian",Qn],["lat0","latitude_of_origin",Qn],["lat0","standard_parallel_1",Qn],["lat1","standard_parallel_1",Qn],["lat2","standard_parallel_2",Qn],["azimuth","Azimuth"],["alpha","azimuth",Qn],["srsCode","name"]];d.forEach(c),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Qn(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Qn(t.lat0>0?90:-90))}function t_(t){var e=Bw(t),n=e[0],i={};return ws(e,i),e_(i),i[n]}function Ht(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ht[t]=Gf(arguments[1]):Ht[t]=t_(arguments[1]):Ht[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Ht.apply(e,i):Ht(i)});if(typeof t=="string"){if(t in Ht)return Ht[t]}else"EPSG"in t?Ht["EPSG:"+t.EPSG]=t:"ESRI"in t?Ht["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ht["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Ow(Ht);function Kw(t){return typeof t=="string"}function qw(t){return t in Ht}var Hw=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Yw(t){return Hw.some(function(e){return t.indexOf(e)>-1})}var Zw=["3857","900913","3785","102113"];function Qw(t){var e=ur(t,"authority");if(e){var n=ur(e,"epsg");return n&&Zw.indexOf(n)>-1}}function Jw(t){var e=ur(t,"extension");if(e)return ur(e,"proj4")}function eM(t){return t[0]==="+"}function tM(t){if(Kw(t)){if(qw(t))return Ht[t];if(Yw(t)){var e=t_(t);if(Qw(e))return Ht["EPSG:3857"];var n=Jw(e);return n?Gf(n):e}if(eM(t))return Gf(t)}else return t}function up(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function si(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function _o(t){return t<0?-1:1}function ue(t){return Math.abs(t)<=kt?t:t-_o(t)*eo}function Wn(t,e,n){var i=t*n,s=.5*t;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(Y-e))/i}function no(t,e){for(var n=.5*t,i,s,o=Y-2*Math.atan(e),l=0;l<=15;l++)if(i=t*Math.sin(o),s=Y-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-o,o+=s,Math.abs(s)<=1e-10)return o;return-9999}function nM(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=si(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function iM(t){var e=t.x,n=t.y;if(n*ti>90&&n*ti<-90&&e*ti>180&&e*ti<-180)return null;var i,s;if(Math.abs(Math.abs(n)-Y)<=oe)return null;if(this.sphere)i=this.x0+this.a*this.k0*ue(e-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(We+.5*n));else{var o=Math.sin(n),l=Wn(this.e,n,o);i=this.x0+this.a*this.k0*ue(e-this.long0),s=this.y0-this.a*this.k0*Math.log(l)}return t.x=i,t.y=s,t}function rM(t){var e=t.x-this.x0,n=t.y-this.y0,i,s;if(this.sphere)s=Y-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var o=Math.exp(-n/(this.a*this.k0));if(s=no(this.e,o),s===-9999)return null}return i=ue(this.long0+e/(this.a*this.k0)),t.x=i,t.y=s,t}var sM=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const aM={init:nM,forward:iM,inverse:rM,names:sM};function oM(){}function hp(t){return t}var lM=["longlat","identity"];const uM={init:oM,forward:hp,inverse:hp,names:lM};var hM=[aM,uM],ru={},du=[];function n_(t,e){var n=du.length;return t.names?(du[n]=t,t.names.forEach(function(i){ru[i.toLowerCase()]=n}),this):(console.log(e),!0)}function cM(t){if(!t)return!1;var e=t.toLowerCase();if(typeof ru[e]<"u"&&du[ru[e]])return du[ru[e]]}function fM(){hM.forEach(n_)}const dM={start:fM,add:n_,get:cM};var Ce={};Ce.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Ce.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Ce.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Ce.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Ce.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Ce.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Ce.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Ce.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Ce.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Ce.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Ce.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Ce.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Ce.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Ce.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Ce.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Ce.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};Ce.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Ce.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Ce.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Ce.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Ce.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Ce.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Ce.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Ce.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Ce.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Ce.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Ce.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Ce.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Ce.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Ce.hough={a:6378270,rf:297,ellipseName:"Hough"};Ce.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Ce.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Ce.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Ce.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Ce.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Ce.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Ce.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Ce.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Ce.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Ce.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Ce.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Ce.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var gM=Ce.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ce.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function mM(t,e,n,i){var s=t*t,o=e*e,l=(s-o)/s,h=0;i?(t*=1-l*(Dw+l*(Fw+l*bw)),s=t*t,l=0):h=Math.sqrt(l);var c=(s-o)/o;return{es:l,e:h,ep2:c}}function pM(t,e,n,i,s){if(!t){var o=ur(Ce,i);o||(o=gM),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<oe)&&(s=!0,e=t),{a:t,b:e,rf:n,sphere:s}}var su={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var _M in su){var cp=su[_M];su[cp.datumName]=cp}function yM(t,e,n,i,s,o,l){var h={};return t===void 0||t==="none"?h.datum_type=Uf:h.datum_type=Nw,e&&(h.datum_params=e.map(parseFloat),(h.datum_params[0]!==0||h.datum_params[1]!==0||h.datum_params[2]!==0)&&(h.datum_type=kr),h.datum_params.length>3&&(h.datum_params[3]!==0||h.datum_params[4]!==0||h.datum_params[5]!==0||h.datum_params[6]!==0)&&(h.datum_type=Dr,h.datum_params[3]*=Va,h.datum_params[4]*=Va,h.datum_params[5]*=Va,h.datum_params[6]=h.datum_params[6]/1e6+1)),l&&(h.datum_type=Ss,h.grids=l),h.a=n,h.b=i,h.es=s,h.ep2=o,h}var i_={};function vM(t,e){var n=new DataView(e),i=MM(n),s=xM(n,i),o=RM(n,s,i),l={header:s,subgrids:o};return i_[t]=l,l}function EM(t){if(t===void 0)return null;var e=t.split(",");return e.map(wM)}function wM(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:i_[t]||null,isNull:!1}}function Ms(t){return t/3600*Math.PI/180}function MM(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function xM(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:jf(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function jf(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function RM(t,e,n){for(var i=176,s=[],o=0;o<e.nSubgrids;o++){var l=SM(t,i,n),h=TM(t,i,l,n),c=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),d=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);s.push({ll:[Ms(l.lowerLongitude),Ms(l.lowerLatitude)],del:[Ms(l.longitudeInterval),Ms(l.latitudeInterval)],lim:[c,d],count:l.gridNodeCount,cvs:CM(h)}),i+=176+l.gridNodeCount*16}return s}function CM(t){return t.map(function(e){return[Ms(e.longitudeShift),Ms(e.latitudeShift)]})}function SM(t,e,n){return{name:jf(t,e+8,e+16).trim(),parent:jf(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function TM(t,e,n,i){for(var s=e+176,o=16,l=[],h=0;h<n.gridNodeCount;h++){var c={latitudeShift:t.getFloat32(s+h*o,i),longitudeShift:t.getFloat32(s+h*o+4,i),latitudeAccuracy:t.getFloat32(s+h*o+8,i),longitudeAccuracy:t.getFloat32(s+h*o+12,i)};l.push(c)}return l}function ii(t,e){if(!(this instanceof ii))return new ii(t);e=e||function(d){if(d)throw d};var n=tM(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=ii.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var s=ur(su,n.datumCode);s&&(n.datum_params=n.datum_params||(s.towgs84?s.towgs84.split(","):null),n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=pM(n.a,n.b,n.rf,n.ellps,n.sphere),l=mM(o.a,o.b,o.rf,n.R_A),h=EM(n.nadgrids),c=n.datum||yM(n.datumCode,n.datum_params,o.a,o.b,l.es,l.ep2,h);up(this,n),up(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=l.es,this.e=l.e,this.ep2=l.ep2,this.datum=c,this.init(),e(null,this)}ii.projections=dM;ii.projections.start();function IM(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===kr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Dr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function r_(t,e,n){var i=t.x,s=t.y,o=t.z?t.z:0,l,h,c,d;if(s<-Y&&s>-1.001*Y)s=-Y;else if(s>Y&&s<1.001*Y)s=Y;else{if(s<-Y)return{x:-1/0,y:-1/0,z:t.z};if(s>Y)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),h=Math.sin(s),d=Math.cos(s),c=h*h,l=n/Math.sqrt(1-e*c),{x:(l+o)*d*Math.cos(i),y:(l+o)*d*Math.sin(i),z:(l*(1-e)+o)*h}}function s_(t,e,n,i){var s=1e-12,o=s*s,l=30,h,c,d,m,p,y,E,v,M,x,R,S,L,A=t.x,P=t.y,b=t.z?t.z:0,V,D,j;if(h=Math.sqrt(A*A+P*P),c=Math.sqrt(A*A+P*P+b*b),h/n<s){if(V=0,c/n<s)return D=Y,j=-i,{x:t.x,y:t.y,z:t.z}}else V=Math.atan2(P,A);d=b/c,m=h/c,p=1/Math.sqrt(1-e*(2-e)*m*m),v=m*(1-e)*p,M=d*p,L=0;do L++,E=n/Math.sqrt(1-e*M*M),j=h*v+b*M-E*(1-e*M*M),y=e*E/(E+j),p=1/Math.sqrt(1-y*(2-y)*m*m),x=m*(1-y)*p,R=d*p,S=R*v-x*M,v=x,M=R;while(S*S>o&&L<l);return D=Math.atan(R/Math.abs(x)),{x:V,y:D,z:j}}function AM(t,e,n){if(e===kr)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Dr){var i=n[0],s=n[1],o=n[2],l=n[3],h=n[4],c=n[5],d=n[6];return{x:d*(t.x-c*t.y+h*t.z)+i,y:d*(c*t.x+t.y-l*t.z)+s,z:d*(-h*t.x+l*t.y+t.z)+o}}}function PM(t,e,n){if(e===kr)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Dr){var i=n[0],s=n[1],o=n[2],l=n[3],h=n[4],c=n[5],d=n[6],m=(t.x-i)/d,p=(t.y-s)/d,y=(t.z-o)/d;return{x:m+c*p-h*y,y:-c*m+p+l*y,z:h*m-l*p+y}}}function Bl(t){return t===kr||t===Dr}function LM(t,e,n){if(IM(t,e)||t.datum_type===Uf||e.datum_type===Uf)return n;var i=t.a,s=t.es;if(t.datum_type===Ss){var o=fp(t,!1,n);if(o!==0)return;i=ap,s=op}var l=e.a,h=e.b,c=e.es;if(e.datum_type===Ss&&(l=ap,h=kw,c=op),s===c&&i===l&&!Bl(t.datum_type)&&!Bl(e.datum_type))return n;if(n=r_(n,s,i),Bl(t.datum_type)&&(n=AM(n,t.datum_type,t.datum_params)),Bl(e.datum_type)&&(n=PM(n,e.datum_type,e.datum_params)),n=s_(n,c,l,h),e.datum_type===Ss){var d=fp(e,!0,n);if(d!==0)return}return n}function fp(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},s={x:Number.NaN,y:Number.NaN},o=[];e:for(var l=0;l<t.grids.length;l++){var h=t.grids[l];if(o.push(h.name),h.isNull){s=i;break}if(h.mandatory,h.grid===null){if(h.mandatory)return console.log("Unable to find mandatory grid '"+h.name+"'"),-1;continue}for(var c=h.grid.subgrids,d=0,m=c.length;d<m;d++){var p=c[d],y=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,E=p.ll[0]-y,v=p.ll[1]-y,M=p.ll[0]+(p.lim[0]-1)*p.del[0]+y,x=p.ll[1]+(p.lim[1]-1)*p.del[1]+y;if(!(v>i.y||E>i.x||x<i.y||M<i.x)&&(s=OM(i,e,p),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*ti+" "+i.y*ti+" tried: '"+o+"'"),-1):(n.x=-s.x,n.y=s.y,0)}function OM(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var s={x:t.x,y:t.y};s.x-=n.ll[0],s.y-=n.ll[1],s.x=ue(s.x-Math.PI)+Math.PI;var o=dp(s,n);if(e){if(isNaN(o.x))return i;o.x=s.x-o.x,o.y=s.y-o.y;var l=9,h=1e-12,c,d;do{if(d=dp(o,n),isNaN(d.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:s.x-(d.x+o.x),y:s.y-(d.y+o.y)},o.x+=c.x,o.y+=c.y}while(l--&&Math.abs(c.x)>h&&Math.abs(c.y)>h);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=ue(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function dp(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},s={x:n.x-1*i.x,y:n.y-1*i.y},o={x:Number.NaN,y:Number.NaN},l;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return o;l=i.y*e.lim[0]+i.x;var h={x:e.cvs[l][0],y:e.cvs[l][1]};l++;var c={x:e.cvs[l][0],y:e.cvs[l][1]};l+=e.lim[0];var d={x:e.cvs[l][0],y:e.cvs[l][1]};l--;var m={x:e.cvs[l][0],y:e.cvs[l][1]},p=s.x*s.y,y=s.x*(1-s.y),E=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return o.x=E*h.x+y*c.x+v*m.x+p*d.x,o.y=E*h.y+y*c.y+v*m.y+p*d.y,o}function gp(t,e,n){var i=n.x,s=n.y,o=n.z||0,l,h,c,d={};for(c=0;c<3;c++)if(!(e&&c===2&&n.z===void 0))switch(c===0?(l=i,"ew".indexOf(t.axis[c])!==-1?h="x":h="y"):c===1?(l=s,"ns".indexOf(t.axis[c])!==-1?h="y":h="x"):(l=o,h="z"),t.axis[c]){case"e":d[h]=l;break;case"w":d[h]=-l;break;case"n":d[h]=l;break;case"s":d[h]=-l;break;case"u":n[h]!==void 0&&(d.z=l);break;case"d":n[h]!==void 0&&(d.z=-l);break;default:return null}return d}function a_(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function NM(t){mp(t.x),mp(t.y)}function mp(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function kM(t,e){return(t.datum.datum_type===kr||t.datum.datum_type===Dr||t.datum.datum_type===Ss)&&e.datumCode!=="WGS84"||(e.datum.datum_type===kr||e.datum.datum_type===Dr||e.datum.datum_type===Ss)&&t.datumCode!=="WGS84"}function gu(t,e,n,i){var s;Array.isArray(n)?n=a_(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var o=n.z!==void 0;if(NM(n),t.datum&&e.datum&&kM(t,e)&&(s=new ii("WGS84"),n=gu(t,s,n,i),t=s),i&&t.axis!=="enu"&&(n=gp(t,!1,n)),t.projName==="longlat")n={x:n.x*Ot,y:n.y*Ot,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=LM(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*ti,y:n.y*ti,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?gp(e,!0,n):(n&&!o&&delete n.z,n)}var pp=ii("WGS84");function lf(t,e,n,i){var s,o,l;return Array.isArray(n)?(s=gu(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(n.slice(3)):[s.x,s.y,n[2]].concat(n.slice(3)):[s.x,s.y].concat(n.slice(2)):[s.x,s.y]):(o=gu(t,e,n,i),l=Object.keys(n),l.length===2||l.forEach(function(h){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(h==="x"||h==="y"||h==="z")return}else if(h==="x"||h==="y")return;o[h]=n[h]}),o)}function _p(t){return t instanceof ii?t:t.oProj?t.oProj:ii(t)}function gn(t,e,n){t=_p(t);var i=!1,s;return typeof e>"u"?(e=t,t=pp,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=pp,i=!0),e=_p(e),n?lf(t,e,n):(s={forward:function(o,l){return lf(t,e,o,l)},inverse:function(o,l){return lf(e,t,o,l)}},i&&(s.oProj=e),s)}var yp=6,o_="AJSAJS",l_="AFAFAF",xs=65,un=73,An=79,ba=86,za=90;const DM={forward:u_,inverse:FM,toPoint:h_};function u_(t,e){return e=e||5,UM(bM({lat:t[1],lon:t[0]}),e)}function FM(t){var e=gd(f_(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function h_(t){var e=gd(f_(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function uf(t){return t*(Math.PI/180)}function vp(t){return 180*(t/Math.PI)}function bM(t){var e=t.lat,n=t.lon,i=6378137,s=.00669438,o=.9996,l,h,c,d,m,p,y,E=uf(e),v=uf(n),M,x;x=Math.floor((n+180)/6)+1,n===180&&(x=60),e>=56&&e<64&&n>=3&&n<12&&(x=32),e>=72&&e<84&&(n>=0&&n<9?x=31:n>=9&&n<21?x=33:n>=21&&n<33?x=35:n>=33&&n<42&&(x=37)),l=(x-1)*6-180+3,M=uf(l),h=s/(1-s),c=i/Math.sqrt(1-s*Math.sin(E)*Math.sin(E)),d=Math.tan(E)*Math.tan(E),m=h*Math.cos(E)*Math.cos(E),p=Math.cos(E)*(v-M),y=i*((1-s/4-3*s*s/64-5*s*s*s/256)*E-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*E)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*E)-35*s*s*s/3072*Math.sin(6*E));var R=o*c*(p+(1-d+m)*p*p*p/6+(5-18*d+d*d+72*m-58*h)*p*p*p*p*p/120)+5e5,S=o*(y+c*Math.tan(E)*(p*p/2+(5-d+9*m+4*m*m)*p*p*p*p/24+(61-58*d+d*d+600*m-330*h)*p*p*p*p*p*p/720));return e<0&&(S+=1e7),{northing:Math.round(S),easting:Math.round(R),zoneNumber:x,zoneLetter:zM(e)}}function gd(t){var e=t.northing,n=t.easting,i=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var o=.9996,l=6378137,h=.00669438,c,d=(1-Math.sqrt(1-h))/(1+Math.sqrt(1-h)),m,p,y,E,v,M,x,R,S,L=n-5e5,A=e;i<"N"&&(A-=1e7),x=(s-1)*6-180+3,c=h/(1-h),M=A/o,R=M/(l*(1-h/4-3*h*h/64-5*h*h*h/256)),S=R+(3*d/2-27*d*d*d/32)*Math.sin(2*R)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*R)+151*d*d*d/96*Math.sin(6*R),m=l/Math.sqrt(1-h*Math.sin(S)*Math.sin(S)),p=Math.tan(S)*Math.tan(S),y=c*Math.cos(S)*Math.cos(S),E=l*(1-h)/Math.pow(1-h*Math.sin(S)*Math.sin(S),1.5),v=L/(m*o);var P=S-m*Math.tan(S)/E*(v*v/2-(5+3*p+10*y-4*y*y-9*c)*v*v*v*v/24+(61+90*p+298*y+45*p*p-252*c-3*y*y)*v*v*v*v*v*v/720);P=vp(P);var b=(v-(1+2*p+y)*v*v*v/6+(5-2*y+28*p-3*y*y+8*c+24*p*p)*v*v*v*v*v/120)/Math.cos(S);b=x+vp(b);var V;if(t.accuracy){var D=gd({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});V={top:D.lat,right:D.lon,bottom:P,left:b}}else V={lat:P,lon:b};return V}function zM(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function UM(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+GM(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function GM(t,e,n){var i=c_(n),s=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return jM(s,o,i)}function c_(t){var e=t%yp;return e===0&&(e=yp),e}function jM(t,e,n){var i=n-1,s=o_.charCodeAt(i),o=l_.charCodeAt(i),l=s+t-1,h=o+e,c=!1;l>za&&(l=l-za+xs-1,c=!0),(l===un||s<un&&l>un||(l>un||s<un)&&c)&&l++,(l===An||s<An&&l>An||(l>An||s<An)&&c)&&(l++,l===un&&l++),l>za&&(l=l-za+xs-1),h>ba?(h=h-ba+xs-1,c=!0):c=!1,(h===un||o<un&&h>un||(h>un||o<un)&&c)&&h++,(h===An||o<An&&h>An||(h>An||o<An)&&c)&&(h++,h===un&&h++),h>ba&&(h=h-ba+xs-1);var d=String.fromCharCode(l)+String.fromCharCode(h);return d}function f_(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",s,o=0;!/[A-Z]/.test(s=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=s,o++}var l=parseInt(i,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(o++);if(h<="A"||h==="B"||h==="Y"||h>="Z"||h==="I"||h==="O")throw"MGRSPoint zone letter "+h+" not handled: "+t;n=t.substring(o,o+=2);for(var c=c_(l),d=BM(n.charAt(0),c),m=$M(n.charAt(1),c);m<WM(h);)m+=2e6;var p=e-o;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var y=p/2,E=0,v=0,M,x,R,S,L;return y>0&&(M=1e5/Math.pow(10,y),x=t.substring(o,o+y),E=parseFloat(x)*M,R=t.substring(o+y),v=parseFloat(R)*M),S=E+d,L=v+m,{easting:S,northing:L,zoneLetter:h,zoneNumber:l,accuracy:M}}function BM(t,e){for(var n=o_.charCodeAt(e-1),i=1e5,s=!1;n!==t.charCodeAt(0);){if(n++,n===un&&n++,n===An&&n++,n>za){if(s)throw"Bad character: "+t;n=xs,s=!0}i+=1e5}return i}function $M(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=l_.charCodeAt(e-1),i=0,s=!1;n!==t.charCodeAt(0);){if(n++,n===un&&n++,n===An&&n++,n>ba){if(s)throw"Bad character: "+t;n=xs,s=!0}i+=1e5}return i}function WM(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ks(t,e,n){if(!(this instanceof ks))return new ks(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ks.fromMGRS=function(t){return new ks(h_(t))};ks.prototype.toMGRS=function(t){return u_([this.x,this.y],t)};var XM=1,VM=.25,Ep=.046875,wp=.01953125,Mp=.01068115234375,KM=.75,qM=.46875,HM=.013020833333333334,YM=.007120768229166667,ZM=.3645833333333333,QM=.005696614583333333,JM=.3076171875;function md(t){var e=[];e[0]=XM-t*(VM+t*(Ep+t*(wp+t*Mp))),e[1]=t*(KM-t*(Ep+t*(wp+t*Mp)));var n=t*t;return e[2]=n*(qM-t*(HM+t*YM)),n*=t,e[3]=n*(ZM-t*QM),e[4]=n*t*JM,e}function Bs(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var ex=20;function pd(t,e,n){for(var i=1/(1-e),s=t,o=ex;o;--o){var l=Math.sin(s),h=1-e*l*l;if(h=(Bs(s,l,Math.cos(s),n)-t)*(h*Math.sqrt(h))*i,s-=h,Math.abs(h)<oe)return s}return s}function tx(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=md(this.es),this.ml0=Bs(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function nx(t){var e=t.x,n=t.y,i=ue(e-this.long0),s,o,l,h=Math.sin(n),c=Math.cos(n);if(this.es){var m=c*i,p=Math.pow(m,2),y=this.ep2*Math.pow(c,2),E=Math.pow(y,2),v=Math.abs(c)>oe?Math.tan(n):0,M=Math.pow(v,2),x=Math.pow(M,2);s=1-this.es*Math.pow(h,2),m=m/Math.sqrt(s);var R=Bs(n,h,c,this.en);o=this.a*(this.k0*m*(1+p/6*(1-M+y+p/20*(5-18*M+x+14*y-58*M*y+p/42*(61+179*x-x*M-479*M)))))+this.x0,l=this.a*(this.k0*(R-this.ml0+h*i*m/2*(1+p/12*(5-M+9*y+4*E+p/30*(61+x-58*M+270*y-330*M*y+p/56*(1385+543*x-x*M-3111*M))))))+this.y0}else{var d=c*Math.sin(i);if(Math.abs(Math.abs(d)-1)<oe)return 93;if(o=.5*this.a*this.k0*Math.log((1+d)/(1-d))+this.x0,l=c*Math.cos(i)/Math.sqrt(1-Math.pow(d,2)),d=Math.abs(l),d>=1){if(d-1>oe)return 93;l=0}else l=Math.acos(l);n<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return t.x=o,t.y=l,t}function ix(t){var e,n,i,s,o=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+l/this.k0,n=pd(e,this.es,this.en),Math.abs(n)<Y){var p=Math.sin(n),y=Math.cos(n),E=Math.abs(y)>oe?Math.tan(n):0,v=this.ep2*Math.pow(y,2),M=Math.pow(v,2),x=Math.pow(E,2),R=Math.pow(x,2);e=1-this.es*Math.pow(p,2);var S=o*Math.sqrt(e)/this.k0,L=Math.pow(S,2);e=e*E,i=n-e*L/(1-this.es)*.5*(1-L/12*(5+3*x-9*v*x+v-4*M-L/30*(61+90*x-252*v*x+45*R+46*v-L/56*(1385+3633*x+4095*R+1574*R*x)))),s=ue(this.long0+S*(1-L/6*(1+2*x+v-L/20*(5+28*x+24*R+8*v*x+6*v-L/42*(61+662*x+1320*R+720*R*x))))/y)}else i=Y*_o(l),s=0;else{var h=Math.exp(o/this.k0),c=.5*(h-1/h),d=this.lat0+l/this.k0,m=Math.cos(d);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(c,2))),i=Math.asin(e),l<0&&(i=-i),c===0&&m===0?s=0:s=ue(Math.atan2(c,m)+this.long0)}return t.x=s,t.y=i,t}var rx=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const au={init:tx,forward:nx,inverse:ix,names:rx};function d_(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function cn(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function sx(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function ax(t){var e=Math.abs(t);return e=sx(e*(1+e/(cn(1,e)+1))),t<0?-e:e}function _d(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,s=t[i],o=0,l;--i>=0;)l=-o+n*s+t[i],o=s,s=l;return e+l*Math.sin(2*e)}function ox(t,e){for(var n=2*Math.cos(e),i=t.length-1,s=t[i],o=0,l;--i>=0;)l=-o+n*s+t[i],o=s,s=l;return Math.sin(e)*l}function lx(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function g_(t,e,n){for(var i=Math.sin(e),s=Math.cos(e),o=d_(n),l=lx(n),h=2*s*l,c=-2*i*o,d=t.length-1,m=t[d],p=0,y=0,E=0,v,M;--d>=0;)v=y,M=p,y=m,p=E,m=-v+h*y-c*p+t[d],E=-M+c*y+h*p;return h=i*l,c=s*o,[h*m-c*E,h*E+c*m]}function ux(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(au.init.apply(this),this.forward=au.forward,this.inverse=au.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=_d(this.cbg,this.lat0);this.Zb=-this.Qn*(i+ox(this.gtu,2*i))}function hx(t){var e=ue(t.x-this.long0),n=t.y;n=_d(this.cbg,n);var i=Math.sin(n),s=Math.cos(n),o=Math.sin(e),l=Math.cos(e);n=Math.atan2(i,l*s),e=Math.atan2(o*s,cn(i,s*l)),e=ax(Math.tan(e));var h=g_(this.gtu,2*n,2*e);n=n+h[0],e=e+h[1];var c,d;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,d=this.a*(this.Qn*n+this.Zb)+this.y0):(c=1/0,d=1/0),t.x=c,t.y=d,t}function cx(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,s;if(Math.abs(e)<=2.623395162778){var o=g_(this.utg,2*n,2*e);n=n+o[0],e=e+o[1],e=Math.atan(d_(e));var l=Math.sin(n),h=Math.cos(n),c=Math.sin(e),d=Math.cos(e);n=Math.atan2(l*d,cn(c,d*h)),e=Math.atan2(c,d*h),i=ue(e+this.long0),s=_d(this.cgb,n)}else i=1/0,s=1/0;return t.x=i,t.y=s,t}var fx=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const ou={init:ux,forward:hx,inverse:cx,names:fx};function dx(t,e){if(t===void 0){if(t=Math.floor((ue(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var gx="etmerc";function mx(){var t=dx(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Ot,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ou.init.apply(this),this.forward=ou.forward,this.inverse=ou.inverse}var px=["Universal Transverse Mercator System","utm"];const _x={init:mx,names:px,dependsOn:gx};function yd(t,e){return Math.pow((1-t)/(1+t),e)}var yx=20;function vx(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+We)/(Math.pow(Math.tan(.5*this.lat0+We),this.C)*yd(this.e*t,this.ratexp))}function Ex(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+We),this.C)*yd(this.e*Math.sin(n),this.ratexp))-Y,t.x=this.C*e,t}function wx(t){for(var e=1e-14,n=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+We)/this.K,1/this.C),o=yx;o>0&&(i=2*Math.atan(s*yd(this.e*Math.sin(t.y),-.5*this.e))-Y,!(Math.abs(i-t.y)<e));--o)t.y=i;return o?(t.x=n,t.y=i,t):null}var Mx=["gauss"];const vd={init:vx,forward:Ex,inverse:wx,names:Mx};function xx(){vd.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Rx(t){var e,n,i,s;return t.x=ue(t.x-this.long0),vd.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=s*n*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Cx(t){var e,n,i,s,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=cn(t.x,t.y)){var l=2*Math.atan2(o,this.R2);e=Math.sin(l),n=Math.cos(l),s=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else s=this.phic0,i=0;return t.x=i,t.y=s,vd.inverse.apply(this,[t]),t.x=ue(t.x+this.long0),t}var Sx=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Tx={init:xx,forward:Rx,inverse:Cx,names:Sx};function Ix(t,e,n){return e*=n,Math.tan(.5*(Y+t))*Math.pow((1-e)/(1+e),.5*n)}function Ax(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&(this.k0=.5*(1+_o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=oe&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&Math.abs(Math.cos(this.lat_ts))>oe&&(this.k0=.5*this.cons*si(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Wn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=si(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Y,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Px(t){var e=t.x,n=t.y,i=Math.sin(n),s=Math.cos(n),o,l,h,c,d,m,p=ue(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=oe&&Math.abs(n+this.lat0)<=oe?(t.x=NaN,t.y=NaN,t):this.sphere?(o=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(p)),t.x=this.a*o*s*Math.sin(p)+this.x0,t.y=this.a*o*(this.coslat0*i-this.sinlat0*s*Math.cos(p))+this.y0,t):(l=2*Math.atan(this.ssfn_(n,i,this.e))-Y,c=Math.cos(l),h=Math.sin(l),Math.abs(this.coslat0)<=oe?(d=Wn(this.e,n*this.con,this.con*i),m=2*this.a*this.k0*d/this.cons,t.x=this.x0+m*Math.sin(e-this.long0),t.y=this.y0-this.con*m*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<oe?(o=2*this.a*this.k0/(1+c*Math.cos(p)),t.y=o*h):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*h+this.cosX0*c*Math.cos(p))),t.y=o*(this.cosX0*h-this.sinX0*c*Math.cos(p))+this.y0),t.x=o*c*Math.sin(p)+this.x0,t))}function Lx(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,o,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var h=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,n=this.lat0,l<=oe?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(h)*this.sinlat0+t.y*Math.sin(h)*this.coslat0/l),Math.abs(this.coslat0)<oe?this.lat0>0?e=ue(this.long0+Math.atan2(t.x,-1*t.y)):e=ue(this.long0+Math.atan2(t.x,t.y)):e=ue(this.long0+Math.atan2(t.x*Math.sin(h),l*this.coslat0*Math.cos(h)-t.y*this.sinlat0*Math.sin(h))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=oe){if(l<=oe)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=l*this.cons/(2*this.a*this.k0),n=this.con*no(this.e,i),e=this.con*ue(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=oe?o=this.X0:(o=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/l),e=ue(this.long0+Math.atan2(t.x*Math.sin(s),l*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),n=-1*no(this.e,Math.tan(.5*(Y+o)));return t.x=e,t.y=n,t}var Ox=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const Nx={init:Ax,forward:Px,inverse:Lx,names:Ox,ssfn_:Ix};function kx(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,s=1/i,o=2*s-Math.pow(s,2),l=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),d=Math.log((1+l*e)/(1-l*e));this.K=h-this.alpha*c+this.alpha*l/2*d}function Dx(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),l=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(o))),h=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,t.x=this.R*l+this.x0,t}function Fx(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,s=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),l=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),h=this.lambda0+l/this.alpha,c=0,d=o,m=-1e3,p=0;Math.abs(d-m)>1e-7;){if(++p>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(d))/2)),m=d,d=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=h,t.y=d,t}var bx=["somerc"];const zx={init:kx,forward:Dx,inverse:Fx,names:bx};var _s=1e-7;function Ux(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function Gx(){var t,e,n,i,s,o,l,h,c,d,m=0,p,y=0,E=0,v=0,M=0,x=0,R=0;this.no_off=Ux(this),this.no_rot="no_rot"in this;var S=!1;"alpha"in this&&(S=!0);var L=!1;if("rectified_grid_angle"in this&&(L=!0),S&&(R=this.alpha),L&&(m=this.rectified_grid_angle*Ot),S||L)y=this.longc;else if(E=this.long1,M=this.lat1,v=this.long2,x=this.lat2,Math.abs(M-x)<=_s||(t=Math.abs(M))<=_s||Math.abs(t-Y)<=_s||Math.abs(Math.abs(this.lat0)-Y)<=_s||Math.abs(Math.abs(x)-Y)<=_s)throw new Error;var A=1-this.es;e=Math.sqrt(A),Math.abs(this.lat0)>oe?(h=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*h*h,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/A),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(Wn(this.e,this.lat0,h),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=s=1),S||L?(S?(p=Math.asin(Math.sin(R)/i),L||(m=R)):(p=m,R=Math.asin(i*Math.sin(p))),this.lam0=y-Math.asin(.5*(s-1/s)*Math.tan(p))/this.B):(o=Math.pow(Wn(this.e,M,Math.sin(M)),this.B),l=Math.pow(Wn(this.e,x,Math.sin(x)),this.B),s=this.E/o,c=(l-o)/(l+o),d=this.E*this.E,d=(d-l*o)/(d+l*o),t=E-v,t<-Math.pi?v-=eo:t>Math.pi&&(v+=eo),this.lam0=ue(.5*(E+v)-Math.atan(d*Math.tan(.5*this.B*(E-v))/c)/this.B),p=Math.atan(2*Math.sin(this.B*ue(E-this.lam0))/(s-1/s)),m=R=Math.asin(i*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(m),this.cosrot=Math.cos(m),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(R))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(We-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(We+s))}function jx(t){var e={},n,i,s,o,l,h,c,d;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Y)>oe){if(l=this.E/Math.pow(Wn(this.e,t.y,Math.sin(t.y)),this.B),h=1/l,n=.5*(l-h),i=.5*(l+h),o=Math.sin(this.B*t.x),s=(n*this.singam-o*this.cosgam)/i,Math.abs(Math.abs(s)-1)<oe)throw new Error;d=.5*this.ArB*Math.log((1-s)/(1+s)),h=Math.cos(this.B*t.x),Math.abs(h)<_s?c=this.A*t.x:c=this.ArB*Math.atan2(n*this.cosgam+o*this.singam,h)}else d=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(e.x=c,e.y=d):(c-=this.u_0,e.x=d*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-d*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Bx(t){var e,n,i,s,o,l,h,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),s=.5*(i-1/i),o=.5*(i+1/i),l=Math.sin(this.BrA*e),h=(l*this.cosgam+s*this.singam)/o,Math.abs(Math.abs(h)-1)<oe)c.x=0,c.y=h<0?-Y:Y;else{if(c.y=this.E/Math.sqrt((1+h)/(1-h)),c.y=no(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(s*this.cosgam-l*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var $x=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Wx={init:Gx,forward:jx,inverse:Bx,names:$x};function Xx(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<oe)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=si(this.e,e,n),s=Wn(this.e,this.lat1,e),o=Math.sin(this.lat2),l=Math.cos(this.lat2),h=si(this.e,o,l),c=Wn(this.e,this.lat2,o),d=Wn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>oe?this.ns=Math.log(i/h)/Math.log(s/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Vx(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=oe&&(n=_o(n)*(Y-2*oe));var i=Math.abs(Math.abs(n)-Y),s,o;if(i>oe)s=Wn(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(s,this.ns);else{if(i=n*this.ns,i<=0)return null;o=0}var l=this.ns*ue(e-this.long0);return t.x=this.k0*(o*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(l))+this.y0,t}function Kx(t){var e,n,i,s,o,l=(t.x-this.x0)/this.k0,h=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+h*h),n=1):(e=-Math.sqrt(l*l+h*h),n=-1);var c=0;if(e!==0&&(c=Math.atan2(n*l,n*h)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),s=no(this.e,i),s===-9999)return null}else s=-Y;return o=ue(c/this.ns+this.long0),t.x=o,t.y=s,t}var qx=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Hx={init:Xx,forward:Vx,inverse:Kx,names:qx};function Yx(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Zx(t){var e,n,i,s,o,l,h,c=t.x,d=t.y,m=ue(c-this.long0);return e=Math.pow((1+this.e*Math.sin(d))/(1-this.e*Math.sin(d)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(d/2+this.s45),this.alfa)/e)-this.s45),i=-m*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(s)),l=this.n*o,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=h*Math.cos(l)/1,t.x=h*Math.sin(l)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Qx(t){var e,n,i,s,o,l,h,c,d=t.x;t.x=t.y,t.y=d,this.czech||(t.y*=-1,t.x*=-1),l=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),s=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),n=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(e)),t.x=this.long0-n/this.alfa,h=e,c=0;var m=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-t.y)<1e-10&&(c=1),h=t.y,m+=1;while(c===0&&m<15);return m>=15?null:t}var Jx=["Krovak","krovak"];const eR={init:Yx,forward:Zx,inverse:Qx,names:Jx};function Qt(t,e,n,i,s){return t*s-e*Math.sin(2*s)+n*Math.sin(4*s)-i*Math.sin(6*s)}function yo(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function vo(t){return .375*t*(1+.25*t*(1+.46875*t))}function Eo(t){return .05859375*t*t*(1+.75*t)}function wo(t){return t*t*t*(35/3072)}function Ds(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function fr(t){return Math.abs(t)<Y?t:t-_o(t)*Math.PI}function mu(t,e,n,i,s){var o,l;o=t/e;for(var h=0;h<15;h++)if(l=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-s*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*s*Math.cos(6*o)),o+=l,Math.abs(l)<=1e-10)return o;return NaN}function tR(){this.sphere||(this.e0=yo(this.es),this.e1=vo(this.es),this.e2=Eo(this.es),this.e3=wo(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function nR(t){var e,n,i=t.x,s=t.y;if(i=ue(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var o=Math.sin(s),l=Math.cos(s),h=Ds(this.a,this.e,o),c=Math.tan(s)*Math.tan(s),d=i*Math.cos(s),m=d*d,p=this.es*l*l/(1-this.es),y=this.a*Qt(this.e0,this.e1,this.e2,this.e3,s);e=h*d*(1-m*c*(1/6-(8-c+8*p)*m/120)),n=y-this.ml0+h*o/l*m*(.5+(5-c+6*p)*m/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function iR(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s;if(this.sphere){var o=n+this.lat0;i=Math.asin(Math.sin(o)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(o))}else{var l=this.ml0/this.a+n,h=mu(l,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-Y)<=oe)return t.x=this.long0,t.y=Y,n<0&&(t.y*=-1),t;var c=Ds(this.a,this.e,Math.sin(h)),d=c*c*c/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(h),2),p=e*this.a/c,y=p*p;i=h-c*Math.tan(h)/d*p*p*(.5-(1+3*m)*p*p/24),s=p*(1-y*(m/3+(1+3*m)*m*y/15))/Math.cos(h)}return t.x=ue(s+this.long0),t.y=fr(i),t}var rR=["Cassini","Cassini_Soldner","cass"];const sR={init:tR,forward:nR,inverse:iR,names:rR};function ar(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var aR=1,oR=2,lR=3,uR=4;function hR(){var t=Math.abs(this.lat0);if(Math.abs(t-Y)<oe?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<oe?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=ar(this.e,1),this.mmf=.5/(1-this.es),this.apa=vR(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=ar(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function cR(t){var e,n,i,s,o,l,h,c,d,m,p=t.x,y=t.y;if(p=ue(p-this.long0),this.sphere){if(o=Math.sin(y),m=Math.cos(y),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+m*i:1+this.sinph0*o+this.cosph0*m*i,n<=oe)return null;n=Math.sqrt(2/n),e=n*m*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*m*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(y+this.lat0)<oe)return null;n=We-y*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(p),n*=i}}else{switch(h=0,c=0,d=0,i=Math.cos(p),s=Math.sin(p),o=Math.sin(y),l=ar(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=l/this.qp,c=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:d=1+this.sinb1*h+this.cosb1*c*i;break;case this.EQUIT:d=1+c*i;break;case this.N_POLE:d=Y+y,l=this.qp-l;break;case this.S_POLE:d=y-Y,l=this.qp+l;break}if(Math.abs(d)<oe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),this.mode===this.OBLIQ?n=this.ymf*d*(this.cosb1*h-this.sinb1*c*i):n=(d=Math.sqrt(2/(1+c*i)))*h*this.ymf,e=this.xmf*d*c*s;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(d=Math.sqrt(l))*s,n=i*(this.mode===this.S_POLE?d:-d)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function fR(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s,o,l,h,c,d;if(this.sphere){var m=0,p,y=0;if(p=Math.sqrt(e*e+n*n),s=p*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(s),m=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(p)<=oe?0:Math.asin(n*y/p),e*=y,n=m*p;break;case this.OBLIQ:s=Math.abs(p)<=oe?this.lat0:Math.asin(m*this.sinph0+n*y*this.cosph0/p),e*=y*this.cosph0,n=(m-Math.sin(s)*this.sinph0)*p;break;case this.N_POLE:n=-n,s=Y-s;break;case this.S_POLE:s-=Y;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,c=Math.sqrt(e*e+n*n),c<oe)return t.x=this.long0,t.y=this.lat0,t;l=2*Math.asin(.5*c/this.rq),o=Math.cos(l),e*=l=Math.sin(l),this.mode===this.OBLIQ?(d=o*this.sinb1+n*l*this.cosb1/c,h=this.qp*d,n=c*this.cosb1*o-n*this.sinb1*l):(d=n*l/c,h=this.qp*d,n=c*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),h=e*e+n*n,!h)return t.x=this.long0,t.y=this.lat0,t;d=1-h/this.qp,this.mode===this.S_POLE&&(d=-d)}i=Math.atan2(e,n),s=ER(Math.asin(d),this.apa)}return t.x=ue(this.long0+i),t.y=s,t}var dR=.3333333333333333,gR=.17222222222222222,mR=.10257936507936508,pR=.06388888888888888,_R=.0664021164021164,yR=.016415012942191543;function vR(t){var e,n=[];return n[0]=t*dR,e=t*t,n[0]+=e*gR,n[1]=e*pR,e*=t,n[0]+=e*mR,n[1]+=e*_R,n[2]=e*yR,n}function ER(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var wR=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const MR={init:hR,forward:cR,inverse:fR,names:wR,S_POLE:aR,N_POLE:oR,EQUIT:lR,OBLIQ:uR};function hr(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function xR(){Math.abs(this.lat1+this.lat2)<oe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=si(this.e3,this.sin_po,this.cos_po),this.qs1=ar(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=si(this.e3,this.sin_po,this.cos_po),this.qs2=ar(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ar(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>oe?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function RR(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=ar(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*ue(e-this.long0),l=s*Math.sin(o)+this.x0,h=this.rh-s*Math.cos(o)+this.y0;return t.x=l,t.y=h,t}function CR(t){var e,n,i,s,o,l;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),s=0,e!==0&&(s=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?l=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,l=this.phi1z(this.e3,n)),o=ue(s/this.ns0+this.long0),t.x=o,t.y=l,t}function SR(t,e){var n,i,s,o,l,h=hr(.5*e);if(t<oe)return h;for(var c=t*t,d=1;d<=25;d++)if(n=Math.sin(h),i=Math.cos(h),s=t*n,o=1-s*s,l=.5*o*o/i*(e/(1-c)-n/o+.5/t*Math.log((1-s)/(1+s))),h=h+l,Math.abs(l)<=1e-7)return h;return null}var TR=["Albers_Conic_Equal_Area","Albers","aea"];const IR={init:xR,forward:RR,inverse:CR,names:TR,phi1z:SR};function AR(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function PR(t){var e,n,i,s,o,l,h,c,d=t.x,m=t.y;return i=ue(d-this.long0),e=Math.sin(m),n=Math.cos(m),s=Math.cos(i),l=this.sin_p14*e+this.cos_p14*n*s,o=1,l>0||Math.abs(l)<=oe?(h=this.x0+this.a*o*n*Math.sin(i)/l,c=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*s)/l):(h=this.x0+this.infinity_dist*n*Math.sin(i),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*s)),t.x=h,t.y=c,t}function LR(t){var e,n,i,s,o,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),n=Math.sin(s),i=Math.cos(s),l=hr(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=ue(this.long0+o)):(l=this.phic0,o=0),t.x=o,t.y=l,t}var OR=["gnom"];const NR={init:AR,forward:PR,inverse:LR,names:OR};function kR(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Y:Y;for(var i=Math.asin(.5*e),s,o,l,h,c=0;c<30;c++)if(o=Math.sin(i),l=Math.cos(i),h=t*o,s=Math.pow(1-h*h,2)/(2*l)*(e/(1-t*t)-o/(1-h*h)+.5/t*Math.log((1-h)/(1+h))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function DR(){this.sphere||(this.k0=si(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function FR(t){var e=t.x,n=t.y,i,s,o=ue(e-this.long0);if(this.sphere)i=this.x0+this.a*o*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var l=ar(this.e,Math.sin(n));i=this.x0+this.a*this.k0*o,s=this.y0+this.a*l*.5/this.k0}return t.x=i,t.y=s,t}function bR(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=ue(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=kR(this.e,2*t.y*this.k0/this.a),e=ue(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var zR=["cea"];const UR={init:DR,forward:FR,inverse:bR,names:zR};function GR(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function jR(t){var e=t.x,n=t.y,i=ue(e-this.long0),s=fr(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*s,t}function BR(t){var e=t.x,n=t.y;return t.x=ue(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=fr(this.lat0+(n-this.y0)/this.a),t}var $R=["Equirectangular","Equidistant_Cylindrical","eqc"];const WR={init:GR,forward:jR,inverse:BR,names:$R};var xp=20;function XR(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yo(this.es),this.e1=vo(this.es),this.e2=Eo(this.es),this.e3=wo(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function VR(t){var e=t.x,n=t.y,i,s,o,l=ue(e-this.long0);if(o=l*Math.sin(n),this.sphere)Math.abs(n)<=oe?(i=this.a*l,s=-1*this.a*this.lat0):(i=this.a*Math.sin(o)/Math.tan(n),s=this.a*(fr(n-this.lat0)+(1-Math.cos(o))/Math.tan(n)));else if(Math.abs(n)<=oe)i=this.a*l,s=-1*this.ml0;else{var h=Ds(this.a,this.e,Math.sin(n))/Math.tan(n);i=h*Math.sin(o),s=this.a*Qt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+h*(1-Math.cos(o))}return t.x=i+this.x0,t.y=s+this.y0,t}function KR(t){var e,n,i,s,o,l,h,c,d;if(i=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=oe)e=ue(i/this.a+this.long0),n=0;else{l=this.lat0+s/this.a,h=i*i/this.a/this.a+l*l,c=l;var m;for(o=xp;o;--o)if(m=Math.tan(c),d=-1*(l*(c*m+1)-c-.5*(c*c+h)*m)/((c-l)/m-1),c+=d,Math.abs(d)<=oe){n=c;break}e=ue(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(s+this.ml0)<=oe)n=0,e=ue(this.long0+i/this.a);else{l=(this.ml0+s)/this.a,h=i*i/this.a/this.a+l*l,c=l;var p,y,E,v,M;for(o=xp;o;--o)if(M=this.e*Math.sin(c),p=Math.sqrt(1-M*M)*Math.tan(c),y=this.a*Qt(this.e0,this.e1,this.e2,this.e3,c),E=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),v=y/this.a,d=(l*(p*v+1)-v-.5*p*(v*v+h))/(this.es*Math.sin(2*c)*(v*v+h-2*l*v)/(4*p)+(l-v)*(p*E-2/Math.sin(2*c))-E),c-=d,Math.abs(d)<=oe){n=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ue(this.long0+Math.asin(i*p/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var qR=["Polyconic","poly"];const HR={init:XR,forward:VR,inverse:KR,names:qR};function YR(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function ZR(t){var e,n=t.x,i=t.y,s=i-this.lat0,o=n-this.long0,l=s/Va*1e-5,h=o,c=1,d=0;for(e=1;e<=10;e++)c=c*l,d=d+this.A[e]*c;var m=d,p=h,y=1,E=0,v,M,x=0,R=0;for(e=1;e<=6;e++)v=y*m-E*p,M=E*m+y*p,y=v,E=M,x=x+this.B_re[e]*y-this.B_im[e]*E,R=R+this.B_im[e]*y+this.B_re[e]*E;return t.x=R*this.a+this.x0,t.y=x*this.a+this.y0,t}function QR(t){var e,n=t.x,i=t.y,s=n-this.x0,o=i-this.y0,l=o/this.a,h=s/this.a,c=1,d=0,m,p,y=0,E=0;for(e=1;e<=6;e++)m=c*l-d*h,p=d*l+c*h,c=m,d=p,y=y+this.C_re[e]*c-this.C_im[e]*d,E=E+this.C_im[e]*c+this.C_re[e]*d;for(var v=0;v<this.iterations;v++){var M=y,x=E,R,S,L=l,A=h;for(e=2;e<=6;e++)R=M*y-x*E,S=x*y+M*E,M=R,x=S,L=L+(e-1)*(this.B_re[e]*M-this.B_im[e]*x),A=A+(e-1)*(this.B_im[e]*M+this.B_re[e]*x);M=1,x=0;var P=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)R=M*y-x*E,S=x*y+M*E,M=R,x=S,P=P+e*(this.B_re[e]*M-this.B_im[e]*x),b=b+e*(this.B_im[e]*M+this.B_re[e]*x);var V=P*P+b*b;y=(L*P+A*b)/V,E=(A*P-L*b)/V}var D=y,j=E,G=1,ie=0;for(e=1;e<=9;e++)G=G*D,ie=ie+this.D[e]*G;var ee=this.lat0+ie*Va*1e5,Q=this.long0+j;return t.x=Q,t.y=ee,t}var JR=["New_Zealand_Map_Grid","nzmg"];const eC={init:YR,forward:ZR,inverse:QR,names:JR};function tC(){}function nC(t){var e=t.x,n=t.y,i=ue(e-this.long0),s=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=s,t.y=o,t}function iC(t){t.x-=this.x0,t.y-=this.y0;var e=ue(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var rC=["Miller_Cylindrical","mill"];const sC={init:tC,forward:nC,inverse:iC,names:rC};var aC=20;function oC(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=md(this.es)}function lC(t){var e,n,i=t.x,s=t.y;if(i=ue(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var o=this.n*Math.sin(s),l=aC;l;--l){var h=(this.m*s+Math.sin(s)-o)/(this.m+Math.cos(s));if(s-=h,Math.abs(h)<oe)break}e=this.a*this.C_x*i*(this.m+Math.cos(s)),n=this.a*this.C_y*s}else{var c=Math.sin(s),d=Math.cos(s);n=this.a*Bs(s,c,d,this.en),e=this.a*i*d/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t}function uC(t){var e,n,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=hr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=hr(Math.sin(e)/this.n)),i=ue(i+this.long0),e=fr(e)):(e=pd(t.y/this.a,this.es,this.en),s=Math.abs(e),s<Y?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=ue(n)):s-oe<Y&&(i=this.long0)),t.x=i,t.y=e,t}var hC=["Sinusoidal","sinu"];const cC={init:oC,forward:lC,inverse:uC,names:hC};function fC(){}function dC(t){for(var e=t.x,n=t.y,i=ue(e-this.long0),s=n,o=Math.PI*Math.sin(n);;){var l=-(s+Math.sin(s)-o)/(1+Math.cos(s));if(s+=l,Math.abs(l)<oe)break}s/=2,Math.PI/2-Math.abs(n)<oe&&(i=0);var h=.900316316158*this.a*i*Math.cos(s)+this.x0,c=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=h,t.y=c,t}function gC(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=ue(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var s=Math.asin(n);return t.x=i,t.y=s,t}var mC=["Mollweide","moll"];const pC={init:fC,forward:dC,inverse:gC,names:mC};function _C(){Math.abs(this.lat1+this.lat2)<oe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yo(this.es),this.e1=vo(this.es),this.e2=Eo(this.es),this.e3=wo(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=si(this.e,this.sinphi,this.cosphi),this.ml1=Qt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<oe?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=si(this.e,this.sinphi,this.cosphi),this.ml2=Qt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function yC(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var s=Qt(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-s)}var o=this.ns*ue(e-this.long0),l=this.x0+i*Math.sin(o),h=this.y0+this.rh-i*Math.cos(o);return t.x=l,t.y=h,t}function vC(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,s;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(n!==0&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=ue(this.long0+o/this.ns),i=fr(this.g-n/this.a),t.x=s,t.y=i,t;var l=this.g-n/this.a;return i=mu(l,this.e0,this.e1,this.e2,this.e3),s=ue(this.long0+o/this.ns),t.x=s,t.y=i,t}var EC=["Equidistant_Conic","eqdc"];const wC={init:_C,forward:yC,inverse:vC,names:EC};function MC(){this.R=this.a}function xC(t){var e=t.x,n=t.y,i=ue(e-this.long0),s,o;Math.abs(n)<=oe&&(s=this.x0+this.R*i,o=this.y0);var l=hr(2*Math.abs(n/Math.PI));(Math.abs(i)<=oe||Math.abs(Math.abs(n)-Y)<=oe)&&(s=this.x0,n>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*l):o=this.y0+Math.PI*this.R*-Math.tan(.5*l));var h=.5*Math.abs(Math.PI/i-i/Math.PI),c=h*h,d=Math.sin(l),m=Math.cos(l),p=m/(d+m-1),y=p*p,E=p*(2/d-1),v=E*E,M=Math.PI*this.R*(h*(p-v)+Math.sqrt(c*(p-v)*(p-v)-(v+c)*(y-v)))/(v+c);i<0&&(M=-M),s=this.x0+M;var x=c+p;return M=Math.PI*this.R*(E*x-h*Math.sqrt((v+c)*(c+1)-x*x))/(v+c),n>=0?o=this.y0+M:o=this.y0-M,t.x=s,t.y=o,t}function RC(t){var e,n,i,s,o,l,h,c,d,m,p,y,E;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,i=t.x/p,s=t.y/p,o=i*i+s*s,l=-Math.abs(s)*(1+o),h=l-2*s*s+i*i,c=-2*l+1+2*s*s+o*o,E=s*s/c+(2*h*h*h/c/c/c-9*l*h/c/c)/27,d=(l-h*h/3/c)/c,m=2*Math.sqrt(-d/3),p=3*E/d/m,Math.abs(p)>1&&(p>=0?p=1:p=-1),y=Math.acos(p)/3,t.y>=0?n=(-m*Math.cos(y+Math.PI/3)-h/3/c)*Math.PI:n=-(-m*Math.cos(y+Math.PI/3)-h/3/c)*Math.PI,Math.abs(i)<oe?e=this.long0:e=ue(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-s*s)+o*o))/2/i),t.x=e,t.y=n,t}var CC=["Van_der_Grinten_I","VanDerGrinten","vandg"];const SC={init:MC,forward:xC,inverse:RC,names:CC};function TC(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function IC(t){var e=t.x,n=t.y,i=Math.sin(t.y),s=Math.cos(t.y),o=ue(e-this.long0),l,h,c,d,m,p,y,E,v,M,x,R,S,L,A,P,b,V,D,j,G,ie,ee;return this.sphere?Math.abs(this.sin_p12-1)<=oe?(t.x=this.x0+this.a*(Y-n)*Math.sin(o),t.y=this.y0-this.a*(Y-n)*Math.cos(o),t):Math.abs(this.sin_p12+1)<=oe?(t.x=this.x0+this.a*(Y+n)*Math.sin(o),t.y=this.y0+this.a*(Y+n)*Math.cos(o),t):(V=this.sin_p12*i+this.cos_p12*s*Math.cos(o),P=Math.acos(V),b=P?P/Math.sin(P):1,t.x=this.x0+this.a*b*s*Math.sin(o),t.y=this.y0+this.a*b*(this.cos_p12*i-this.sin_p12*s*Math.cos(o)),t):(l=yo(this.es),h=vo(this.es),c=Eo(this.es),d=wo(this.es),Math.abs(this.sin_p12-1)<=oe?(m=this.a*Qt(l,h,c,d,Y),p=this.a*Qt(l,h,c,d,n),t.x=this.x0+(m-p)*Math.sin(o),t.y=this.y0-(m-p)*Math.cos(o),t):Math.abs(this.sin_p12+1)<=oe?(m=this.a*Qt(l,h,c,d,Y),p=this.a*Qt(l,h,c,d,n),t.x=this.x0+(m+p)*Math.sin(o),t.y=this.y0+(m+p)*Math.cos(o),t):(y=i/s,E=Ds(this.a,this.e,this.sin_p12),v=Ds(this.a,this.e,i),M=Math.atan((1-this.es)*y+this.es*E*this.sin_p12/(v*s)),x=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(M)-this.sin_p12*Math.cos(o)),x===0?D=Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):Math.abs(Math.abs(x)-Math.PI)<=oe?D=-Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):D=Math.asin(Math.sin(o)*Math.cos(M)/Math.sin(x)),R=this.e*this.sin_p12/Math.sqrt(1-this.es),S=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),L=R*S,A=S*S,j=D*D,G=j*D,ie=G*D,ee=ie*D,P=E*D*(1-j*A*(1-A)/6+G/8*L*(1-2*A)+ie/120*(A*(4-7*A)-3*R*R*(1-7*A))-ee/48*L),t.x=this.x0+P*Math.sin(x),t.y=this.y0+P*Math.cos(x),t))}function AC(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,o,l,h,c,d,m,p,y,E,v,M,x,R,S,L,A,P,b,V,D;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Y*this.a?void 0:(n=e/this.a,i=Math.sin(n),s=Math.cos(n),o=this.long0,Math.abs(e)<=oe?l=this.lat0:(l=hr(s*this.sin_p12+t.y*i*this.cos_p12/e),h=Math.abs(this.lat0)-Y,Math.abs(h)<=oe?this.lat0>=0?o=ue(this.long0+Math.atan2(t.x,-t.y)):o=ue(this.long0-Math.atan2(-t.x,t.y)):o=ue(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=o,t.y=l,t)):(c=yo(this.es),d=vo(this.es),m=Eo(this.es),p=wo(this.es),Math.abs(this.sin_p12-1)<=oe?(y=this.a*Qt(c,d,m,p,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),E=y-e,l=mu(E/this.a,c,d,m,p),o=ue(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=l,t):Math.abs(this.sin_p12+1)<=oe?(y=this.a*Qt(c,d,m,p,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),E=e-y,l=mu(E/this.a,c,d,m,p),o=ue(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=l,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),x=Math.atan2(t.x,t.y),v=Ds(this.a,this.e,this.sin_p12),R=Math.cos(x),S=this.e*this.cos_p12*R,L=-S*S/(1-this.es),A=3*this.es*(1-L)*this.sin_p12*this.cos_p12*R/(1-this.es),P=e/v,b=P-L*(1+L)*Math.pow(P,3)/6-A*(1+3*L)*Math.pow(P,4)/24,V=1-L*b*b/2-P*b*b*b/6,M=Math.asin(this.sin_p12*Math.cos(b)+this.cos_p12*Math.sin(b)*R),o=ue(this.long0+Math.asin(Math.sin(x)*Math.sin(b)/Math.cos(M))),D=Math.sin(M),l=Math.atan2((D-this.es*V*this.sin_p12)*Math.tan(M),D*(1-this.es)),t.x=o,t.y=l,t))}var PC=["Azimuthal_Equidistant","aeqd"];const LC={init:TC,forward:IC,inverse:AC,names:PC};function OC(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function NC(t){var e,n,i,s,o,l,h,c,d=t.x,m=t.y;return i=ue(d-this.long0),e=Math.sin(m),n=Math.cos(m),s=Math.cos(i),l=this.sin_p14*e+this.cos_p14*n*s,o=1,(l>0||Math.abs(l)<=oe)&&(h=this.a*o*n*Math.sin(i),c=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*s)),t.x=h,t.y=c,t}function kC(t){var e,n,i,s,o,l,h;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=hr(e/this.a),i=Math.sin(n),s=Math.cos(n),l=this.long0,Math.abs(e)<=oe?(h=this.lat0,t.x=l,t.y=h,t):(h=hr(s*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-Y,Math.abs(o)<=oe?(this.lat0>=0?l=ue(this.long0+Math.atan2(t.x,-t.y)):l=ue(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=h,t):(l=ue(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=l,t.y=h,t))}var DC=["ortho"];const FC={init:OC,forward:NC,inverse:kC,names:DC};var ht={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Xe={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function bC(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Y-We/2?this.face=ht.TOP:this.lat0<=-(Y-We/2)?this.face=ht.BOTTOM:Math.abs(this.long0)<=We?this.face=ht.FRONT:Math.abs(this.long0)<=Y+We?this.face=this.long0>0?ht.RIGHT:ht.LEFT:this.face=ht.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function zC(t){var e={x:0,y:0},n,i,s,o,l,h,c={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===ht.TOP)o=Y-n,i>=We&&i<=Y+We?(c.value=Xe.AREA_0,s=i-Y):i>Y+We||i<=-(Y+We)?(c.value=Xe.AREA_1,s=i>0?i-kt:i+kt):i>-(Y+We)&&i<=-We?(c.value=Xe.AREA_2,s=i+Y):(c.value=Xe.AREA_3,s=i);else if(this.face===ht.BOTTOM)o=Y+n,i>=We&&i<=Y+We?(c.value=Xe.AREA_0,s=-i+Y):i<We&&i>=-We?(c.value=Xe.AREA_1,s=-i):i<-We&&i>=-(Y+We)?(c.value=Xe.AREA_2,s=-i-Y):(c.value=Xe.AREA_3,s=i>0?-i+kt:-i-kt);else{var d,m,p,y,E,v,M;this.face===ht.RIGHT?i=Ts(i,+Y):this.face===ht.BACK?i=Ts(i,3.14159265359):this.face===ht.LEFT&&(i=Ts(i,-Y)),y=Math.sin(n),E=Math.cos(n),v=Math.sin(i),M=Math.cos(i),d=E*M,m=E*v,p=y,this.face===ht.FRONT?(o=Math.acos(d),s=$l(o,p,m,c)):this.face===ht.RIGHT?(o=Math.acos(m),s=$l(o,p,-d,c)):this.face===ht.BACK?(o=Math.acos(-d),s=$l(o,p,-m,c)):this.face===ht.LEFT?(o=Math.acos(-m),s=$l(o,p,d,c)):(o=s=0,c.value=Xe.AREA_0)}return h=Math.atan(12/kt*(s+Math.acos(Math.sin(s)*Math.cos(We))-Y)),l=Math.sqrt((1-Math.cos(o))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(s))))),c.value===Xe.AREA_1?h+=Y:c.value===Xe.AREA_2?h+=kt:c.value===Xe.AREA_3&&(h+=1.5*kt),e.x=l*Math.cos(h),e.y=l*Math.sin(h),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function UC(t){var e={lam:0,phi:0},n,i,s,o,l,h,c,d,m,p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=Xe.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=Xe.AREA_1,n-=Y):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Xe.AREA_2,n=n<0?n+kt:n-kt):(p.value=Xe.AREA_3,n+=Y),m=kt/12*Math.tan(n),l=Math.sin(m)/(Math.cos(m)-1/Math.sqrt(2)),h=Math.atan(l),s=Math.cos(n),o=Math.tan(i),c=1-s*s*o*o*(1-Math.cos(Math.atan(1/Math.cos(h)))),c<-1?c=-1:c>1&&(c=1),this.face===ht.TOP)d=Math.acos(c),e.phi=Y-d,p.value===Xe.AREA_0?e.lam=h+Y:p.value===Xe.AREA_1?e.lam=h<0?h+kt:h-kt:p.value===Xe.AREA_2?e.lam=h-Y:e.lam=h;else if(this.face===ht.BOTTOM)d=Math.acos(c),e.phi=d-Y,p.value===Xe.AREA_0?e.lam=-h+Y:p.value===Xe.AREA_1?e.lam=-h:p.value===Xe.AREA_2?e.lam=-h-Y:e.lam=h<0?-h-kt:-h+kt;else{var y,E,v;y=c,m=y*y,m>=1?v=0:v=Math.sqrt(1-m)*Math.sin(h),m+=v*v,m>=1?E=0:E=Math.sqrt(1-m),p.value===Xe.AREA_1?(m=E,E=-v,v=m):p.value===Xe.AREA_2?(E=-E,v=-v):p.value===Xe.AREA_3&&(m=E,E=v,v=-m),this.face===ht.RIGHT?(m=y,y=-E,E=m):this.face===ht.BACK?(y=-y,E=-E):this.face===ht.LEFT&&(m=y,y=E,E=-m),e.phi=Math.acos(-v)-Y,e.lam=Math.atan2(E,y),this.face===ht.RIGHT?e.lam=Ts(e.lam,-Y):this.face===ht.BACK?e.lam=Ts(e.lam,-3.14159265359):this.face===ht.LEFT&&(e.lam=Ts(e.lam,+Y))}if(this.es!==0){var M,x,R;M=e.phi<0?1:0,x=Math.tan(e.phi),R=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-R*R)/(this.one_minus_f*R)),M&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function $l(t,e,n,i){var s;return t<oe?(i.value=Xe.AREA_0,s=0):(s=Math.atan2(e,n),Math.abs(s)<=We?i.value=Xe.AREA_0:s>We&&s<=Y+We?(i.value=Xe.AREA_1,s-=Y):s>Y+We||s<=-(Y+We)?(i.value=Xe.AREA_2,s=s>=0?s-kt:s+kt):(i.value=Xe.AREA_3,s+=Y)),s}function Ts(t,e){var n=t+e;return n<-3.14159265359?n+=eo:n>3.14159265359&&(n-=eo),n}var GC=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const jC={init:bC,forward:zC,inverse:UC,names:GC};var Bf=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ua=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],m_=.8487,p_=1.3523,__=ti/5,BC=1/__,Rs=18,pu=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},$C=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function WC(t,e,n,i){for(var s=e;i;--i){var o=t(s);if(s-=o,Math.abs(o)<n)break}return s}function XC(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function VC(t){var e=ue(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*__);i<0?i=0:i>=Rs&&(i=Rs-1),n=ti*(n-BC*i);var s={x:pu(Bf[i],n)*e,y:pu(Ua[i],n)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*m_+this.x0,s.y=s.y*this.a*p_+this.y0,s}function KC(t){var e={x:(t.x-this.x0)/(this.a*m_),y:Math.abs(t.y-this.y0)/(this.a*p_)};if(e.y>=1)e.x/=Bf[Rs][0],e.y=t.y<0?-Y:Y;else{var n=Math.floor(e.y*Rs);for(n<0?n=0:n>=Rs&&(n=Rs-1);;)if(Ua[n][0]>e.y)--n;else if(Ua[n+1][0]<=e.y)++n;else break;var i=Ua[n],s=5*(e.y-i[0])/(Ua[n+1][0]-i[0]);s=WC(function(o){return(pu(i,o)-e.y)/$C(i,o)},s,oe,100),e.x/=pu(Bf[n],s),e.y=(5*n+s)*Ot,t.y<0&&(e.y=-e.y)}return e.x=ue(e.x+this.long0),e}var qC=["Robinson","robin"];const HC={init:XC,forward:VC,inverse:KC,names:qC};function YC(){this.name="geocent"}function ZC(t){var e=r_(t,this.es,this.a);return e}function QC(t){var e=s_(t,this.es,this.a,this.b);return e}var JC=["Geocentric","geocentric","geocent","Geocent"];const eS={init:YC,forward:ZC,inverse:QC,names:JC};var Bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Pa={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function tS(){if(Object.keys(Pa).forEach((function(n){if(typeof this[n]>"u")this[n]=Pa[n].def;else{if(Pa[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Pa[n].num&&(this[n]=parseFloat(this[n]))}Pa[n].degrees&&(this[n]=this[n]*Ot)}).bind(this)),Math.abs(Math.abs(this.lat0)-Y)<oe?this.mode=this.lat0<0?Bt.S_POLE:Bt.N_POLE:Math.abs(this.lat0)<oe?this.mode=Bt.EQUIT:(this.mode=Bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function nS(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s,o;switch(this.mode){case Bt.OBLIQ:o=this.sinph0*e+this.cosph0*n*i;break;case Bt.EQUIT:o=n*i;break;case Bt.S_POLE:o=-e;break;case Bt.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),s=o*n*Math.sin(t.x),this.mode){case Bt.OBLIQ:o*=this.cosph0*e-this.sinph0*n*i;break;case Bt.EQUIT:o*=e;break;case Bt.N_POLE:o*=-(n*i);break;case Bt.S_POLE:o*=n*i;break}var l,h;return l=o*this.cg+s*this.sg,h=1/(l*this.sw*this.h1+this.cw),s=(s*this.cg-o*this.sg)*this.cw*h,o=l*h,t.x=s*this.a,t.y=o*this.a,t}function iS(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,s;s=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var o=cn(t.x,t.y);if(Math.abs(o)<oe)e.x=0,e.y=t.y;else{var l,h;switch(h=1-o*o*this.pfact,h=(this.p-Math.sqrt(h))/(this.pn1/o+o/this.pn1),l=Math.sqrt(1-h*h),this.mode){case Bt.OBLIQ:e.y=Math.asin(l*this.sinph0+t.y*h*this.cosph0/o),t.y=(l-this.sinph0*Math.sin(e.y))*o,t.x*=h*this.cosph0;break;case Bt.EQUIT:e.y=Math.asin(t.y*h/o),t.y=l*o,t.x*=h;break;case Bt.N_POLE:e.y=Math.asin(l),t.y=-t.y;break;case Bt.S_POLE:e.y=-Math.asin(l);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var rS=["Tilted_Perspective","tpers"];const sS={init:tS,forward:nS,inverse:iS,names:rS};function aS(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function oS(t){var e=t.x,n=t.y,i,s,o,l;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var h=this.radius_p/cn(this.radius_p*Math.cos(n),Math.sin(n));if(s=h*Math.cos(e)*Math.cos(n),o=h*Math.sin(e)*Math.cos(n),l=h*Math.sin(n),(this.radius_g-s)*s-o*o-l*l*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(o/cn(l,i)),t.y=this.radius_g_1*Math.atan(l/i)):(t.x=this.radius_g_1*Math.atan(o/i),t.y=this.radius_g_1*Math.atan(l/cn(o,i)))}else this.shape==="sphere"&&(i=Math.cos(n),s=Math.cos(e)*i,o=Math.sin(e)*i,l=Math.sin(n),i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(o/cn(l,i)),t.y=this.radius_g_1*Math.atan(l/i)):(t.x=this.radius_g_1*Math.atan(o/i),t.y=this.radius_g_1*Math.atan(l/cn(o,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function lS(t){var e=-1,n=0,i=0,s,o,l,h;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*cn(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*cn(1,n));var c=i/this.radius_p;if(s=n*n+c*c+e*e,o=2*this.radius_g*e,l=o*o-4*s*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;h=(-o-Math.sqrt(l))/(2*s),e=this.radius_g+h*e,n*=h,i*=h,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),s=n*n+i*i+e*e,o=2*this.radius_g*e,l=o*o-4*s*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;h=(-o-Math.sqrt(l))/(2*s),e=this.radius_g+h*e,n*=h,i*=h,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var uS=["Geostationary Satellite View","Geostationary_Satellite","geos"];const hS={init:aS,forward:oS,inverse:lS,names:uS};var Ka=1.340264,qa=-.081106,Ha=893e-6,Ya=.003796,_u=Math.sqrt(3)/2;function cS(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function fS(t){var e=ue(t.x-this.long0),n=t.y,i=Math.asin(_u*Math.sin(n)),s=i*i,o=s*s*s;return t.x=e*Math.cos(i)/(_u*(Ka+3*qa*s+o*(7*Ha+9*Ya*s))),t.y=i*(Ka+qa*s+o*(Ha+Ya*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function dS(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,s,o,l,h,c,d;for(d=0;d<n&&(s=i*i,o=s*s*s,l=i*(Ka+qa*s+o*(Ha+Ya*s))-t.y,h=Ka+3*qa*s+o*(7*Ha+9*Ya*s),i-=c=l/h,!(Math.abs(c)<e));++d);return s=i*i,o=s*s*s,t.x=_u*t.x*(Ka+3*qa*s+o*(7*Ha+9*Ya*s))/Math.cos(i),t.y=Math.asin(Math.sin(i)/_u),t.x=ue(t.x+this.long0),t}var gS=["eqearth","Equal Earth","Equal_Earth"];const mS={init:cS,forward:fS,inverse:dS,names:gS};var io=1e-10;function pS(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<io)throw new Error;this.es?(this.en=md(this.es),this.m1=Bs(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=yS,this.forward=_S):(Math.abs(this.phi1)+io>=Y?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=ES,this.forward=vS)}function _S(t){var e=ue(t.x-(this.long0||0)),n=t.y,i,s,o;return i=this.am1+this.m1-Bs(n,s=Math.sin(n),o=Math.cos(n),this.en),s=o*e/(i*Math.sqrt(1-this.es*s*s)),t.x=i*Math.sin(s),t.y=this.am1-i*Math.cos(s),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function yS(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,s;if(n=cn(t.x,t.y=this.am1-t.y),s=pd(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(s))<Y)e=Math.sin(s),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(s);else if(Math.abs(e-Y)<=io)i=0;else throw new Error;return t.x=ue(i+(this.long0||0)),t.y=fr(s),t}function vS(t){var e=ue(t.x-(this.long0||0)),n=t.y,i,s;return s=this.cphi1+this.phi1-n,Math.abs(s)>io?(t.x=s*Math.sin(i=e*Math.cos(n)/s),t.y=this.cphi1-s*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function ES(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=cn(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>Y)throw new Error;return Math.abs(Math.abs(n)-Y)<=io?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=ue(e+(this.long0||0)),t.y=fr(n),t}var wS=["bonne","Bonne (Werner lat_1=90)"];const MS={init:pS,names:wS};function xS(t){t.Proj.projections.add(au),t.Proj.projections.add(ou),t.Proj.projections.add(_x),t.Proj.projections.add(Tx),t.Proj.projections.add(Nx),t.Proj.projections.add(zx),t.Proj.projections.add(Wx),t.Proj.projections.add(Hx),t.Proj.projections.add(eR),t.Proj.projections.add(sR),t.Proj.projections.add(MR),t.Proj.projections.add(IR),t.Proj.projections.add(NR),t.Proj.projections.add(UR),t.Proj.projections.add(WR),t.Proj.projections.add(HR),t.Proj.projections.add(eC),t.Proj.projections.add(sC),t.Proj.projections.add(cC),t.Proj.projections.add(pC),t.Proj.projections.add(wC),t.Proj.projections.add(SC),t.Proj.projections.add(LC),t.Proj.projections.add(FC),t.Proj.projections.add(jC),t.Proj.projections.add(HC),t.Proj.projections.add(eS),t.Proj.projections.add(sS),t.Proj.projections.add(hS),t.Proj.projections.add(mS),t.Proj.projections.add(MS)}gn.defaultDatum="WGS84";gn.Proj=ii;gn.WGS84=new gn.Proj("WGS84");gn.Point=ks;gn.toPoint=a_;gn.defs=Ht;gn.nadgrid=vM;gn.transform=gu;gn.mgrs=DM;gn.version="__VERSION__";xS(gn);const Fs={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Uu{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Fs[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Mo=6378137,Cs=Math.PI*Mo,RS=[-Cs,-Cs,Cs,Cs],CS=[-180,-85,180,85],Wl=Mo*Math.log(Math.tan(Math.PI/2));class us extends Uu{constructor(e){super({code:e,units:"m",extent:RS,global:!0,worldExtent:CS,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Mo)}})}}const Rp=[new us("EPSG:3857"),new us("EPSG:102100"),new us("EPSG:102113"),new us("EPSG:900913"),new us("http://www.opengis.net/def/crs/EPSG/0/3857"),new us("http://www.opengis.net/gml/srs/epsg.xml#3857")];function SS(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let o=0;o<s;o+=i){e[o]=Cs*t[o]/180;let l=Mo*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));l>Wl?l=Wl:l<-Wl&&(l=-Wl),e[o+1]=l}return e}function TS(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let o=0;o<s;o+=i)e[o]=180*t[o]/Cs,e[o+1]=360*Math.atan(Math.exp(t[o+1]/Mo))/Math.PI-90;return e}const IS=6378137,Cp=[-180,-90,180,90],AS=Math.PI*IS/180;class Ir extends Uu{constructor(e,n){super({code:e,units:"degrees",extent:Cp,axisOrientation:n,global:!0,metersPerUnit:AS,worldExtent:Cp})}}const Sp=[new Ir("CRS:84"),new Ir("EPSG:4326","neu"),new Ir("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ir("urn:ogc:def:crs:OGC:2:84"),new Ir("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ir("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ir("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let $f={};function lu(t){return $f[t]||$f[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function PS(t,e){$f[t]=e}function Gu(t){for(const e in t)delete t[e]}function y_(t){let e;for(e in t)return!1;return!e}let Is={};function Fr(t,e,n){const i=t.getCode(),s=e.getCode();i in Is||(Is[i]={}),Is[i][s]=n}function uu(t,e){return t in Is&&e in Is[t]?Is[t][e]:null}const Nt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Tp(t){const e=dr();for(let n=0,i=t.length;n<i;++n)hu(e,t[n]);return e}function LS(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function v_(t,e,n){let i,s;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?s=t[1]-n:t[3]<n?s=n-t[3]:s=0,i*i+s*s}function Ed(t,e){return E_(t,e[0],e[1])}function OS(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function E_(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Ip(t,e){const n=t[0],i=t[1],s=t[2],o=t[3],l=e[0],h=e[1];let c=Nt.UNKNOWN;return l<n?c=c|Nt.LEFT:l>s&&(c=c|Nt.RIGHT),h<i?c=c|Nt.BELOW:h>o&&(c=c|Nt.ABOVE),c===Nt.UNKNOWN&&(c=Nt.INTERSECTING),c}function dr(){return[1/0,1/0,-1/0,-1/0]}function xo(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function ju(t){return xo(1/0,1/0,-1/0,-1/0,t)}function NS(t,e){const n=t[0],i=t[1];return xo(n,i,n,i,e)}function kS(t,e,n,i,s){const o=ju(s);return M_(o,t,e,n,i)}function Wf(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function w_(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function hu(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function M_(t,e,n,i,s){for(;n<i;n+=s)DS(t,e[n],e[n+1]);return t}function DS(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function x_(t,e){let n;return n=e(Bu(t)),n||(n=e($u(t)),n)||(n=e(Wu(t)),n)||(n=e(Si(t)),n)?n:!1}function ro(t){let e=0;return Xu(t)||(e=Ke(t)*Jt(t)),e}function Bu(t){return[t[0],t[1]]}function $u(t){return[t[2],t[1]]}function bs(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function FS(t,e){let n;if(e==="bottom-left")n=Bu(t);else if(e==="bottom-right")n=$u(t);else if(e==="top-left")n=Si(t);else if(e==="top-right")n=Wu(t);else throw new Error("Invalid corner");return n}function Xf(t,e,n,i,s){const[o,l,h,c,d,m,p,y]=bS(t,e,n,i);return xo(Math.min(o,h,d,p),Math.min(l,c,m,y),Math.max(o,h,d,p),Math.max(l,c,m,y),s)}function bS(t,e,n,i){const s=e*i[0]/2,o=e*i[1]/2,l=Math.cos(n),h=Math.sin(n),c=s*l,d=s*h,m=o*l,p=o*h,y=t[0],E=t[1];return[y-c+p,E-d-m,y-c-p,E-d+m,y+c-p,E+d+m,y+c+p,E+d-m,y-c+p,E-d-m]}function Jt(t){return t[3]-t[1]}function $n(t,e,n){const i=n||dr();return Ro(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):ju(i),i}function Si(t){return[t[0],t[3]]}function Wu(t){return[t[2],t[3]]}function Ke(t){return t[2]-t[0]}function Ro(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Xu(t){return t[2]<t[0]||t[3]<t[1]}function zS(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function US(t,e,n){let i=!1;const s=Ip(t,e),o=Ip(t,n);if(s===Nt.INTERSECTING||o===Nt.INTERSECTING)i=!0;else{const l=t[0],h=t[1],c=t[2],d=t[3],m=e[0],p=e[1],y=n[0],E=n[1],v=(E-p)/(y-m);let M,x;o&Nt.ABOVE&&!(s&Nt.ABOVE)&&(M=y-(E-d)/v,i=M>=l&&M<=c),!i&&o&Nt.RIGHT&&!(s&Nt.RIGHT)&&(x=E-(y-c)*v,i=x>=h&&x<=d),!i&&o&Nt.BELOW&&!(s&Nt.BELOW)&&(M=y-(E-h)/v,i=M>=l&&M<=c),!i&&o&Nt.LEFT&&!(s&Nt.LEFT)&&(x=E-(y-l)*v,i=x>=h&&x<=d)}return i}function GS(t,e){const n=e.getExtent(),i=bs(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=Ke(n),l=Math.floor((i[0]-n[0])/s)*s;t[0]-=l,t[2]-=l}return t}function R_(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];GS(t,e);const s=Ke(i);if(Ke(t)>s,t[0]<i[0])return[[t[0]+s,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-s,t[3]]]}return[t]}function pt(t,e,n){return Math.min(Math.max(t,e),n)}function jS(t,e,n,i,s,o){const l=s-n,h=o-i;if(l!==0||h!==0){const c=((t-n)*l+(e-i)*h)/(l*l+h*h);c>1?(n=s,i=o):c>0&&(n+=l*c,i+=h*c)}return As(t,e,n,i)}function As(t,e,n,i){const s=n-t,o=i-e;return s*s+o*o}function BS(t){const e=t.length;for(let i=0;i<e;i++){let s=i,o=Math.abs(t[i][i]);for(let h=i+1;h<e;h++){const c=Math.abs(t[h][i]);c>o&&(o=c,s=h)}if(o===0)return null;const l=t[s];t[s]=t[i],t[i]=l;for(let h=i+1;h<e;h++){const c=-t[h][i]/t[i][i];for(let d=i;d<e+1;d++)i==d?t[h][d]=0:t[h][d]+=c*t[i][d]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function Ap(t){return t*180/Math.PI}function or(t){return t*Math.PI/180}function Ps(t,e){const n=t%e;return n*e<0?n+e:n}function $S(t,e,n){return t+n*(e-t)}function C_(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Xl(t,e){return Math.floor(C_(t,e))}function Vl(t,e){return Math.ceil(C_(t,e))}function Vf(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}function WS(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function yu(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function wd(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=s,t[1]=o,t}function XS(t,e){return t[0]*=e,t[1]*=e,t}function VS(t,e){if(e.canWrapX()){const n=Ke(e.getExtent()),i=S_(t,e,n);i&&(t[0]-=i*n)}return t}function S_(t,e,n){const i=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Ke(i),s=Math.floor((t[0]-i[0])/n)),s}const KS=63710088e-1;function Pp(t,e,n){n=n||KS;const i=or(t[1]),s=or(e[1]),o=(s-i)/2,l=or(e[0]-t[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}const vu=.9996,Nn=.00669438,Vu=Nn*Nn,Ku=Vu*Nn,Pr=Nn/(1-Nn),Lp=Math.sqrt(1-Nn),zs=(1-Lp)/(1+Lp),T_=zs*zs,Md=T_*zs,xd=Md*zs,I_=xd*zs,A_=1-Nn/4-3*Vu/64-5*Ku/256,qS=3*Nn/8+3*Vu/32+45*Ku/1024,HS=15*Vu/256+45*Ku/1024,YS=35*Ku/3072,ZS=3/2*zs-27/32*Md+269/512*I_,QS=21/16*T_-55/32*xd,JS=151/96*Md-417/128*I_,eT=1097/512*xd,Eu=6378137;function tT(t,e,n){const i=t-5e5,l=(n.north?e:e-1e7)/vu/(Eu*A_),h=l+ZS*Math.sin(2*l)+QS*Math.sin(4*l)+JS*Math.sin(6*l)+eT*Math.sin(8*l),c=Math.sin(h),d=c*c,m=Math.cos(h),p=c/m,y=p*p,E=y*y,v=1-Nn*d,M=Math.sqrt(1-Nn*d),x=Eu/M,R=(1-Nn)/v,S=Pr*m**2,L=S*S,A=i/(x*vu),P=A*A,b=P*A,V=b*A,D=V*A,j=D*A,G=h-p/R*(P/2-V/24*(5+3*y+10*S-4*L-9*Pr))+j/720*(61+90*y+298*S+45*E-252*Pr-3*L);let ie=(A-b/6*(1+2*y+S)+D/120*(5-2*S+28*y-3*L+8*Pr+24*E))/m;return ie=Vf(ie+or(P_(n.number)),-Math.PI,Math.PI),[Ap(ie),Ap(G)]}const Op=-80,Np=84,nT=-180,iT=180;function rT(t,e,n){t=Vf(t,nT,iT),e<Op?e=Op:e>Np&&(e=Np);const i=or(e),s=Math.sin(i),o=Math.cos(i),l=s/o,h=l*l,c=h*h,d=or(t),m=P_(n.number),p=or(m),y=Eu/Math.sqrt(1-Nn*s**2),E=Pr*o**2,v=o*Vf(d-p,-Math.PI,Math.PI),M=v*v,x=M*v,R=x*v,S=R*v,L=S*v,A=Eu*(A_*i-qS*Math.sin(2*i)+HS*Math.sin(4*i)-YS*Math.sin(6*i)),P=vu*y*(v+x/6*(1-h+E)+S/120*(5-18*h+c+72*E-58*Pr))+5e5;let b=vu*(A+y*l*(M/2+R/24*(5-h+9*E+4*E**2)+L/720*(61-58*h+c+600*E-330*Pr)));return n.north||(b+=1e7),[P,b]}function P_(t){return(t-1)*6-180+3}const sT=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function L_(t){let e=0;for(const s of sT){const o=t.match(s);if(o){e=parseInt(o[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function kp(t,e){return function(n,i,s,o){const l=n.length;s=s>1?s:2,o=o??s,i||(s>2?i=n.slice():i=new Array(l));for(let h=0;h<l;h+=o){const c=n[h],d=n[h+1],m=t(c,d,e);i[h]=m[0],i[h+1]=m[1]}return i}}function aT(t){return L_(t)?new Uu({code:t,units:"m"}):null}function oT(t){const e=L_(t.getCode());return e?{forward:kp(rT,e),inverse:kp(tT,e)}:null}function O_(...t){console.warn(...t)}const lT=[oT],uT=[aT];let Kf=!0;function hT(t){Kf=!1}function Rd(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function wu(t){PS(t.getCode(),t),Fr(t,t,Rd)}function cT(t){t.forEach(wu)}function Xt(t){if(typeof t!="string")return t;const e=lu(t);if(e)return e;for(const n of uT){const i=n(t);if(i)return i}return null}function Mu(t,e,n,i){t=Xt(t);let s;const o=t.getPointResolutionFunc();if(o){if(s=o(e,n),i&&i!==t.getUnits()){const l=t.getMetersPerUnit();l&&(s=s*l/Fs[i])}}else{const l=t.getUnits();if(l=="degrees"&&!i||i=="degrees")s=e;else{const h=Sd(t,Xt("EPSG:4326"));if(!h&&l!=="degrees")s=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=h(d,d,2);const m=Pp(d.slice(0,2),d.slice(2,4)),p=Pp(d.slice(4,6),d.slice(6,8));s=(m+p)/2}const c=i?Fs[i]:t.getMetersPerUnit();c!==void 0&&(s/=c)}}return s}function qf(t){cT(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Fr(e,n,Rd)})})}function fT(t,e,n,i){t.forEach(function(s){e.forEach(function(o){Fr(s,o,n),Fr(o,s,i)})})}function Cd(t,e){return t?typeof t=="string"?Xt(t):t:Xt(e)}function Hf(t){return function(e,n,i,s){const o=e.length;i=i!==void 0?i:2,s=s??i,n=n!==void 0?n:new Array(o);for(let l=0;l<o;l+=s){const h=t(e.slice(l,l+i)),c=h.length;for(let d=0,m=s;d<m;++d)n[l+d]=d>=c?e[l+d]:h[d]}return n}}function dT(t,e,n,i){const s=Xt(t),o=Xt(e);Fr(s,o,Hf(n)),Fr(o,s,Hf(i))}function hf(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Sd(t,e)===Rd)&&n}function Sd(t,e){const n=t.getCode(),i=e.getCode();let s=uu(n,i);if(s)return s;let o=null,l=null;for(const c of lT)o||(o=c(t)),l||(l=c(e));if(!o&&!l)return null;const h="EPSG:4326";if(l)if(o)s=cf(o.inverse,l.forward);else{const c=uu(n,h);c&&(s=cf(c,l.forward))}else{const c=uu(h,i);c&&(s=cf(o.inverse,c))}return s&&(wu(t),wu(e),Fr(t,e,s)),s}function cf(t,e){return function(n,i,s,o){return i=t(n,i,s,o),e(i,i,s,o)}}function xu(t,e){const n=Xt(t),i=Xt(e);return Sd(n,i)}function N_(t,e,n){const i=xu(e,n);if(!i){const s=Xt(e).getCode(),o=Xt(n).getCode();throw new Error(`No transform available between ${s} and ${o}`)}return i(t,void 0,t.length)}function Yf(t,e){return t}function Ei(t,e){return Kf&&!yu(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Kf=!1,O_("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function gT(t,e){return t}function Lr(t,e){return t}function Dp(t,e,n){return function(i){let s,o;if(t.canWrapX()){const l=t.getExtent(),h=Ke(l);i=i.slice(0),o=S_(i,t,h),o&&(i[0]=i[0]-o*h),i[0]=pt(i[0],l[0],l[2]),i[1]=pt(i[1],l[1],l[3]),s=n(i)}else s=n(i);return o&&e.canWrapX()&&(s[0]+=o*Ke(e.getExtent())),s}}function mT(){qf(Rp),qf(Sp),fT(Sp,Rp,SS,TS)}mT();function pT(t){const e=Object.keys(t.defs),n=e.length;let i,s;for(i=0;i<n;++i){const o=e[i];if(!lu(o)){const l=t.defs(o);let h=l.units;!h&&l.projName==="longlat"&&(h="degrees"),wu(new Uu({code:o,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:h}))}}for(i=0;i<n;++i){const o=e[i],l=lu(o);for(s=0;s<n;++s){const h=e[s],c=lu(h);if(!uu(o,h))if(t.defs[o]===t.defs[h])qf([l,c]);else{const d=t(o,h);dT(l,c,Dp(l,c,d.forward),Dp(c,l,d.inverse))}}}}class gr{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const so={PROPERTYCHANGE:"propertychange"};class qu{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Td(t,e){return t>e?1:t<e?-1:0}function Id(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const o=t[s];if(o===e)return s;if(o<e)return n(e,t[s-1],o)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function _T(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function Hu(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function yT(t,e,n){const i=e;return t.every(function(s,o){if(o===0)return!0;const l=i(t[o-1],s);return!(l>0||l===0)})}function Ru(){return!0}function Yu(){return!1}function Cu(){}function vT(t){let e,n,i;return function(){const s=Array.prototype.slice.call(arguments);return(!n||this!==i||!Hu(s,n))&&(i=this,n=s,e=t.apply(this,arguments)),e}}function ET(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}class Zu extends qu{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const o=n?new gr(e):e;o.target||(o.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in l||(l[i]=0,h[i]=0),++l[i];let c;for(let d=0,m=s.length;d<m;++d)if("handleEvent"in s[d]?c=s[d].handleEvent(o):c=s[d].call(this,o),c===!1||o.propagationStopped){c=!1;break}if(--l[i]===0){let d=h[i];for(delete h[i];d--;)this.removeEventListener(i,Cu);delete l[i]}return c}disposeInternal(){this.listeners_&&Gu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=Cu,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}const Ie={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ve(t,e,n,i,s){if(s){const l=n;n=function(){t.removeEventListener(e,n),l.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function Su(t,e,n,i){return Ve(t,e,n,i,!0)}function ct(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Gu(t))}class Co extends Zu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ie.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Ve(this,e[o],n);return s}return Ve(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let o=0;o<s;++o)i[o]=Su(this,e[o],n)}else i=Su(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)wT(i);else if(Array.isArray(e))for(let s=0,o=e.length;s<o;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}Co.prototype.on;Co.prototype.once;Co.prototype.un;function wT(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)ct(t[e]);else ct(t)}function je(){throw new Error("Unimplemented abstract method.")}let MT=0;function $t(t){return t.ol_uid||(t.ol_uid=String(++MT))}class Fp extends gr{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Ii extends Co{constructor(e){super(),this.on,this.once,this.un,$t(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Fp(i,e,n)),i=so.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Fp(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const o=s[e];s[e]=n,o!==n&&this.notify(e,o)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],y_(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const Ln={ADD:"add",REMOVE:"remove"},bp={LENGTH:"length"};class Kl extends gr{constructor(e,n,i){super(e),this.element=n,this.index=i}}class xi extends Ii{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(bp.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Kl(Ln.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Kl(Ln.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const s=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Kl(Ln.REMOVE,s,e)),this.dispatchEvent(new Kl(Ln.ADD,n,e))}updateLength_(){this.set(bp.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const Ye={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function tt(t,e){if(!t)throw new Error(e)}class k_ extends Ii{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Ye.OPACITY]=e.opacity!==void 0?e.opacity:1,tt(typeof n[Ye.OPACITY]=="number","Layer opacity must be a number"),n[Ye.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Ye.Z_INDEX]=e.zIndex,n[Ye.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Ye.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Ye.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Ye.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=pt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return je()}getLayerStatesArray(e){return je()}getExtent(){return this.get(Ye.EXTENT)}getMaxResolution(){return this.get(Ye.MAX_RESOLUTION)}getMinResolution(){return this.get(Ye.MIN_RESOLUTION)}getMinZoom(){return this.get(Ye.MIN_ZOOM)}getMaxZoom(){return this.get(Ye.MAX_ZOOM)}getOpacity(){return this.get(Ye.OPACITY)}getSourceState(){return je()}getVisible(){return this.get(Ye.VISIBLE)}getZIndex(){return this.get(Ye.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Ye.EXTENT,e)}setMaxResolution(e){this.set(Ye.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Ye.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Ye.MAX_ZOOM,e)}setMinZoom(e){this.set(Ye.MIN_ZOOM,e)}setOpacity(e){tt(typeof e=="number","Layer opacity must be a number"),this.set(Ye.OPACITY,e)}setVisible(e){this.set(Ye.VISIBLE,e)}setZIndex(e){this.set(Ye.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const ni={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Pn={ANIMATING:0,INTERACTING:1},jn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},xT=42,Ad=256;function zp(t,e,n){return function(i,s,o,l,h){if(!i)return;if(!s&&!e)return i;const c=e?0:o[0]*s,d=e?0:o[1]*s,m=h?h[0]:0,p=h?h[1]:0;let y=t[0]+c/2+m,E=t[2]-c/2+m,v=t[1]+d/2+p,M=t[3]-d/2+p;y>E&&(y=(E+y)/2,E=y),v>M&&(v=(M+v)/2,M=v);let x=pt(i[0],y,E),R=pt(i[1],v,M);if(l&&n&&s){const S=30*s;x+=-S*Math.log(1+Math.max(0,y-i[0])/S)+S*Math.log(1+Math.max(0,i[0]-E)/S),R+=-S*Math.log(1+Math.max(0,v-i[1])/S)+S*Math.log(1+Math.max(0,i[1]-M)/S)}return[x,R]}}function RT(t){return t}function Pd(t,e,n,i){const s=Ke(e)/n[0],o=Jt(e)/n[1];return i?Math.min(t,Math.max(s,o)):Math.min(t,Math.min(s,o))}function Ld(t,e,n){let i=Math.min(t,e);const s=50;return i*=Math.log(1+s*Math.max(0,t/e-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/t-1))/s+1),pt(i,n/2,e*2)}function CT(t,e,n,i){return e=e!==void 0?e:!0,function(s,o,l,h){if(s!==void 0){const c=t[0],d=t[t.length-1],m=n?Pd(c,n,l,i):c;if(h)return e?Ld(s,m,d):pt(s,d,m);const p=Math.min(m,s),y=Math.floor(Id(t,p,o));return t[y]>m&&y<t.length-1?t[y+1]:t[y]}}}function ST(t,e,n,i,s,o){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(l,h,c,d){if(l!==void 0){const m=s?Pd(e,s,c,o):e;if(d)return i?Ld(l,m,n):pt(l,n,m);const p=1e-9,y=Math.ceil(Math.log(e/m)/Math.log(t)-p),E=-h*(.5-p)+.5,v=Math.min(m,l),M=Math.floor(Math.log(e/v)/Math.log(t)+E),x=Math.max(y,M),R=e/Math.pow(t,x);return pt(R,n,m)}}}function Up(t,e,n,i,s){return n=n!==void 0?n:!0,function(o,l,h,c){if(o!==void 0){const d=i?Pd(t,i,h,s):t;return!n||!c?pt(o,e,d):Ld(o,d,e)}}}function Od(t){if(t!==void 0)return 0}function Gp(t){if(t!==void 0)return t}function TT(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function IT(t){const e=or(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function D_(t){return Math.pow(t,3)}function $s(t){return 1-D_(1-t)}function AT(t){return 3*t*t-2*t*t*t}function PT(t){return t}new Array(6);function Ls(){return[1,0,0,1,0,0]}function En(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function ao(t,e,n,i,s,o,l,h){const c=Math.sin(o),d=Math.cos(o);return t[0]=i*d,t[1]=s*c,t[2]=-i*c,t[3]=s*d,t[4]=l*i*d-h*i*c+e,t[5]=l*s*c+h*s*d+n,t}function F_(t,e){const n=LT(e);tt(n!==0,"Transformation matrix cannot be inverted");const i=e[0],s=e[1],o=e[2],l=e[3],h=e[4],c=e[5];return t[0]=l/n,t[1]=-s/n,t[2]=-o/n,t[3]=i/n,t[4]=(o*c-l*h)/n,t[5]=-(i*c-s*h)/n,t}function LT(t){return t[0]*t[3]-t[1]*t[2]}const jp=[1e6,1e6,1e6,1e6,2,2];function OT(t){return"matrix("+t.map((n,i)=>Math.round(n*jp[i])/jp[i]).join(", ")+")"}function NT(t,e,n,i,s,o,l){o=o||[],l=l||2;let h=0;for(let c=e;c<n;c+=i){const d=t[c],m=t[c+1];o[h++]=s[0]*d+s[2]*m+s[4],o[h++]=s[1]*d+s[3]*m+s[5];for(let p=2;p<l;p++)o[h++]=t[c+p]}return o&&o.length!=h&&(o.length=h),o}function kT(t,e,n,i,s,o,l){l=l||[];const h=Math.cos(s),c=Math.sin(s),d=o[0],m=o[1];let p=0;for(let y=e;y<n;y+=i){const E=t[y]-d,v=t[y+1]-m;l[p++]=d+E*h-v*c,l[p++]=m+E*c+v*h;for(let M=y+2;M<y+i;++M)l[p++]=t[M]}return l&&l.length!=p&&(l.length=p),l}function DT(t,e,n,i,s,o,l,h){h=h||[];const c=l[0],d=l[1];let m=0;for(let p=e;p<n;p+=i){const y=t[p]-c,E=t[p+1]-d;h[m++]=c+s*y,h[m++]=d+o*E;for(let v=p+2;v<p+i;++v)h[m++]=t[v]}return h&&h.length!=m&&(h.length=m),h}function FT(t,e,n,i,s,o,l){l=l||[];let h=0;for(let c=e;c<n;c+=i){l[h++]=t[c]+s,l[h++]=t[c+1]+o;for(let d=c+2;d<c+i;++d)l[h++]=t[d]}return l&&l.length!=h&&(l.length=h),l}const Bp=Ls();class bT extends Ii{constructor(){super(),this.extent_=dr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vT((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return je()}closestPointXY(e,n,i,s){return je()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return je()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ju(n),this.extentRevision_=this.getRevision()}return zS(this.extent_,e)}rotate(e,n){je()}scale(e,n,i){je()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return je()}getType(){return je()}applyTransform(e){je()}intersectsExtent(e){return je()}translate(e,n){je()}transform(e,n){const i=Xt(e),s=i.getUnits()=="tile-pixels"?function(o,l,h){const c=i.getExtent(),d=i.getWorldExtent(),m=Jt(d)/Jt(c);ao(Bp,d[0],d[3],m,-m,0,0,0);const p=NT(o,0,o.length,h,Bp,l),y=xu(i,n);return y?y(p,p,h):p}:xu(i,n);return this.applyTransform(s),this}}class Nd extends bT{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return kS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return je()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=$p(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){je()}setLayout(e,n,i){let s;if(e)s=$p(e);else{for(let o=0;o<i;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,e=zT(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();kT(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=bs(this.getExtent()));const s=this.getFlatCoordinates();if(s){const o=this.getStride();DT(s,0,s.length,o,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();FT(i,0,i.length,s,e,n,i),this.changed()}}}function zT(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function $p(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Wp(t,e,n,i,s,o,l){const h=t[e],c=t[e+1],d=t[n]-h,m=t[n+1]-c;let p;if(d===0&&m===0)p=e;else{const y=((s-h)*d+(o-c)*m)/(d*d+m*m);if(y>1)p=n;else if(y>0){for(let E=0;E<i;++E)l[E]=$S(t[e+E],t[n+E],y);l.length=i;return}else p=e}for(let y=0;y<i;++y)l[y]=t[p+y];l.length=i}function b_(t,e,n,i,s){let o=t[e],l=t[e+1];for(e+=i;e<n;e+=i){const h=t[e],c=t[e+1],d=As(o,l,h,c);d>s&&(s=d),o=h,l=c}return s}function UT(t,e,n,i,s){for(let o=0,l=n.length;o<l;++o){const h=n[o];s=b_(t,e,h,i,s),e=h}return s}function z_(t,e,n,i,s,o,l,h,c,d,m){if(e==n)return d;let p,y;if(s===0){if(y=As(l,h,t[e],t[e+1]),y<d){for(p=0;p<i;++p)c[p]=t[e+p];return c.length=i,y}return d}m=m||[NaN,NaN];let E=e+i;for(;E<n;)if(Wp(t,E-i,E,i,l,h,m),y=As(l,h,m[0],m[1]),y<d){for(d=y,p=0;p<i;++p)c[p]=m[p];c.length=i,E+=i}else E+=i*Math.max((Math.sqrt(y)-Math.sqrt(d))/s|0,1);if(Wp(t,n-i,e,i,l,h,m),y=As(l,h,m[0],m[1]),y<d){for(d=y,p=0;p<i;++p)c[p]=m[p];c.length=i}return d}function GT(t,e,n,i,s,o,l,h,c,d,m){m=m||[NaN,NaN];for(let p=0,y=n.length;p<y;++p){const E=n[p];d=z_(t,e,E,i,s,o,l,h,c,d,m),e=E}return d}function jT(t,e,n,i){for(let s=0,o=n.length;s<o;++s)t[e++]=n[s];return e}function U_(t,e,n,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];for(let h=0;h<i;++h)t[e++]=l[h]}return e}function BT(t,e,n,i,s){s=s||[];let o=0;for(let l=0,h=n.length;l<h;++l){const c=U_(t,e,n[l],i);s[o++]=c,e=c}return s.length=o,s}function $T(t,e,n,i,s,o,l){const h=(n-e)/i;if(h<3){for(;e<n;e+=i)o[l++]=t[e],o[l++]=t[e+1];return l}const c=new Array(h);c[0]=1,c[h-1]=1;const d=[e,n-i];let m=0;for(;d.length>0;){const p=d.pop(),y=d.pop();let E=0;const v=t[y],M=t[y+1],x=t[p],R=t[p+1];for(let S=y+i;S<p;S+=i){const L=t[S],A=t[S+1],P=jS(L,A,v,M,x,R);P>E&&(m=S,E=P)}E>s&&(c[(m-e)/i]=1,y+i<m&&d.push(y,m),m+i<p&&d.push(m,p))}for(let p=0;p<h;++p)c[p]&&(o[l++]=t[e+p*i],o[l++]=t[e+p*i+1]);return l}function hs(t,e){return e*Math.round(t/e)}function WT(t,e,n,i,s,o,l){if(e==n)return l;let h=hs(t[e],s),c=hs(t[e+1],s);e+=i,o[l++]=h,o[l++]=c;let d,m;do if(d=hs(t[e],s),m=hs(t[e+1],s),e+=i,e==n)return o[l++]=d,o[l++]=m,l;while(d==h&&m==c);for(;e<n;){const p=hs(t[e],s),y=hs(t[e+1],s);if(e+=i,p==d&&y==m)continue;const E=d-h,v=m-c,M=p-h,x=y-c;if(E*x==v*M&&(E<0&&M<E||E==M||E>0&&M>E)&&(v<0&&x<v||v==x||v>0&&x>v)){d=p,m=y;continue}o[l++]=d,o[l++]=m,h=d,c=m,d=p,m=y}return o[l++]=d,o[l++]=m,l}function XT(t,e,n,i,s,o,l,h){for(let c=0,d=n.length;c<d;++c){const m=n[c];l=WT(t,e,m,i,s,o,l),h.push(l),e=m}return l}function G_(t,e,n,i,s){s=s!==void 0?s:[];let o=0;for(let l=e;l<n;l+=i)s[o++]=t.slice(l,l+i);return s.length=o,s}function VT(t,e,n,i,s){s=s!==void 0?s:[];let o=0;for(let l=0,h=n.length;l<h;++l){const c=n[l];s[o++]=G_(t,e,c,i,s[o]),e=c}return s.length=o,s}function j_(t,e,n,i){let s=0;const o=t[n-i],l=t[n-i+1];let h=0,c=0;for(;e<n;e+=i){const d=t[e]-o,m=t[e+1]-l;s+=c*d-h*m,h=d,c=m}return s/2}function KT(t,e,n,i){let s=0;for(let o=0,l=n.length;o<l;++o){const h=n[o];s+=j_(t,e,h,i),e=h}return s}class oo extends Nd{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new oo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<v_(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(b_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),z_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return j_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return G_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=$T(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new oo(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=U_(this.flatCoordinates,0,e,this.stride),this.changed()}}class kd extends Nd{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new kd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const o=this.flatCoordinates,l=As(e,n,o[0],o[1]);if(l<s){const h=this.stride;for(let c=0;c<h;++c)i[c]=o[c];return i.length=h,l}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return NS(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return E_(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jT(this.flatCoordinates,0,e,this.stride),this.changed()}}function qT(t,e,n,i,s){return!x_(s,function(l){return!Or(t,e,n,i,l[0],l[1])})}function Or(t,e,n,i,s,o){let l=0,h=t[n-i],c=t[n-i+1];for(;e<n;e+=i){const d=t[e],m=t[e+1];c<=o?m>o&&(d-h)*(o-c)-(s-h)*(m-c)>0&&l++:m<=o&&(d-h)*(o-c)-(s-h)*(m-c)<0&&l--,h=d,c=m}return l!==0}function B_(t,e,n,i,s,o){if(n.length===0||!Or(t,e,n[0],i,s,o))return!1;for(let l=1,h=n.length;l<h;++l)if(Or(t,n[l-1],n[l],i,s,o))return!1;return!0}function HT(t,e,n,i,s,o,l){let h,c,d,m,p,y,E;const v=s[o+1],M=[];for(let S=0,L=n.length;S<L;++S){const A=n[S];for(m=t[A-i],y=t[A-i+1],h=e;h<A;h+=i)p=t[h],E=t[h+1],(v<=y&&E<=v||y<=v&&v<=E)&&(d=(v-y)/(E-y)*(p-m)+m,M.push(d)),m=p,y=E}let x=NaN,R=-1/0;for(M.sort(Td),m=M[0],h=1,c=M.length;h<c;++h){p=M[h];const S=Math.abs(p-m);S>R&&(d=(m+p)/2,B_(t,e,n,i,d,v)&&(x=d,R=S)),m=p}return isNaN(x)&&(x=s[o]),[x,v,R]}function YT(t,e,n,i,s){let o;for(e+=i;e<n;e+=i)if(o=s(t.slice(e-i,e),t.slice(e,e+i)),o)return o;return!1}function $_(t,e,n,i,s){const o=M_(dr(),t,e,n,i);return Ro(s,o)?OS(s,o)||o[0]>=s[0]&&o[2]<=s[2]||o[1]>=s[1]&&o[3]<=s[3]?!0:YT(t,e,n,i,function(l,h){return US(s,l,h)}):!1}function W_(t,e,n,i,s){return!!($_(t,e,n,i,s)||Or(t,e,n,i,s[0],s[1])||Or(t,e,n,i,s[0],s[3])||Or(t,e,n,i,s[2],s[1])||Or(t,e,n,i,s[2],s[3]))}function ZT(t,e,n,i,s){if(!W_(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let o=1,l=n.length;o<l;++o)if(qT(t,n[o-1],n[o],i,s)&&!$_(t,n[o-1],n[o],i,s))return!1;return!0}function QT(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const o=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=o}e+=i,n-=i}}function X_(t,e,n,i){let s=0,o=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const h=t[e],c=t[e+1];s+=(h-o)*(c+l),o=h,l=c}return s===0?void 0:s>0}function JT(t,e,n,i,s){s=s!==void 0?s:!1;for(let o=0,l=n.length;o<l;++o){const h=n[o],c=X_(t,e,h,i);if(o===0){if(s&&c||!s&&!c)return!1}else if(s&&!c||!s&&c)return!1;e=h}return!0}function Xp(t,e,n,i,s){s=s!==void 0?s:!1;for(let o=0,l=n.length;o<l;++o){const h=n[o],c=X_(t,e,h,i);(o===0?s&&c||!s&&!c:s&&!c||!s&&c)&&QT(t,e,h,i),e=h}return e}class lo extends Nd{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?_T(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new lo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<v_(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(UT(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),GT(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return B_(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return KT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Xp(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,VT(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=bs(this.getExtent());this.flatInteriorPoint_=HT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new kd(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new oo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let o=0;for(let l=0,h=i.length;l<h;++l){const c=i[l],d=new oo(n.slice(o,c),e);s.push(d),o=c}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;JT(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Xp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=XT(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new lo(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return ZT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=BT(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Vp(t){if(Xu(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],o=[e,n,e,s,i,s,i,n,e,n];return new lo(o,"XY",[o.length])}const ff=0;class ei extends Ii{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Cd(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&hT(),e.center&&(e.center=Ei(e.center,this.projection_)),e.extent&&(e.extent=Lr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const h in jn)delete n[h];this.setProperties(n,!0);const i=t3(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=e3(e),o=i.constraint,l=n3(e);this.constraints_={center:s,resolution:o,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),l=o/2*(s[3]-n[3]+n[1]-s[1]),h=o/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+l,i[1]-h])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=Ei(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=Ei(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const m=arguments[s];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(s===n){i&&ql(i,!0);return}let o=Date.now(),l=this.targetCenter_.slice(),h=this.targetResolution_,c=this.targetRotation_;const d=[];for(;s<n;++s){const m=arguments[s],p={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||AT,callback:i};if(m.center&&(p.sourceCenter=l,p.targetCenter=m.center.slice(),l=p.targetCenter),m.zoom!==void 0?(p.sourceResolution=h,p.targetResolution=this.getResolutionForZoom(m.zoom),h=p.targetResolution):m.resolution&&(p.sourceResolution=h,p.targetResolution=m.resolution,h=p.targetResolution),m.rotation!==void 0){p.sourceRotation=c;const y=Ps(m.rotation-c+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=c+y,c=p.targetRotation}i3(p)?p.complete=!0:o+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(Pn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Pn.ANIMATING]>0}getInteracting(){return this.hints_[Pn.INTERACTING]>0}cancelAnimations(){this.setHint(Pn.ANIMATING,-this.hints_[Pn.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&ql(s[0].callback,!1),!e)for(let o=0,l=s.length;o<l;++o){const h=s[o];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let o=!0;for(let l=0,h=s.length;l<h;++l){const c=s[l];if(c.complete)continue;const d=e-c.start;let m=c.duration>0?d/c.duration:1;m>=1?(c.complete=!0,m=1):o=!1;const p=c.easing(m);if(c.sourceCenter){const y=c.sourceCenter[0],E=c.sourceCenter[1],v=c.targetCenter[0],M=c.targetCenter[1];this.nextCenter_=c.targetCenter;const x=y+p*(v-y),R=E+p*(M-E);this.targetCenter_=[x,R]}if(c.sourceResolution&&c.targetResolution){const y=p===1?c.targetResolution:c.sourceResolution+p*(c.targetResolution-c.sourceResolution);if(c.anchor){const E=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(y,0,E,!0);this.targetCenter_=this.calculateCenterZoom(v,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const y=p===1?Ps(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+p*(c.targetRotation-c.sourceRotation);if(c.anchor){const E=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(E,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),n=!0,!c.complete)break}if(o){this.animations_[i]=null,this.setHint(Pn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=s[0].callback;l&&ql(l,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],wd(i,e-this.getRotation()),WS(i,n)),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),o=this.getResolution();if(s!==void 0&&o!==void 0){const l=n[0]-e*(n[0]-s[0])/o,h=n[1]-e*(n[1]-s[1])/o;i=[l,h]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Yf(e,this.getProjection())}getCenterInternal(){return this.get(jn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return gT(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();tt(n,"The view center is not defined");const i=this.getResolution();tt(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return tt(s!==void 0,"The view rotation is not defined"),Xf(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(jn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Lr(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Ke(e)/n[0],s=Jt(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(o){return n/Math.pow(e,o*s)}}getRotation(){return this.get(jn.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,o=Math.log(i/s)/n;return function(l){return Math.log(i/l)/n/o}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const o=this.padding_;if(o){const l=this.getViewportSizeMinusPadding_();s=df(s,this.getViewportSize_(),[l[0]/2+o[3],l[1]/2+o[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,s;if(this.resolutions_){const o=Id(this.resolutions_,e,1);n=o,i=this.resolutions_[o],o==this.resolutions_.length-1?s=2:s=i/this.resolutions_[o+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=pt(Math.floor(e),0,this.resolutions_.length-2),s=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(s,pt(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(tt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){tt(!Xu(e),"Cannot fit empty extent provided as `geometry`");const s=Lr(e,this.getProjection());i=Vp(s)}else if(e.getType()==="Circle"){const s=Lr(e.getExtent(),this.getProjection());i=Vp(s),i.rotate(this.getRotation(),bs(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),o=e.getFlatCoordinates(),l=e.getStride();let h=1/0,c=1/0,d=-1/0,m=-1/0;for(let p=0,y=o.length;p<y;p+=l){const E=o[p]*i-o[p+1]*s,v=o[p]*s+o[p+1]*i;h=Math.min(h,E),c=Math.min(c,v),d=Math.max(d,E),m=Math.max(m,v)}return[h,c,d,m]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let l;n.minResolution!==void 0?l=n.minResolution:n.maxZoom!==void 0?l=this.getResolutionForZoom(n.maxZoom):l=0;const h=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(h,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);c=isNaN(c)?l:Math.max(c,l),c=this.getConstrainedResolution(c,o?0:1);const d=this.getRotation(),m=Math.sin(d),p=Math.cos(d),y=bs(h);y[0]+=(s[1]-s[3])/2*c,y[1]+=(s[0]-s[2])/2*c;const E=y[0]*p-y[1]*m,v=y[1]*p+y[0]*m,M=this.getConstrainedCenter([E,v],c),x=n.callback?n.callback:Cu;n.duration!==void 0?this.animateInternal({resolution:c,center:M,duration:n.duration,easing:n.easing},x):(this.targetResolution_=c,this.targetCenter_=M,this.applyTargetState_(!1,!0),ql(x,!0))}centerOn(e,n,i){this.centerOnInternal(Ei(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(df(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let o;const l=this.padding_;if(l&&e){const h=this.getViewportSizeMinusPadding_(-i),c=df(e,s,[h[0]/2+l[3],h[1]/2+l[0]],n,i);o=[e[0]-c[0],e[1]-c[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Yf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Ei(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Ei(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Ei(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,l,o,i,this.calculateCenterShift(this.targetCenter_,l,s,o));this.get(jn.ROTATION)!==s&&this.set(jn.ROTATION,s),this.get(jn.RESOLUTION)!==l&&(this.set(jn.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(jn.CENTER)||!yu(this.get(jn.CENTER),h))&&this.set(jn.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,o=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,s,l),c=this.constraints_.center(this.targetCenter_,h,l,!1,this.calculateCenterShift(this.targetCenter_,h,o,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=c,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!yu(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:c,resolution:h,duration:e,easing:$s,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Pn.INTERACTING,1)}endInteraction(e,n,i){i=i&&Ei(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(Pn.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function ql(t,e){setTimeout(function(){t(e)},0)}function e3(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return zp(t.extent,t.constrainOnlyCenter,n)}const e=Cd(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,zp(n,!1,!1)}return RT}function t3(t){let e,n,i,l=t.minZoom!==void 0?t.minZoom:ff,h=t.maxZoom!==void 0?t.maxZoom:28;const c=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,m=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,p=t.showFullExtent!==void 0?t.showFullExtent:!1,y=Cd(t.projection,"EPSG:3857"),E=y.getExtent();let v=t.constrainOnlyCenter,M=t.extent;if(!d&&!M&&y.isGlobal()&&(v=!1,M=E),t.resolutions!==void 0){const x=t.resolutions;n=x[l],i=x[h]!==void 0?x[h]:x[x.length-1],t.constrainResolution?e=CT(x,m,!v&&M,p):e=Up(n,i,m,!v&&M,p)}else{const R=(E?Math.max(Ke(E),Jt(E)):360*Fs.degrees/y.getMetersPerUnit())/Ad/Math.pow(2,ff),S=R/Math.pow(2,28-ff);n=t.maxResolution,n!==void 0?l=0:n=R/Math.pow(c,l),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(c,h):i=R/Math.pow(c,h):i=S),h=l+Math.floor(Math.log(n/i)/Math.log(c)),i=n/Math.pow(c,h-l),t.constrainResolution?e=ST(c,n,i,m,!v&&M,p):e=Up(n,i,m,!v&&M,p)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:l,zoomFactor:c}}function n3(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?IT():n===!1?Gp:typeof n=="number"?TT(n):Gp}return Od}function i3(t){return!(t.sourceCenter&&t.targetCenter&&!yu(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function df(t,e,n,i,s){const o=Math.cos(-s);let l=Math.sin(-s),h=t[0]*o-t[1]*l,c=t[1]*o+t[0]*l;h+=(e[0]/2-n[0])*i,c+=(n[1]-e[1]/2)*i,l=-l;const d=h*o-c*l,m=c*o+h*l;return[d,m]}class Qu extends k_{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Ye.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Ye.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(ct(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ve(e,Ie.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof ei?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;if(n.layerStatesArray){if(s=n.layerStatesArray.find(l=>l.layer===this),!s)return!1}else s=this.getLayerState();const o=this.getExtent();return Dd(s,n.viewState)&&(!o||Ro(o,n.extent))}getAttributions(e){var o;if(!this.isVisible(e))return[];const n=(o=this.getSource())==null?void 0:o.getAttributions();if(!n)return[];const i=e instanceof ei?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Ye.MAP,e)}getMapInternal(){return this.get(Ye.MAP)}setMap(e){this.mapPrecomposeKey_&&(ct(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ct(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ve(e,ni.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ve(this,Ie.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);tt(!n.some(s=>s.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(Ye.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Dd(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function V_(t,e,n=0,i=t.length-1,s=r3){for(;i>n;){if(i-n>600){const c=i-n+1,d=e-n+1,m=Math.log(c),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(c-p)/c)*(d-c/2<0?-1:1),E=Math.max(n,Math.floor(e-d*p/c+y)),v=Math.min(i,Math.floor(e+(c-d)*p/c+y));V_(t,e,E,v,s)}const o=t[e];let l=n,h=i;for(La(t,n,e),s(t[i],o)>0&&La(t,n,i);l<h;){for(La(t,l,h),l++,h--;s(t[l],o)<0;)l++;for(;s(t[h],o)>0;)h--}s(t[n],o)===0?La(t,n,h):(h++,La(t,h,i)),h<=e&&(n=h+1),e<=h&&(i=h-1)}}function La(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function r3(t,e){return t<e?-1:t>e?1:0}class s3{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!Yl(e,n))return i;const s=this.toBBox,o=[];for(;n;){for(let l=0;l<n.children.length;l++){const h=n.children[l],c=n.leaf?s(h):h;Yl(e,c)&&(n.leaf?i.push(h):mf(e,c)?this._all(h,i):o.push(h))}n=o.pop()}return i}collides(e){let n=this.data;if(!Yl(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const o=n.children[s],l=n.leaf?this.toBBox(o):o;if(Yl(e,l)){if(n.leaf||mf(e,l))return!0;i.push(o)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ys([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),o=[],l=[];let h,c,d;for(;i||o.length;){if(i||(i=o.pop(),c=o[o.length-1],h=l.pop(),d=!0),i.leaf){const m=a3(e,i.children,n);if(m!==-1)return i.children.splice(m,1),o.push(i),this._condense(o),this}!d&&!i.leaf&&mf(i,s)?(o.push(i),l.push(h),h=0,c=i,i=i.children[0]):c?(h++,i=c.children[h],d=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const o=i-n+1;let l=this._maxEntries,h;if(o<=l)return h=ys(e.slice(n,i+1)),cs(h,this.toBBox),h;s||(s=Math.ceil(Math.log(o)/Math.log(l)),l=Math.ceil(o/Math.pow(l,s-1))),h=ys([]),h.leaf=!1,h.height=s;const c=Math.ceil(o/l),d=c*Math.ceil(Math.sqrt(l));Kp(e,n,i,d,this.compareMinX);for(let m=n;m<=i;m+=d){const p=Math.min(m+d-1,i);Kp(e,m,p,c,this.compareMinY);for(let y=m;y<=p;y+=c){const E=Math.min(y+c-1,p);h.children.push(this._build(e,y,E,s-1))}}return cs(h,this.toBBox),h}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let o=1/0,l=1/0,h;for(let c=0;c<n.children.length;c++){const d=n.children[c],m=gf(d),p=u3(e,d)-m;p<l?(l=p,o=m<o?m:o,h=d):p===l&&m<o&&(o=m,h=d)}n=h||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),o=[],l=this._chooseSubtree(s,this.data,n,o);for(l.children.push(e),ja(l,s);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(s,o,n)}_split(e,n){const i=e[n],s=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,s);const l=this._chooseSplitIndex(i,o,s),h=ys(i.children.splice(l,i.children.length-l));h.height=i.height,h.leaf=i.leaf,cs(i,this.toBBox),cs(h,this.toBBox),n?e[n-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,n){this.data=ys([e,n]),this.data.height=e.height+1,this.data.leaf=!1,cs(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,o=1/0,l=1/0;for(let h=n;h<=i-n;h++){const c=Ga(e,0,h,this.toBBox),d=Ga(e,h,i,this.toBBox),m=h3(c,d),p=gf(c)+gf(d);m<o?(o=m,s=h,l=p<l?p:l):m===o&&p<l&&(l=p,s=h)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:o3,o=e.leaf?this.compareMinY:l3,l=this._allDistMargin(e,n,i,s),h=this._allDistMargin(e,n,i,o);l<h&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const o=this.toBBox,l=Ga(e,0,n,o),h=Ga(e,i-n,i,o);let c=Hl(l)+Hl(h);for(let d=n;d<i-n;d++){const m=e.children[d];ja(l,e.leaf?o(m):m),c+=Hl(l)}for(let d=i-n-1;d>=n;d--){const m=e.children[d];ja(h,e.leaf?o(m):m),c+=Hl(h)}return c}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)ja(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():cs(e[n],this.toBBox)}}function a3(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function cs(t,e){Ga(t,0,t.children.length,e,t)}function Ga(t,e,n,i,s){s||(s=ys(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let o=e;o<n;o++){const l=t.children[o];ja(s,t.leaf?i(l):l)}return s}function ja(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function o3(t,e){return t.minX-e.minX}function l3(t,e){return t.minY-e.minY}function gf(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Hl(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u3(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function h3(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,o-i)}function mf(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Yl(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ys(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Kp(t,e,n,i,s){const o=[e,n];for(;o.length;){if(n=o.pop(),e=o.pop(),n-e<=i)continue;const l=e+Math.ceil((n-e)/i/2)*i;V_(t,l,e,n,s),o.push(e,l,l,n)}}const De={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var uo={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},Wt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Wt.max=Wt.whitepoint[2].D65;Wt.rgb=function(t,e){e=e||Wt.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],s=t[2]/e[2],o,l,h;return o=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,l=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,h=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),h=Math.min(Math.max(0,h),1),[o*255,l*255,h*255]};uo.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var o=n*.41239079926595+i*.35758433938387+s*.18048078840183,l=n*.21263900587151+i*.71516867876775+s*.072192315360733,h=n*.019330818715591+i*.11919477979462+s*.95053215224966;return e=e||Wt.whitepoint[2].E,[o*e[0],l*e[1],h*e[2]]};var Fd={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,o,l,h,c,d,m,p,y,E,v,M;if(o=t[0],l=t[1],h=t[2],o===0)return[0,0,0];var x=.0011070564598794539;return e=e||"D65",n=n||2,p=Wt.whitepoint[n][e][0],y=Wt.whitepoint[n][e][1],E=Wt.whitepoint[n][e][2],v=4*p/(p+15*y+3*E),M=9*y/(p+15*y+3*E),i=l/(13*o)+v||0,s=h/(13*o)+M||0,d=o>8?y*Math.pow((o+16)/116,3):y*o*x,c=d*9*i/(4*s)||0,m=d*(12-3*i-20*s)/(4*s)||0,[c,d,m]}};Wt.luv=function(t,e,n){var i,s,o,l,h,c,d,m,p,y,E,v,M,x=.008856451679035631,R=903.2962962962961;e=e||"D65",n=n||2,p=Wt.whitepoint[n][e][0],y=Wt.whitepoint[n][e][1],E=Wt.whitepoint[n][e][2],v=4*p/(p+15*y+3*E),M=9*y/(p+15*y+3*E),c=t[0],d=t[1],m=t[2],i=4*c/(c+15*d+3*m)||0,s=9*d/(c+15*d+3*m)||0;var S=d/y;return o=S<=x?R*S:116*Math.pow(S,1/3)-16,l=13*o*(i-v),h=13*o*(s-M),[o,l,h]};var K_={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],s,o,l;return l=i/360*2*Math.PI,s=n*Math.cos(l),o=n*Math.sin(l),[e,s,o]},xyz:function(t){return Fd.xyz(K_.luv(t))}};Fd.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),o=Math.atan2(i,n),l=o*360/2/Math.PI;return l<0&&(l+=360),[e,s,l]};Wt.lchuv=function(t){return Fd.lchuv(Wt.luv(t))};const qp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Hp={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function c3(t){var m,p;var e,n=[],i=1,s;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),qp[t])n=qp[t].slice(),s="rgb";else if(t==="transparent")i=0,s="rgb",n=[0,0,0];else if(t[0]==="#"){var o=t.slice(1),l=o.length,h=l<=4;i=1,h?(n=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],l===4&&(i=parseInt(o[3]+o[3],16)/255)):(n=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],l===8&&(i=parseInt(o[6]+o[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var c=e[1];s=c.replace(/a$/,"");var d=s==="cmyk"?4:s==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(y,E){if(y[y.length-1]==="%")return y=parseFloat(y)/100,E===3?y:s==="rgb"?y*255:s[0]==="h"||s[0]==="l"&&!E?y*100:s==="lab"?y*125:s==="lch"?E<2?y*150:y*360:s[0]==="o"&&!E?y:s==="oklab"?y*.4:s==="oklch"?E<2?y*.4:y*360:y;if(s[E]==="h"||E===2&&s[s.length-1]==="h"){if(Hp[y]!==void 0)return Hp[y];if(y.endsWith("deg"))return parseFloat(y);if(y.endsWith("turn"))return parseFloat(y)*360;if(y.endsWith("grad"))return parseFloat(y)*360/400;if(y.endsWith("rad"))return parseFloat(y)*180/Math.PI}return y==="none"?0:parseFloat(y)}),i=n.length>d?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(y){return parseFloat(y)}),s=((p=(m=t.match(/([a-z])/ig))==null?void 0:m.join(""))==null?void 0:p.toLowerCase())||"rgb");return{space:s,values:n,alpha:i}}var pf={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,s,o,l,h,c,d=0;if(n===0)return c=i*255,[c,c,c];for(o=i<.5?i*(1+n):i+n-i*n,s=2*i-o,h=[0,0,0];d<3;)l=e+1/3*-(d-1),l<0?l++:l>1&&l--,c=6*l<1?s+(o-s)*6*l:2*l<1?o:3*l<2?s+(o-s)*(2/3-l)*6:s,h[d++]=c*255;return h}};uo.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(e,n,i),o=Math.max(e,n,i),l=o-s,h,c,d;return o===s?h=0:e===o?h=(n-i)/l:n===o?h=2+(i-e)/l:i===o&&(h=4+(e-n)/l),h=Math.min(h*60,360),h<0&&(h+=360),d=(s+o)/2,o===s?c=0:d<=.5?c=l/(o+s):c=l/(2-o-s),[h,c*100,d*100]};function f3(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=c3(t);if(!n.space)return[];const i=n.space[0]==="h"?pf.min:uo.min,s=n.space[0]==="h"?pf.max:uo.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=pf.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const bd=[NaN,NaN,NaN,0];function d3(t){return typeof t=="string"?t:Ud(t)}const g3=1024,Oa={};let _f=0;function m3(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function Yp(t){const e=Wt.lchuv(uo.xyz(t));return e[3]=t[3],e}function p3(t){const e=Wt.rgb(K_.xyz(t));return e[3]=t[3],e}function zd(t){if(t==="none")return bd;if(Oa.hasOwnProperty(t))return Oa[t];if(_f>=g3){let n=0;for(const i in Oa)n++&3||(delete Oa[i],--_f)}const e=f3(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return q_(e),Oa[t]=e,++_f,e}function Us(t){return Array.isArray(t)?t:zd(t)}function q_(t){return t[0]=pt(t[0]+.5|0,0,255),t[1]=pt(t[1]+.5|0,0,255),t[2]=pt(t[2]+.5|0,0,255),t[3]=pt(t[3],0,1),t}function Ud(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const s=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+s+")"}const cr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_3=cr.includes("firefox"),y3=cr.includes("safari")&&!cr.includes("chrom");y3&&(cr.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(cr));const v3=cr.includes("webkit")&&!cr.includes("edge"),H_=cr.includes("macintosh"),Y_=typeof devicePixelRatio<"u"?devicePixelRatio:1,Z_=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Q_=typeof Image<"u"&&Image.prototype.decode,J_=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function en(t,e,n,i){let s;return n&&n.length?s=n.shift():Z_?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let yf;function Tu(){return yf||(yf=en(1,1)),yf}function Gd(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Zp(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function E3(t){for(;t.lastChild;)t.lastChild.remove()}function w3(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],o=e[i];if(!s&&!o)break;if(s!==o){if(!s){t.appendChild(o);continue}if(!o){t.removeChild(s),--i;continue}t.insertBefore(o,s)}}}function M3(t,e,n){const i=t;let s=!0,o=!1,l=!1;const h=[Su(i,Ie.LOAD,function(){l=!0,o||e()})];return i.src&&Q_?(o=!0,i.decode().then(function(){s&&e()}).catch(function(c){s&&(l?e():n())})):h.push(Su(i,Ie.ERROR,n)),function(){s=!1,h.forEach(ct)}}function x3(t,e){return new Promise((n,i)=>{function s(){l(),n(t)}function o(){l(),i(new Error("Image load error"))}function l(){t.removeEventListener("load",s),t.removeEventListener("error",o)}t.addEventListener("load",s),t.addEventListener("error",o)})}function R3(t,e){return e&&(t.src=e),t.src&&Q_?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):x3(t)}class C3{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const s=vf(e,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(e,n,i){const s=vf(e,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(e,n,i,s,o){const l=vf(e,n,i),h=l in this.cache_;this.cache_[l]=s,o&&(s.getImageState()===De.IDLE&&s.load(),s.getImageState()===De.LOADING?s.ready().then(()=>{this.patternCache_[l]=Tu().createPattern(s.getImage(1),"repeat")}):this.patternCache_[l]=Tu().createPattern(s.getImage(1),"repeat")),h||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function vf(t,e,n){const i=n?Us(n):"null";return e+":"+t+":"+i}const On=new C3;let Na=null;class ey extends Zu{constructor(e,n,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=s===void 0?De.IDLE:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===De.LOADED){Na||(Na=en(1,1,void 0,{willReadFrequently:!0})),Na.drawImage(this.image_,0,0);try{Na.getImageData(0,0,1,1),this.tainted_=!1}catch{Na=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ie.CHANGE)}handleImageError_(){this.imageState_=De.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=De.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=en(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===De.IDLE){this.image_||this.initializeImage_(),this.imageState_=De.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&R3(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==De.LOADED)return;const n=this.image_,i=en(Math.ceil(n.width*e),Math.ceil(n.height*e)),s=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=d3(this.color_),i.fillRect(0,0,s.width/e,s.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=s}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===De.LOADED||this.imageState_===De.ERROR)e();else{const n=()=>{(this.imageState_===De.LOADED||this.imageState_===De.ERROR)&&(this.removeEventListener(Ie.CHANGE,n),e())};this.addEventListener(Ie.CHANGE,n)}})),this.ready_}}function jd(t,e,n,i,s,o){let l=e===void 0?void 0:On.get(e,n,s);return l||(l=new ey(t,t&&"src"in t?t.src||void 0:e,n,i,s),On.set(e,n,s,l,o)),o&&l&&!On.getPattern(e,n,s)&&On.set(e,n,s,l,o),l}function Qp(t){return t[0]>0&&t[1]>0}function S3(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function dn(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Ju{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=dn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Ju({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return je()}getImage(e){return je()}getHitDetectionImage(){return je()}getPixelRatio(e){return 1}getImageState(){return je()}getImageSize(){return je()}getOrigin(){return je()}getSize(){return je()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=dn(e)}listenImageChange(e){je()}load(){je()}unlistenImageChange(e){je()}ready(){return Promise.resolve()}}function Jp(t){return t?Array.isArray(t)?Ud(t):typeof t=="object"&&"src"in t?T3(t):t:null}function T3(t){if(!t.offset||!t.size)return On.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=On.getPattern(e,void 0,t.color);if(n)return n;const i=On.get(t.src,"anonymous",null);if(i.getImageState()!==De.LOADED)return null;const s=en(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),jd(s.canvas,e,void 0,De.LOADED,t.color,!0),On.getPattern(e,void 0,t.color)}const Zl="ol-hidden",So="ol-unselectable",Bd="ol-control",e1="ol-collapsed",t1="#000",n1="round",i1="round",I3=10,A3="#000",P3=1,L3=new Ii;class eh extends Ju{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?De.LOADING:De.LOADED,this.imageState_===De.LOADING&&this.ready().then(()=>this.imageState_=De.LOADED),this.render()}clone(){const e=this.getScale(),n=new eh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var o,l;const n=(o=this.fill_)==null?void 0:o.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let s=(l=On.get(i,null,null))==null?void 0:l.getImage(1);if(!s){const h=this.renderOptions_,c=Math.ceil(h.size*e),d=en(c,c);this.draw_(h,d,e),s=d.canvas,On.set(i,null,null,new ey(s,void 0,null,De.LOADED,null))}return s}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius,o=this.radius2_===void 0?s:this.radius2_;if(s<o){const b=s;s=o,o=b}const l=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/l,c=o*Math.sin(h),d=Math.sqrt(o*o-c*c),m=s-d,p=Math.sqrt(c*c+m*m),y=p/c;if(e==="miter"&&y<=i)return y*n;const E=n/2/y,v=n/2*(m/p),x=Math.sqrt((s+E)*(s+E)+v*v)-s;if(this.radius2_===void 0||e==="bevel")return x*2;const R=s*Math.sin(h),S=Math.sqrt(s*s-R*R),L=o-S,P=Math.sqrt(R*R+L*L)/R;if(P<=i){const b=P*n/2-o-s;return 2*Math.max(x,b)}return x*2}createRenderOptions(){let e=n1,n=i1,i=0,s=null,o=0,l,h=0;this.stroke_&&(l=Jp(this.stroke_.getColor()??A3),h=this.stroke_.getWidth()??P3,s=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??i1,e=this.stroke_.getLineCap()??n1,i=this.stroke_.getMiterLimit()??I3);const c=this.calculateLineJoinSize_(n,h,i),d=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*d+c);return{strokeStyle:l,strokeWidth:h,size:m,lineCap:e,lineDash:s,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=t1),n.fillStyle=Jp(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=Us(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=en(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,l=2*Math.PI/n;for(let h=0;h<n;h++){const c=o+h*l,d=h%2===0?i:s;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=t1,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class th extends eh{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new th({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class To{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new To({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=jd(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===De.IDLE&&n.load(),n.getImageState()===De.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?$t(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Us(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class nh{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new nh({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Nr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=r1,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Nr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=r1,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function O3(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(tt(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let Ef=null;function ty(t,e){if(!Ef){const n=new To({color:"rgba(255,255,255,0.4)"}),i=new nh({color:"#3399CC",width:1.25});Ef=[new Nr({image:new th({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Ef}function r1(t){return t.getGeometry()}function s1(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class $d extends Ju{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let h=e.src;tt(!(h!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&l&&(h=l.src||$t(l)),tt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),tt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let c;if(e.src!==void 0?c=De.IDLE:l!==void 0&&("complete"in l?l.complete?c=l.src?De.LOADED:De.IDLE:c=De.LOADING:c=De.LOADED),this.color_=e.color!==void 0?Us(e.color):null,this.iconImage_=jd(l,h,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let d,m;if(e.size)[d,m]=e.size;else{const p=this.getImage(1);if(p.width&&p.height)d=p.width,m=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=e;const y=()=>{if(this.unlistenImageChange(y),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(s1(E[0],E[1],e.width,e.height))};this.listenImageChange(y);return}}d!==void 0&&this.setScale(s1(d,m,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new $d({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==De.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==De.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ie.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ie.CHANGE,e)}ready(){return this.iconImage_.ready()}}const N3="#333";class Wd{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=dn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new To({color:N3}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Wd({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=dn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let Ur=0;const Zt=1<<Ur++,ke=1<<Ur++,hn=1<<Ur++,Bn=1<<Ur++,br=1<<Ur++,Ba=1<<Ur++,Ql=Math.pow(2,Ur)-1,Xd={[Zt]:"boolean",[ke]:"number",[hn]:"string",[Bn]:"color",[br]:"number[]",[Ba]:"size"},k3=Object.keys(Xd).map(Number).sort(Td);function D3(t){return t in Xd}function $a(t){const e=[];for(const n of k3)Wa(t,n)&&e.push(Xd[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Wa(t,e){return(t&e)===e}function Qi(t,e){return t===e}class Ct{constructor(e,n){if(!D3(e))throw new Error(`literal expressions must have a specific type, got ${$a(e)}`);this.type=e,this.value=n}}class F3{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function ny(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function Dt(t,e,n){switch(typeof t){case"boolean":{if(Qi(e,hn))return new Ct(hn,t?"true":"false");if(!Wa(e,Zt))throw new Error(`got a boolean, but expected ${$a(e)}`);return new Ct(Zt,t)}case"number":{if(Qi(e,Ba))return new Ct(Ba,dn(t));if(Qi(e,Zt))return new Ct(Zt,!!t);if(Qi(e,hn))return new Ct(hn,t.toString());if(!Wa(e,ke))throw new Error(`got a number, but expected ${$a(e)}`);return new Ct(ke,t)}case"string":{if(Qi(e,Bn))return new Ct(Bn,zd(t));if(Qi(e,Zt))return new Ct(Zt,!!t);if(!Wa(e,hn))throw new Error(`got a string, but expected ${$a(e)}`);return new Ct(hn,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return K3(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Qi(e,Ba)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Ct(Ba,t)}if(Qi(e,Bn)){if(t.length===3)return new Ct(Bn,[...t,1]);if(t.length===4)return new Ct(Bn,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!Wa(e,br))throw new Error(`got an array of numbers, but expected ${$a(e)}`);return new Ct(br,t)}const B={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},b3={[B.Get]:Re(Te(1,1/0),a1),[B.Var]:Re(Te(1,1),z3),[B.Has]:Re(Te(1,1/0),a1),[B.Id]:Re(U3,fs),[B.Concat]:Re(Te(2,1/0),Be(hn)),[B.GeometryType]:Re(G3,fs),[B.LineMetric]:Re(fs),[B.Resolution]:Re(fs),[B.Zoom]:Re(fs),[B.Time]:Re(fs),[B.Any]:Re(Te(2,1/0),Be(Zt)),[B.All]:Re(Te(2,1/0),Be(Zt)),[B.Not]:Re(Te(1,1),Be(Zt)),[B.Equal]:Re(Te(2,2),Be(Ql)),[B.NotEqual]:Re(Te(2,2),Be(Ql)),[B.GreaterThan]:Re(Te(2,2),Be(ke)),[B.GreaterThanOrEqualTo]:Re(Te(2,2),Be(ke)),[B.LessThan]:Re(Te(2,2),Be(ke)),[B.LessThanOrEqualTo]:Re(Te(2,2),Be(ke)),[B.Multiply]:Re(Te(2,1/0),o1),[B.Coalesce]:Re(Te(2,1/0),o1),[B.Divide]:Re(Te(2,2),Be(ke)),[B.Add]:Re(Te(2,1/0),Be(ke)),[B.Subtract]:Re(Te(2,2),Be(ke)),[B.Clamp]:Re(Te(3,3),Be(ke)),[B.Mod]:Re(Te(2,2),Be(ke)),[B.Pow]:Re(Te(2,2),Be(ke)),[B.Abs]:Re(Te(1,1),Be(ke)),[B.Floor]:Re(Te(1,1),Be(ke)),[B.Ceil]:Re(Te(1,1),Be(ke)),[B.Round]:Re(Te(1,1),Be(ke)),[B.Sin]:Re(Te(1,1),Be(ke)),[B.Cos]:Re(Te(1,1),Be(ke)),[B.Atan]:Re(Te(1,2),Be(ke)),[B.Sqrt]:Re(Te(1,1),Be(ke)),[B.Match]:Re(Te(4,1/0),l1,B3),[B.Between]:Re(Te(3,3),Be(ke)),[B.Interpolate]:Re(Te(6,1/0),l1,$3),[B.Case]:Re(Te(3,1/0),j3,W3),[B.In]:Re(Te(2,2),X3),[B.Number]:Re(Te(1,1/0),Be(Ql)),[B.String]:Re(Te(1,1/0),Be(Ql)),[B.Array]:Re(Te(1,1/0),Be(ke)),[B.Color]:Re(Te(1,4),Be(ke)),[B.Band]:Re(Te(1,3),Be(ke)),[B.Palette]:Re(Te(2,2),V3),[B.ToString]:Re(Te(1,1),Be(Zt|ke|hn|Bn))};function a1(t,e,n){const i=t.length-1,s=new Array(i);for(let o=0;o<i;++o){const l=t[o+1];switch(typeof l){case"number":{s[o]=new Ct(ke,l);break}case"string":{s[o]=new Ct(hn,l);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${l}`)}o===0&&n.properties.add(String(l))}return s}function z3(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Ct(hn,i)]}function U3(t,e,n){n.featureId=!0}function G3(t,e,n){n.geometryType=!0}function fs(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Te(t,e){return function(n,i,s){const o=n[0],l=n.length-1;if(t===e){if(l!==t){const h=t===1?"":"s";throw new Error(`expected ${t} argument${h} for ${o}, got ${l}`)}}else if(l<t||l>e){const h=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${h} arguments for ${o}, got ${l}`)}}}function o1(t,e,n){const i=t.length-1,s=new Array(i);for(let o=0;o<i;++o){const l=Dt(t[o+1],e,n);s[o]=l}return s}function Be(t){return function(e,n,i){const s=e.length-1,o=new Array(s);for(let l=0;l<s;++l){const h=Dt(e[l+1],t,i);o[l]=h}return o}}function j3(t,e,n){const i=t[0],s=t.length-1;if(s%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${s} instead`)}function l1(t,e,n){const i=t[0],s=t.length-1;if(s%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${s} instead`)}function B3(t,e,n){const i=t.length-1,s=hn|ke|Zt,o=Dt(t[1],s,n),l=Dt(t[t.length-1],e,n),h=new Array(i-2);for(let c=0;c<i-2;c+=2){try{const d=Dt(t[c+2],o.type,n);h[c]=d}catch(d){throw new Error(`failed to parse argument ${c+1} of match expression: ${d.message}`)}try{const d=Dt(t[c+3],l.type,n);h[c+1]=d}catch(d){throw new Error(`failed to parse argument ${c+2} of match expression: ${d.message}`)}}return[o,...h,l]}function $3(t,e,n){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":const c=i[1];if(typeof c!="number"||c<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(c)} instead`);s=c;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new Ct(ke,s);let l;try{l=Dt(t[2],ke,n)}catch(c){throw new Error(`failed to parse argument 1 in interpolate expression: ${c.message}`)}const h=new Array(t.length-3);for(let c=0;c<h.length;c+=2){try{const d=Dt(t[c+3],ke,n);h[c]=d}catch(d){throw new Error(`failed to parse argument ${c+2} for interpolate expression: ${d.message}`)}try{const d=Dt(t[c+4],e,n);h[c+1]=d}catch(d){throw new Error(`failed to parse argument ${c+3} for interpolate expression: ${d.message}`)}}return[o,l,...h]}function W3(t,e,n){const i=Dt(t[t.length-1],e,n),s=new Array(t.length-1);for(let o=0;o<s.length-1;o+=2){try{const l=Dt(t[o+1],Zt,n);s[o]=l}catch(l){throw new Error(`failed to parse argument ${o} of case expression: ${l.message}`)}try{const l=Dt(t[o+2],i.type,n);s[o+1]=l}catch(l){throw new Error(`failed to parse argument ${o+1} of case expression: ${l.message}`)}}return s[s.length-1]=i,s}function X3(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],s=hn}else s=ke;const o=new Array(i.length);for(let h=0;h<o.length;h++)try{const c=Dt(i[h],s,n);o[h]=c}catch(c){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${c.message}`)}return[Dt(t[1],s,n),...o]}function V3(t,e,n){let i;try{i=Dt(t[1],ke,n)}catch(l){throw new Error(`failed to parse first argument in palette expression: ${l.message}`)}const s=t[2];if(!Array.isArray(s))throw new Error("the second argument of palette must be an array");const o=new Array(s.length);for(let l=0;l<o.length;l++){let h;try{h=Dt(s[l],Bn,n)}catch(c){throw new Error(`failed to parse color at index ${l} in palette expression: ${c.message}`)}if(!(h instanceof Ct))throw new Error(`the palette color at index ${l} must be a literal value`);o[l]=h}return[i,...o]}function Re(...t){return function(e,n,i){const s=e[0];let o;for(let l=0;l<t.length;l++){const h=t[l](e,n,i);if(l==t.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new F3(n,s,...o)}}function K3(t,e,n){const i=t[0],s=b3[i];if(!s)throw new Error(`unknown operator: ${i}`);return s(t,e,n)}function iy(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return iy(t.getGeometries()[0]);default:return""}}function ry(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ai(t,e,n){const i=Dt(t,e,n);return Xn(i)}function Xn(t,e){if(t instanceof Ct){if(t.type===Bn&&typeof t.value=="string"){const i=zd(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case B.Number:case B.String:case B.Coalesce:return q3(t);case B.Get:case B.Var:case B.Has:return H3(t);case B.Id:return i=>i.featureId;case B.GeometryType:return i=>i.geometryType;case B.Concat:{const i=t.args.map(s=>Xn(s));return s=>"".concat(...i.map(o=>o(s).toString()))}case B.Resolution:return i=>i.resolution;case B.Any:case B.All:case B.Between:case B.In:case B.Not:return Z3(t);case B.Equal:case B.NotEqual:case B.LessThan:case B.LessThanOrEqualTo:case B.GreaterThan:case B.GreaterThanOrEqualTo:return Y3(t);case B.Multiply:case B.Divide:case B.Add:case B.Subtract:case B.Clamp:case B.Mod:case B.Pow:case B.Abs:case B.Floor:case B.Ceil:case B.Round:case B.Sin:case B.Cos:case B.Atan:case B.Sqrt:return Q3(t);case B.Case:return J3(t);case B.Match:return eI(t);case B.Interpolate:return tI(t);case B.ToString:return nI(t);default:throw new Error(`Unsupported operator ${n}`)}}function q3(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Xn(t.args[o]);switch(n){case B.Coalesce:return o=>{for(let l=0;l<i;++l){const h=s[l](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case B.Number:case B.String:return o=>{for(let l=0;l<i;++l){const h=s[l](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function H3(t,e){const i=t.args[0].value;switch(t.operator){case B.Get:return s=>{const o=t.args;let l=s.properties[i];for(let h=1,c=o.length;h<c;++h){const m=o[h].value;l=l[m]}return l};case B.Var:return s=>s.variables[i];case B.Has:return s=>{const o=t.args;if(!(i in s.properties))return!1;let l=s.properties[i];for(let h=1,c=o.length;h<c;++h){const m=o[h].value;if(!l||!Object.hasOwn(l,m))return!1;l=l[m]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function Y3(t,e){const n=t.operator,i=Xn(t.args[0]),s=Xn(t.args[1]);switch(n){case B.Equal:return o=>i(o)===s(o);case B.NotEqual:return o=>i(o)!==s(o);case B.LessThan:return o=>i(o)<s(o);case B.LessThanOrEqualTo:return o=>i(o)<=s(o);case B.GreaterThan:return o=>i(o)>s(o);case B.GreaterThanOrEqualTo:return o=>i(o)>=s(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Z3(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Xn(t.args[o]);switch(n){case B.Any:return o=>{for(let l=0;l<i;++l)if(s[l](o))return!0;return!1};case B.All:return o=>{for(let l=0;l<i;++l)if(!s[l](o))return!1;return!0};case B.Between:return o=>{const l=s[0](o),h=s[1](o),c=s[2](o);return l>=h&&l<=c};case B.In:return o=>{const l=s[0](o);for(let h=1;h<i;++h)if(l===s[h](o))return!0;return!1};case B.Not:return o=>!s[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function Q3(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Xn(t.args[o]);switch(n){case B.Multiply:return o=>{let l=1;for(let h=0;h<i;++h)l*=s[h](o);return l};case B.Divide:return o=>s[0](o)/s[1](o);case B.Add:return o=>{let l=0;for(let h=0;h<i;++h)l+=s[h](o);return l};case B.Subtract:return o=>s[0](o)-s[1](o);case B.Clamp:return o=>{const l=s[0](o),h=s[1](o);if(l<h)return h;const c=s[2](o);return l>c?c:l};case B.Mod:return o=>s[0](o)%s[1](o);case B.Pow:return o=>Math.pow(s[0](o),s[1](o));case B.Abs:return o=>Math.abs(s[0](o));case B.Floor:return o=>Math.floor(s[0](o));case B.Ceil:return o=>Math.ceil(s[0](o));case B.Round:return o=>Math.round(s[0](o));case B.Sin:return o=>Math.sin(s[0](o));case B.Cos:return o=>Math.cos(s[0](o));case B.Atan:return i===2?o=>Math.atan2(s[0](o),s[1](o)):o=>Math.atan(s[0](o));case B.Sqrt:return o=>Math.sqrt(s[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function J3(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Xn(t.args[s]);return s=>{for(let o=0;o<n-1;o+=2)if(i[o](s))return i[o+1](s);return i[n-1](s)}}function eI(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Xn(t.args[s]);return s=>{const o=i[0](s);for(let l=1;l<n;l+=2)if(o===i[l](s))return i[l+1](s);return i[n-1](s)}}function tI(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Xn(t.args[s]);return s=>{const o=i[0](s),l=i[1](s);let h,c;for(let d=2;d<n;d+=2){const m=i[d](s);let p=i[d+1](s);const y=Array.isArray(p);if(y&&(p=m3(p)),m>=l)return d===2?p:y?iI(o,l,h,c,m,p):Xa(o,l,h,c,m,p);h=m,c=p}return c}}function nI(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Xn(t.args[o]);switch(n){case B.ToString:return o=>{const l=s[0](o);return t.args[0].type===Bn?Ud(l):l.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Xa(t,e,n,i,s,o){const l=s-n;if(l===0)return i;const h=e-n,c=t===1?h/l:(Math.pow(t,h)-1)/(Math.pow(t,l)-1);return i+c*(o-i)}function iI(t,e,n,i,s,o){if(s-n===0)return i;const h=Yp(i),c=Yp(o);let d=c[2]-h[2];d>180?d-=360:d<-180&&(d+=360);const m=[Xa(t,e,n,h[0],s,c[0]),Xa(t,e,n,h[1],s,c[1]),h[2]+Xa(t,e,n,0,s,d),Xa(t,e,n,i[3],s,o[3])];return q_(p3(m))}function rI(t){return!0}function sI(t){const e=ny(),n=aI(t,e),i=ry();return function(s,o){if(i.properties=s.getPropertiesInternal(),i.resolution=o,e.featureId){const l=s.getId();l!==void 0?i.featureId=l:i.featureId=null}return e.geometryType&&(i.geometryType=iy(s.getGeometry())),n(i)}}function u1(t){const e=ny(),n=t.length,i=new Array(n);for(let l=0;l<n;++l)i[l]=Zf(t[l],e);const s=ry(),o=new Array(n);return function(l,h){if(s.properties=l.getPropertiesInternal(),s.resolution=h,e.featureId){const d=l.getId();d!==void 0?s.featureId=d:s.featureId=null}let c=0;for(let d=0;d<n;++d){const m=i[d](s);m&&(o[c]=m,c+=1)}return o.length=c,o}}function aI(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const o=t[s],l="filter"in o?Ai(o.filter,Zt,e):rI;let h;if(Array.isArray(o.style)){const c=o.style.length;h=new Array(c);for(let d=0;d<c;++d)h[d]=Zf(o.style[d],e)}else h=[Zf(o.style,e)];i[s]={filter:l,styles:h}}return function(s){const o=[];let l=!1;for(let h=0;h<n;++h){const c=i[h].filter;if(c(s)&&!(t[h].else&&l)){l=!0;for(const d of i[h].styles){const m=d(s);m&&o.push(m)}}}return o}}function Zf(t,e){const n=ho(t,"",e),i=co(t,"",e),s=oI(t,e),o=lI(t,e),l=fn(t,"z-index",e);if(!n&&!i&&!s&&!o&&!y_(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const h=new Nr;return function(c){let d=!0;if(n){const m=n(c);m&&(d=!1),h.setFill(m)}if(i){const m=i(c);m&&(d=!1),h.setStroke(m)}if(s){const m=s(c);m&&(d=!1),h.setText(m)}if(o){const m=o(c);m&&(d=!1),h.setImage(m)}return l&&h.setZIndex(l(c)),d?null:h}}function ho(t,e,n){let i;if(e+"fill-pattern-src"in t)i=fI(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return o=>null;i=Vd(t,e+"fill-color",n)}if(!i)return null;const s=new To;return function(o){const l=i(o);return l===bd?null:(s.setColor(l),s)}}function co(t,e,n){const i=fn(t,e+"stroke-width",n),s=Vd(t,e+"stroke-color",n);if(!i&&!s)return null;const o=wi(t,e+"stroke-line-cap",n),l=wi(t,e+"stroke-line-join",n),h=sy(t,e+"stroke-line-dash",n),c=fn(t,e+"stroke-line-dash-offset",n),d=fn(t,e+"stroke-miter-limit",n),m=new nh;return function(p){if(s){const y=s(p);if(y===bd)return null;m.setColor(y)}if(i&&m.setWidth(i(p)),o){const y=o(p);if(y!=="butt"&&y!=="round"&&y!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(y)}if(l){const y=l(p);if(y!=="bevel"&&y!=="round"&&y!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(y)}return h&&m.setLineDash(h(p)),c&&m.setLineDashOffset(c(p)),d&&m.setMiterLimit(d(p)),m}}function oI(t,e){const n="text-",i=wi(t,n+"value",e);if(!i)return null;const s=ho(t,n,e),o=ho(t,n+"background-",e),l=co(t,n,e),h=co(t,n+"background-",e),c=wi(t,n+"font",e),d=fn(t,n+"max-angle",e),m=fn(t,n+"offset-x",e),p=fn(t,n+"offset-y",e),y=Os(t,n+"overflow",e),E=wi(t,n+"placement",e),v=fn(t,n+"repeat",e),M=ih(t,n+"scale",e),x=Os(t,n+"rotate-with-view",e),R=fn(t,n+"rotation",e),S=wi(t,n+"align",e),L=wi(t,n+"justify",e),A=wi(t,n+"baseline",e),P=Os(t,n+"keep-upright",e),b=sy(t,n+"padding",e),V=rh(t,n+"declutter-mode"),D=new Wd({declutterMode:V});return function(j){if(D.setText(i(j)),s&&D.setFill(s(j)),o&&D.setBackgroundFill(o(j)),l&&D.setStroke(l(j)),h&&D.setBackgroundStroke(h(j)),c&&D.setFont(c(j)),d&&D.setMaxAngle(d(j)),m&&D.setOffsetX(m(j)),p&&D.setOffsetY(p(j)),y&&D.setOverflow(y(j)),E){const G=E(j);if(G!=="point"&&G!=="line")throw new Error("Expected point or line for text-placement");D.setPlacement(G)}if(v&&D.setRepeat(v(j)),M&&D.setScale(M(j)),x&&D.setRotateWithView(x(j)),R&&D.setRotation(R(j)),S){const G=S(j);if(G!=="left"&&G!=="center"&&G!=="right"&&G!=="end"&&G!=="start")throw new Error("Expected left, right, center, start, or end for text-align");D.setTextAlign(G)}if(L){const G=L(j);if(G!=="left"&&G!=="right"&&G!=="center")throw new Error("Expected left, right, or center for text-justify");D.setJustify(G)}if(A){const G=A(j);if(G!=="bottom"&&G!=="top"&&G!=="middle"&&G!=="alphabetic"&&G!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");D.setTextBaseline(G)}return b&&D.setPadding(b(j)),P&&D.setKeepUpright(P(j)),D}}function lI(t,e){return"icon-src"in t?uI(t,e):"shape-points"in t?hI(t,e):"circle-radius"in t?cI(t,e):null}function uI(t,e){const n="icon-",i=n+"src",s=ay(t[i],i),o=Iu(t,n+"anchor",e),l=ih(t,n+"scale",e),h=fn(t,n+"opacity",e),c=Iu(t,n+"displacement",e),d=fn(t,n+"rotation",e),m=Os(t,n+"rotate-with-view",e),p=c1(t,n+"anchor-origin"),y=f1(t,n+"anchor-x-units"),E=f1(t,n+"anchor-y-units"),v=pI(t,n+"color"),M=gI(t,n+"cross-origin"),x=mI(t,n+"offset"),R=c1(t,n+"offset-origin"),S=Au(t,n+"width"),L=Au(t,n+"height"),A=dI(t,n+"size"),P=rh(t,n+"declutter-mode"),b=new $d({src:s,anchorOrigin:p,anchorXUnits:y,anchorYUnits:E,color:v,crossOrigin:M,offset:x,offsetOrigin:R,height:L,width:S,size:A,declutterMode:P});return function(V){return h&&b.setOpacity(h(V)),c&&b.setDisplacement(c(V)),d&&b.setRotation(d(V)),m&&b.setRotateWithView(m(V)),l&&b.setScale(l(V)),o&&b.setAnchor(o(V)),b}}function hI(t,e){const n="shape-",i=n+"points",s=n+"radius",o=Qf(t[i],i),l=Qf(t[s],s),h=ho(t,n,e),c=co(t,n,e),d=ih(t,n+"scale",e),m=Iu(t,n+"displacement",e),p=fn(t,n+"rotation",e),y=Os(t,n+"rotate-with-view",e),E=Au(t,n+"radius2"),v=Au(t,n+"angle"),M=rh(t,n+"declutter-mode"),x=new eh({points:o,radius:l,radius2:E,angle:v,declutterMode:M});return function(R){return h&&x.setFill(h(R)),c&&x.setStroke(c(R)),m&&x.setDisplacement(m(R)),p&&x.setRotation(p(R)),y&&x.setRotateWithView(y(R)),d&&x.setScale(d(R)),x}}function cI(t,e){const n="circle-",i=ho(t,n,e),s=co(t,n,e),o=fn(t,n+"radius",e),l=ih(t,n+"scale",e),h=Iu(t,n+"displacement",e),c=fn(t,n+"rotation",e),d=Os(t,n+"rotate-with-view",e),m=rh(t,n+"declutter-mode"),p=new th({radius:5,declutterMode:m});return function(y){return o&&p.setRadius(o(y)),i&&p.setFill(i(y)),s&&p.setStroke(s(y)),h&&p.setDisplacement(h(y)),c&&p.setRotation(c(y)),d&&p.setRotateWithView(d(y)),l&&p.setScale(l(y)),p}}function fn(t,e,n){if(!(e in t))return;const i=Ai(t[e],ke,n);return function(s){return Qf(i(s),e)}}function wi(t,e,n){if(!(e in t))return null;const i=Ai(t[e],hn,n);return function(s){return ay(i(s),e)}}function fI(t,e,n){const i=wi(t,e+"pattern-src",n),s=h1(t,e+"pattern-offset",n),o=h1(t,e+"pattern-size",n),l=Vd(t,e+"color",n);return function(h){return{src:i(h),offset:s&&s(h),size:o&&o(h),color:l&&l(h)}}}function Os(t,e,n){if(!(e in t))return null;const i=Ai(t[e],Zt,n);return function(s){const o=i(s);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function Vd(t,e,n){if(!(e in t))return null;const i=Ai(t[e],Bn,n);return function(s){return oy(i(s),e)}}function sy(t,e,n){if(!(e in t))return null;const i=Ai(t[e],br,n);return function(s){return Io(i(s),e)}}function Iu(t,e,n){if(!(e in t))return null;const i=Ai(t[e],br,n);return function(s){const o=Io(i(s),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function h1(t,e,n){if(!(e in t))return null;const i=Ai(t[e],br,n);return function(s){return ly(i(s),e)}}function ih(t,e,n){if(!(e in t))return null;const i=Ai(t[e],br|ke,n);return function(s){return _I(i(s),e)}}function Au(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function dI(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return dn(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function gI(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function c1(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function f1(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function mI(t,e){const n=t[e];if(n!==void 0)return Io(n,e)}function rh(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function pI(t,e){const n=t[e];if(n!==void 0)return oy(n,e)}function Io(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function ay(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Qf(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function oy(t,e){if(typeof t=="string")return t;const n=Io(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function ly(t,e){const n=Io(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function _I(t,e){return typeof t=="number"?t:ly(t,e)}const d1={RENDER_ORDER:"renderOrder"};class yI extends Qu{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(d1.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new s3(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(d1.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ty:e;const n=vI(e);this.styleFunction_=e===null?void 0:O3(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function vI(t){if(t===void 0)return ty;if(!t)return null;if(typeof t=="function"||t instanceof Nr)return t;if(!Array.isArray(t))return u1([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Nr){const s=new Array(e);for(let o=0;o<e;++o){const l=t[o];if(!(l instanceof Nr))throw new Error("Expected a list of style instances");s[o]=l}return s}if("style"in n){const s=new Array(e);for(let o=0;o<e;++o){const l=t[o];if(!("style"in l))throw new Error("Expected a list of rules with a style property");s[o]=l}return sI(s)}return u1(t)}class EI extends qu{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){je()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;ao(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),F_(s,i)}forEachFeatureAtCoordinate(e,n,i,s,o,l,h,c){let d;const m=n.viewState;function p(A,P,b,V){return o.call(l,P,A?b:null,V)}const y=m.projection,E=VS(e.slice(),y),v=[[0,0]];if(y.canWrapX()&&s){const A=y.getExtent(),P=Ke(A);v.push([-P,0],[P,0])}const M=n.layerStatesArray,x=M.length,R=[],S=[];for(let A=0;A<v.length;A++)for(let P=x-1;P>=0;--P){const b=M[P],V=b.layer;if(V.hasRenderer()&&Dd(b,m)&&h.call(c,V)){const D=V.getRenderer(),j=V.getSource();if(D&&j){const G=j.getWrapX()?E:e,ie=p.bind(null,b.managed);S[0]=G[0]+v[A][0],S[1]=G[1]+v[A][1],d=D.forEachFeatureAtCoordinate(S,n,i,ie,R)}if(d)return d}}if(R.length===0)return;const L=1/R.length;return R.forEach((A,P)=>A.distanceSq+=P*L),R.sort((A,P)=>A.distanceSq-P.distanceSq),R.some(A=>d=A.callback(A.feature,A.layer,A.geometry)),d}hasFeatureAtCoordinate(e,n,i,s,o,l){return this.forEachFeatureAtCoordinate(e,n,i,s,Ru,this,o,l)!==void 0}getMap(){return this.map_}renderFrame(e){je()}scheduleExpireIconCache(e){On.canExpireCache()&&e.postRenderFunctions.push(wI)}}function wI(t,e){On.expire()}class uy extends gr{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class MI extends EI{constructor(e){super(e),this.fontChangeListenerKey_=Ve(L3,so.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=So+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const s=new uy(e,void 0,n);i.dispatchEvent(s)}}disposeInternal(){ct(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(ni.PRECOMPOSE,e);const n=e.layerStatesArray.sort((h,c)=>h.zIndex-c.zIndex);n.some(h=>h.layer instanceof yI&&h.layer.getDeclutter())&&(e.declutter={});const s=e.viewState;this.children_.length=0;const o=[];let l=null;for(let h=0,c=n.length;h<c;++h){const d=n[h];e.layerIndex=h;const m=d.layer,p=m.getSourceState();if(!Dd(d,s)||p!="ready"&&p!="undefined"){m.unrender();continue}const y=m.render(e,l);y&&(y!==l&&(this.children_.push(y),l=y),o.push(d))}this.declutter(e,o),w3(this.element_,this.children_),this.dispatchRenderEvent(ni.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],o=s.layer;o.getDeclutter()&&o.renderDeclutter(e,s)}n.forEach(i=>i.layer.renderDeferred(e))}}}class ir extends gr{constructor(e,n){super(e),this.layer=n}}const wf={LAYERS:"layers"};class Ws extends k_{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(wf.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new xi(i.slice(),{unique:!0}):tt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new xi(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(ct),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ve(e,Ln.ADD,this.handleLayersAdd_,this),Ve(e,Ln.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(ct);Gu(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new ir("addlayer",o))}this.changed()}registerLayerListeners_(e){const n=[Ve(e,so.PROPERTYCHANGE,this.handleLayerChange_,this),Ve(e,Ie.CHANGE,this.handleLayerChange_,this)];e instanceof Ws&&n.push(Ve(e,"addlayer",this.handleLayerGroupAdd_,this),Ve(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[$t(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new ir("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ir("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new ir("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=$t(n);this.listenerKeys_[i].forEach(ct),delete this.listenerKeys_[i],this.dispatchEvent(new ir("removelayer",n)),this.changed()}getLayers(){return this.get(wf.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,o=i.length;s<o;++s)this.dispatchEvent(new ir("removelayer",i[s]))}this.set(wf.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});const s=this.getLayerState();let o=s.zIndex;!e&&s.zIndex===void 0&&(o=0);for(let l=i,h=n.length;l<h;l++){const c=n[l];c.opacity*=s.opacity,c.visible=c.visible&&s.visible,c.maxResolution=Math.min(c.maxResolution,s.maxResolution),c.minResolution=Math.max(c.minResolution,s.minResolution),c.minZoom=Math.max(c.minZoom,s.minZoom),c.maxZoom=Math.min(c.maxZoom,s.maxZoom),s.extent!==void 0&&(c.extent!==void 0?c.extent=$n(c.extent,s.extent):c.extent=s.extent),c.zIndex===void 0&&(c.zIndex=o)}return n}getSourceState(){return"ready"}}class vs extends gr{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class tr extends vs{constructor(e,n,i,s,o,l){super(e,n,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const mt={SINGLECLICK:"singleclick",CLICK:Ie.CLICK,DBLCLICK:Ie.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Jf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class xI extends Zu{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ve(i,Jf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ve(i,Jf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ie.TOUCHMOVE,this.boundHandleTouchMove_,J_?{passive:!1}:!1)}emulateClick_(e){let n=new tr(mt.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new tr(mt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new tr(mt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==mt.POINTERUP||n.type==mt.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==mt.POINTERDOWN||n.type==mt.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new tr(mt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ct),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new tr(mt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ve(i,mt.POINTERMOVE,this.handlePointerMove_,this),Ve(i,mt.POINTERUP,this.handlePointerUp_,this),Ve(this.element_,mt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ve(this.element_.getRootNode(),mt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new tr(mt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new tr(mt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(ct(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ie.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ct(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ct),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const nr={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},jt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Pu=1/0;class RI{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Gu(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){tt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Pu?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,s=n.length,o=n[e],l=i[e],h=e;for(;e<s>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),m=d<s&&i[d]<i[c]?d:c;n[e]=n[m],i[e]=i[m],e=m}n[e]=o,i[e]=l,this.siftDown_(h,e)}siftDown_(e,n){const i=this.elements_,s=this.priorities_,o=i[n],l=s[n];for(;n>e;){const h=this.getParentIndex_(n);if(s[h]>l)i[n]=i[h],s[n]=s[h],n=h;else break}i[n]=o,s[n]=l}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const o=n.length;let l,h,c;for(h=0;h<o;++h)l=n[h],c=e(l),c==Pu?delete this.queuedElements_[this.keyFunction_(l)]:(i[s]=c,n[s++]=l);n.length=s,i.length=s,this.heapify_()}}const ce={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class CI extends RI{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Ie.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===ce.LOADED||i===ce.ERROR||i===ce.EMPTY){i!==ce.ERROR&&n.removeEventListener(Ie.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const s=this.dequeue()[0],o=s.getKey();s.getState()===ce.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,s.load())}}}function SI(t,e,n,i,s){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Pu;const o=t.viewState.center,l=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(s)+Math.sqrt(l*l+h*h)/s}class sh extends Ii{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,s=this.listenerKeys.length;i<s;++i)ct(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Cu&&this.listenerKeys.push(Ve(e,nr.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class TI extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:n+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",l=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=l):this.collapseLabel_=o;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=s):this.label_=h;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(Ie.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+So+" "+Bd+(this.collapsed_&&this.collapsible_?" "+e1:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=d,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(s=>s.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(s=>i.add(s)):i.add(this.attributions_)),!this.overrideCollapsible_){const s=!n.some(o=>{var l;return((l=o.getSource())==null?void 0:l.getAttributionsCollapsible())===!1});this.setCollapsible(s)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(s=>ET(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Hu(n,this.renderedAttributions_)){E3(this.ulElement_);for(let s=0,o=n.length;s<o;++s){const l=document.createElement("li");l.innerHTML=n[s],this.ulElement_.appendChild(l)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(e1),this.collapsed_?Zp(this.collapseLabel_,this.label_):Zp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class II extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const o=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=n+"-reset",l.setAttribute("type","button"),l.title=o,l.appendChild(this.label_),l.addEventListener(Ie.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+So+" "+Bd,c=this.element;c.className=h,c.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Zl)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:$s}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Zl);!o&&i===0?this.element.classList.add(Zl):o&&i!==0&&this.element.classList.remove(Zl)}this.label_.style.transform=s}this.rotation_=i}}class AI extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=s,m.setAttribute("type","button"),m.title=c,m.appendChild(typeof l=="string"?document.createTextNode(l):l),m.addEventListener(Ie.CLICK,this.handleClick_.bind(this,i),!1);const p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(Ie.CLICK,this.handleClick_.bind(this,-i),!1);const y=n+" "+So+" "+Bd,E=this.element;E.className=y,E.appendChild(m),E.appendChild(p),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const o=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:$s})):i.setZoom(o)}}}function hy(t){t=t||{};const e=new xi;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new AI(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new II(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new TI(t.attributionOptions)),e}const g1={ACTIVE:"active"};class Ao extends Ii{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(g1.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(g1.ACTIVE,e)}setMap(e){this.map_=e}}function PI(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:PT,center:t.getConstrainedCenter(s)})}}function Kd(t,e,n,i){const s=t.getZoom();if(s===void 0)return;const o=t.getConstrainedZoom(s+e),l=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:l,anchor:n,duration:i!==void 0?i:250,easing:$s})}class LI extends Ao{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==mt.DBLCLICK){const i=e.originalEvent,s=e.map,o=e.coordinate,l=i.shiftKey?-this.delta_:this.delta_,h=s.getView();Kd(h,l,o,this.duration_),i.preventDefault(),n=!0}return!n}}class Po extends Ao{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==mt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==mt.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==mt.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==mt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function qd(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}function ed(t){const e=arguments;return function(n){let i=!0;for(let s=0,o=e.length;s<o&&(i=i&&e[s](n),!!i);++s);return i}}const OI=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},NI=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},cy=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?NI(t):!0},kI=Ru,fy=function(t){const e=t.originalEvent;return e.button==0&&!(v3&&H_&&e.ctrlKey)},dy=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},DI=function(t){const e=t.originalEvent;return H_?e.metaKey:e.ctrlKey},FI=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},gy=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Mf=function(t){const e=t.originalEvent;return tt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},bI=function(t){const e=t.originalEvent;return tt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class zI extends Po{constructor(e){super({stopDown:Yu}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:ed(dy,bI);this.condition_=e.onFocusOnly?ed(cy,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(qd(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const o=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],h=e.map.getView();XS(o,h.getResolution()),wd(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),l=i.getCenterInternal(),h=n.getPixelFromCoordinateInternal(l),c=n.getCoordinateFromPixelInternal([h[0]-s*Math.cos(o),h[1]-s*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(c),duration:500,easing:$s})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class UI extends Po{constructor(e){e=e||{},super({stopDown:Yu}),this.condition_=e.condition?e.condition:OI,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Mf(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===Od)return;const s=n.getSize(),o=e.pixel,l=Math.atan2(s[1]/2-o[1],o[0]-s[0]/2);if(this.lastAngle_!==void 0){const h=l-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=l}handleUpEvent(e){return Mf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Mf(e)&&fy(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class GI extends qu{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],n[0])+i,s.top=Math.min(e[1],n[1])+i,s.width=Math.abs(n[0]-e[0])+i,s.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,s=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new lo([s])}getGeometry(){return this.geometry_}}const ds={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ka extends gr{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class jI extends Po{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new GI(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??fy,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const s=i[0]-n[0],o=i[1]-n[1];return s*s+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ka(ds.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new ka(n?ds.BOXEND:ds.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ka(ds.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ka(ds.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ka(ds.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class BI extends jI{constructor(e){e=e||{};const n=e.condition?e.condition:FI;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(s),l=i.getResolutionForExtentInternal(o),h=i.getResolution()/l;s=s.clone(),s.scale(h*h)}i.fitInternal(s,{duration:this.duration_,easing:$s})}}const Ar={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class $I extends Ao{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return dy(n)&&gy(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ie.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==Ar.DOWN||s==Ar.LEFT||s==Ar.RIGHT||s==Ar.UP)){const l=e.map.getView(),h=l.getResolution()*this.pixelDelta_;let c=0,d=0;s==Ar.DOWN?d=-h:s==Ar.LEFT?c=-h:s==Ar.RIGHT?c=h:d=h;const m=[c,d];wd(m,l.getRotation()),PI(l,m,this.duration_),i.preventDefault(),n=!0}}return!n}}class WI extends Ao{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!DI(n)&&gy(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ie.KEYDOWN||e.type==Ie.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const o=e.map,l=s==="+"?this.delta_:-this.delta_,h=o.getView();Kd(h,l,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class XI{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const o=this.points_[n]-this.points_[i],l=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(l,o),this.initialVelocity_=Math.sqrt(o*o+l*l)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class VI extends Ao{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:kI;this.condition_=e.onFocusOnly?ed(cy,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ie.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o;if(e.type==Ie.WHEEL&&(o=s.deltaY,_3&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Y_),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=l,!1;this.totalDelta_+=o;const c=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),c),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-pt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Kd(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class KI extends Po{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Yu),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],o=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const c=o-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=o;const l=e.map,h=l.getView();h.getConstraints().rotation!==Od&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(qd(this.targetPointers))),this.rotating_&&(l.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class qI extends Po{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Yu),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],o=i.clientX-s.clientX,l=i.clientY-s.clientY,h=Math.sqrt(o*o+l*l);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const c=e.map,d=c.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(qd(this.targetPointers))),c.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function HI(t){t=t||{};const e=new xi,n=new XI(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new UI),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new LI({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new zI({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new KI),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new qI({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new $I),e.push(new WI({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new VI({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new BI({duration:t.zoomDuration})),e}function my(t){if(t instanceof Qu){t.setMapInternal(null);return}t instanceof Ws&&t.getLayers().forEach(my)}function py(t,e){if(t instanceof Qu){t.setMapInternal(e);return}if(t instanceof Ws){const n=t.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)py(n[i],e)}}let YI=class extends Ii{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=ZI(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Y_,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Ls(),this.pixelToCoordinateTransform_=Ls(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||hy(),this.interactions=n.interactions||HI({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new CI(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(jt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(jt.VIEW,this.handleViewChanged_),this.addChangeListener(jt.SIZE,this.handleSizeChanged_),this.addChangeListener(jt.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof ei)&&e.view.then(function(s){i.setView(new ei(s))}),this.controls.addEventListener(Ln.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(Ln.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(Ln.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(Ln.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(Ln.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(Ln.REMOVE,s=>{const o=s.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){py(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,l=i.layerFilter!==void 0?i.layerFilter:Ru,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,o,h,n,null,l,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(s){s instanceof Ws?n(s.getLayers()):e.push(s)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:Ru,o=n.hitTolerance!==void 0?n.hitTolerance:0,l=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,l,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),o=i.width/s[0],l=i.height/s[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-i.left)/o,(h.clientY-i.top)/l]}getTarget(){return this.get(jt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Yf(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?En(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(jt.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof xi){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n];if(!s.visible)continue;const o=s.layer.getRenderer();if(o&&!o.ready)return!0;const l=s.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Ei(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?En(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(jt.SIZE)}getView(){return this.get(jt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,s){return SI(this.frameState_,e,n,i,s)}handleBrowserEvent(e,n){n=n||e.type;const i=new tr(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===Jf.POINTERDOWN||i===Ie.WHEEL||i===Ie.KEYDOWN){const s=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():s,l=n.target,h=o instanceof ShadowRoot?o.host===l?o.host.ownerDocument:o:o===s?s.documentElement:o;if(this.overlayContainerStopEvent_.contains(l)||!h.contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let o=s.length-1;o>=0;o--){const l=s[o];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,o=s;if(e){const l=e.viewHints;if(l[Pn.ANIMATING]||l[Pn.INTERACTING]){const h=Date.now()-e.time>8;s=h?0:8,o=h?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(ni.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ni.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new vs(nr.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new vs(nr.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let s=0,o=i.length;s<o;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)ct(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ie.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ie.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new MI(this)),this.mapBrowserEventHandler_=new xI(this,this.moveTolerance_);for(const o in mt)this.mapBrowserEventHandler_.addEventListener(mt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ie.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ie.WHEEL,this.boundHandleBrowserEvent_,J_?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const o=n.getRootNode();i=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[Ve(i,Ie.KEYDOWN,this.handleBrowserEvent,this),Ve(i,Ie.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(ct(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ct(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ve(e,so.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ve(e,Ie.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ct),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ir("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ve(e,so.PROPERTYCHANGE,this.render,this),Ve(e,Ie.CHANGE,this.render,this),Ve(e,"addlayer",this.handleLayerAdd_,this),Ve(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){my(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),s=this.frameState_;let o=null;if(n!==void 0&&Qp(n)&&i&&i.isDef()){const l=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Xf(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:l,wantedTiles:{},mapId:$t(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const c=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Xf(h.nextCenter,h.nextResolution,c,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),s&&(!this.previousExtent_||!Xu(this.previousExtent_)&&!Wf(o.extent,this.previousExtent_))&&(this.dispatchEvent(new vs(nr.MOVESTART,this,s)),this.previousExtent_=ju(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Pn.ANIMATING]&&!o.viewHints[Pn.INTERACTING]&&!Wf(o.extent,this.previousExtent_)&&(this.dispatchEvent(new vs(nr.MOVEEND,this,o)),LS(o.extent,this.previousExtent_))),this.dispatchEvent(new vs(nr.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(nr.LOADSTART)||this.hasListener(nr.LOADEND)||this.hasListener(ni.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new ir("removelayer",n)),this.set(jt.LAYERGROUP,e)}setSize(e){this.set(jt.SIZE,e)}setTarget(e){this.set(jt.TARGET,e)}setView(e){if(!e||e instanceof ei){this.set(jt.VIEW,e);return}this.set(jt.VIEW,new ei);const n=this;e.then(function(i){n.setView(new ei(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const s=getComputedStyle(e),o=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),l=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(o)&&!isNaN(l)&&(n=[Math.max(0,o),Math.max(0,l)],!Qp(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&O_("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Hu(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function ZI(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Ws({layers:t.layers});n[jt.LAYERGROUP]=i,n[jt.TARGET]=t.target,n[jt.VIEW]=t.view instanceof ei?t.view:new ei;let s;t.controls!==void 0&&(Array.isArray(t.controls)?s=new xi(t.controls.slice()):(tt(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));let o;t.interactions!==void 0&&(Array.isArray(t.interactions)?o=new xi(t.interactions.slice()):(tt(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions));let l;return t.overlays!==void 0?Array.isArray(t.overlays)?l=new xi(t.overlays.slice()):(tt(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=t.overlays):l=new xi,{controls:s,interactions:o,keyboardEventTarget:e,overlays:l,values:n}}const xf="units",QI=[1,2,5],Da=25.4/.28;class JI extends sh{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+So,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(xf,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(xf)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(xf,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,i=e.projection,s=this.getUnits(),o=s=="degrees"?"degrees":"m";let l=Mu(i,e.resolution,n,o);const h=this.minWidth_*(this.dpi_||Da)/Da,c=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Da)/Da:void 0;let d=h*l,m="";if(s=="degrees"){const L=Fs.degrees;d*=L,d<L/60?(m="",l*=3600):d<L?(m="",l*=60):m=""}else if(s=="imperial")d<.9144?(m="in",l/=.0254):d<1609.344?(m="ft",l/=.3048):(m="mi",l/=1609.344);else if(s=="nautical")l/=1852,m="NM";else if(s=="metric")d<1e-6?(m="nm",l*=1e9):d<.001?(m="m",l*=1e6):d<1?(m="mm",l*=1e3):d<1e3?m="m":(m="km",l/=1e3);else if(s=="us")d<.9144?(m="in",l*=39.37):d<1609.344?(m="ft",l/=.30480061):(m="mi",l/=1609.3472);else throw new Error("Invalid units");let p=3*Math.floor(Math.log(h*l)/Math.log(10)),y,E,v,M,x,R;for(;;){v=Math.floor(p/3);const L=Math.pow(10,v);if(y=QI[(p%3+3)%3]*L,E=Math.round(y/l),isNaN(E)){this.element.style.display="none",this.renderedVisible_=!1;return}if(c!==void 0&&E>=c){y=M,E=x,v=R;break}else if(E>=h)break;M=y,x=E,R=v,++p}const S=this.scaleBar_?this.createScaleBar(E,y,m):y.toFixed(v<0?-v:0)+" "+m;this.renderedHTML_!=S&&(this.innerElement_.innerHTML=S,this.renderedHTML_=S),this.renderedWidth_!=E&&(this.innerElement_.style.width=E+"px",this.renderedWidth_=E),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,i){const s=this.getScaleForResolution(),o=s<1?Math.round(1/s).toLocaleString()+" : 1":"1 : "+Math.round(s).toLocaleString(),l=this.scaleBarSteps_,h=e/l,c=[this.createMarker("absolute")];for(let m=0;m<l;++m){const p=m%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";c.push(`<div><div class="ol-scale-singlebar ${p}" style="width: ${h}px;"></div>`+this.createMarker("relative")+(m%2===0||l===2?this.createStepText(m,e,!1,n,i):"")+"</div>")}return c.push(this.createStepText(l,e,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+c.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,n,i,s,o){const h=(e===0?0:Math.round(s/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+o),c=e===0?-3:n/this.scaleBarSteps_*-1,d=e===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${c}px;text-align: ${e===0?"left":"center"};min-width: ${d}px;left: ${i?n+"px":"unset"};">`+h+"</div>"}getScaleForResolution(){const e=Mu(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||Da,i=1e3/25.4;return e*i*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}class Hd{constructor(e,n,i,s){this.minX=e,this.maxX=n,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function gs(t,e,n,i,s){return s!==void 0?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=i,s):new Hd(t,e,n,i)}function Lu(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function eA(t,e,n){return t+"/"+e+"/"+n}function tA(t){return nA(t[0],t[1],t[2])}function nA(t,e,n){return(e<<t)+n}function iA(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return o?o.containsXY(i,s):!0}const ms=[0,0,0],Ji=5;class Ou{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,tt(yT(this.resolutions_,(s,o)=>o-s),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,o=this.resolutions_.length-1;s<o;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,tt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Si(i)),tt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,tt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Ad,tt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((s,o)=>{const l=new Hd(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);l.minX=Math.max(h.minX,l.minX),l.maxX=Math.min(h.maxX,l.maxX),l.minY=Math.max(h.minY,l.minY),l.maxY=Math.min(h.maxY,l.maxY)}return l}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const s=this.getTileRangeForExtentAndZ(e,n);for(let o=s.minX,l=s.maxX;o<=l;++o)for(let h=s.minY,c=s.maxY;h<=c;++h)i([n,o,h])}forEachTileCoordParentTileRange(e,n,i,s){let o,l,h,c=null,d=e[0]-1;for(this.zoomFactor_===2?(l=e[1],h=e[2]):c=this.getTileCoordExtent(e,s);d>=this.minZoom;){if(l!==void 0&&h!==void 0?(l=Math.floor(l/2),h=Math.floor(h/2),o=gs(l,l,h,h,i)):o=this.getTileRangeForExtentAndZ(c,d,i),n(d,o))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,l=e[2]*2;return gs(o,o+1,l,l+1,n)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=e[0],o=e[1],l=e[2];if(n===s)return gs(o,l,o,l,i);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,n-s),d=Math.floor(o*c),m=Math.floor(l*c);if(n<s)return gs(d,d,m,m,i);const p=Math.floor(c*(o+1))-1,y=Math.floor(c*(l+1))-1;return gs(d,p,m,y,i)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,ms);const s=ms[1],o=ms[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,ms);const l=ms[1],h=ms[2];return gs(s,l,o,h,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=dn(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*i,n[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),o=dn(this.getTileSize(e[0]),this.tmpSize_),l=i[0]+e[1]*o[0]*s,h=i[1]-(e[2]+1)*o[1]*s,c=l+o[0]*s,d=h+o[1]*s;return xo(l,h,c,d,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,s,o){const l=this.getZForResolution(i),h=i/this.getResolution(l),c=this.getOrigin(l),d=dn(this.getTileSize(l),this.tmpSize_);let m=h*(e-c[0])/i/d[0],p=h*(c[1]-n)/i/d[1];return s?(m=Vl(m,Ji)-1,p=Vl(p,Ji)-1):(m=Xl(m,Ji),p=Xl(p,Ji)),Lu(l,m,p,o)}getTileCoordForXYAndZ_(e,n,i,s,o){const l=this.getOrigin(i),h=this.getResolution(i),c=dn(this.getTileSize(i),this.tmpSize_);let d=(e-l[0])/h/c[0],m=(l[1]-n)/h/c[1];return s?(d=Vl(d,Ji)-1,m=Vl(m,Ji)-1):(d=Xl(d,Ji),m=Xl(m,Ji)),Lu(i,d,m,o)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Id(this.resolutions_,e,n||0);return pt(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return W_(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}class Yd extends Zu{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ie.CHANGE)}release(){this.state===ce.ERROR&&this.setState(ce.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ce.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){je()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:D_(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class Zd extends Yd{constructor(e,n,i,s,o,l){super(e,n,l),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ce.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ce.ERROR,this.unlistenImage_(),this.image_=rA(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ce.LOADED:this.state=ce.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ce.ERROR&&(this.state=ce.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ce.IDLE&&(this.state=ce.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=M3(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function rA(){const t=en(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const _y=.5,sA=10,m1=.25;class yy{constructor(e,n,i,s,o,l,h){this.sourceProj_=e,this.targetProj_=n;let c={};const d=h?Hf(L=>En(h,N_(L,this.targetProj_,this.sourceProj_))):xu(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const A=L[0]+"/"+L[1];return c[A]||(c[A]=d(L)),c[A]},this.maxSourceExtent_=s,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Ke(s)>=Ke(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ke(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ke(this.targetProj_.getExtent()):null;const m=Si(i),p=Wu(i),y=$u(i),E=Bu(i),v=this.transformInv_(m),M=this.transformInv_(p),x=this.transformInv_(y),R=this.transformInv_(E),S=sA+(l?Math.max(0,Math.ceil(Math.log2(ro(i)/(l*l*256*256)))):0);if(this.addQuad_(m,p,y,E,v,M,x,R,S),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(A,P,b){L=Math.min(L,A.source[0][0],A.source[1][0],A.source[2][0])}),this.triangles_.forEach(A=>{if(Math.max(A.source[0][0],A.source[1][0],A.source[2][0])-L>this.sourceWorldWidth_/2){const P=[[A.source[0][0],A.source[0][1]],[A.source[1][0],A.source[1][1]],[A.source[2][0],A.source[2][1]]];P[0][0]-L>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-L>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-L>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const b=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-b<this.sourceWorldWidth_/2&&(A.source=P)}})}c={}}addTriangle_(e,n,i,s,o,l){this.triangles_.push({source:[s,o,l],target:[e,n,i]})}addQuad_(e,n,i,s,o,l,h,c,d){const m=Tp([o,l,h,c]),p=this.sourceWorldWidth_?Ke(m)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&p>.5&&p<1;let v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const x=Tp([e,n,i,s]);v=Ke(x)/this.targetWorldWidth_>m1||v}!E&&this.sourceProj_.isGlobal()&&p&&(v=p>m1||v)}if(!v&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Ro(m,this.maxSourceExtent_))return;let M=0;if(!v&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)v=!0;else if(M=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),M!=1&&M!=2&&M!=4&&M!=8)return}if(d>0){if(!v){const x=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(x);let S;E?S=(Ps(o[0],y)+Ps(h[0],y))/2-Ps(R[0],y):S=(o[0]+h[0])/2-R[0];const L=(o[1]+h[1])/2-R[1];v=S*S+L*L>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const x=[(n[0]+i[0])/2,(n[1]+i[1])/2],R=this.transformInv_(x),S=[(s[0]+e[0])/2,(s[1]+e[1])/2],L=this.transformInv_(S);this.addQuad_(e,n,x,S,o,l,R,L,d-1),this.addQuad_(S,x,i,s,L,R,h,c,d-1)}else{const x=[(e[0]+n[0])/2,(e[1]+n[1])/2],R=this.transformInv_(x),S=[(i[0]+s[0])/2,(i[1]+s[1])/2],L=this.transformInv_(S);this.addQuad_(e,x,S,s,o,R,L,c,d-1),this.addQuad_(x,n,i,S,R,l,h,L,d-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}M&11||this.addTriangle_(e,i,s,o,h,c),M&14||this.addTriangle_(e,i,n,o,h,l),M&&(M&13||this.addTriangle_(n,s,e,l,c,o),M&7||this.addTriangle_(n,s,i,l,c,h))}calculateSourceExtent(){const e=dr();return this.triangles_.forEach(function(n,i,s){const o=n.source;hu(e,o[0]),hu(e,o[1]),hu(e,o[2])}),e}getTriangles(){return this.triangles_}}let Rf;const Ns=[];function p1(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function Cf(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function aA(){if(Rf===void 0){const t=en(6,6,Ns);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",p1(t,4,5,4,0),p1(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Rf=Cf(e,0)||Cf(e,4)||Cf(e,8),Gd(t),Ns.push(t.canvas)}return Rf}function _1(t,e,n,i){const s=N_(n,e,t);let o=Mu(e,i,n);const l=e.getMetersPerUnit();l!==void 0&&(o*=l);const h=t.getMetersPerUnit();h!==void 0&&(o/=h);const c=t.getExtent();if(!c||Ed(c,s)){const d=Mu(t,o,s)/o;isFinite(d)&&d>0&&(o/=d)}return o}function vy(t,e,n,i){const s=bs(n);let o=_1(t,e,s,i);return(!isFinite(o)||o<=0)&&x_(n,function(l){return o=_1(t,e,l,i),isFinite(o)&&o>0}),o}function oA(t,e,n,i,s,o,l,h,c,d,m,p,y,E){const v=en(Math.round(n*t),Math.round(n*e),Ns);if(p||(v.imageSmoothingEnabled=!1),c.length===0)return v.canvas;v.scale(n,n);function M(P){return Math.round(P*n)/n}v.globalCompositeOperation="lighter";const x=dr();c.forEach(function(P,b,V){w_(x,P.extent)});let R;const S=n/i,L=(p?1:1+Math.pow(2,-24))/S;R=en(Math.round(Ke(x)*S),Math.round(Jt(x)*S),Ns),p||(R.imageSmoothingEnabled=!1),c.forEach(function(P,b,V){if(P.image.width>0&&P.image.height>0){if(P.clipExtent){R.save();const ee=(P.clipExtent[0]-x[0])*S,Q=-(P.clipExtent[3]-x[3])*S,ae=Ke(P.clipExtent)*S,te=Jt(P.clipExtent)*S;R.rect(p?ee:Math.round(ee),p?Q:Math.round(Q),p?ae:Math.round(ee+ae)-Math.round(ee),p?te:Math.round(Q+te)-Math.round(Q)),R.clip()}const D=(P.extent[0]-x[0])*S,j=-(P.extent[3]-x[3])*S,G=Ke(P.extent)*S,ie=Jt(P.extent)*S;R.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,p?D:Math.round(D),p?j:Math.round(j),p?G:Math.round(D+G)-Math.round(D),p?ie:Math.round(j+ie)-Math.round(j)),P.clipExtent&&R.restore()}});const A=Si(l);return h.getTriangles().forEach(function(P,b,V){const D=P.source,j=P.target;let G=D[0][0],ie=D[0][1],ee=D[1][0],Q=D[1][1],ae=D[2][0],te=D[2][1];const _e=M((j[0][0]-A[0])/o),re=M(-(j[0][1]-A[1])/o),W=M((j[1][0]-A[0])/o),ne=M(-(j[1][1]-A[1])/o),$=M((j[2][0]-A[0])/o),T=M(-(j[2][1]-A[1])/o),z=G,se=ie;G=0,ie=0,ee-=z,Q-=se,ae-=z,te-=se;const le=[[ee,Q,0,0,W-_e],[ae,te,0,0,$-_e],[0,0,ee,Q,ne-re],[0,0,ae,te,T-re]],fe=BS(le);if(!fe)return;if(v.save(),v.beginPath(),aA()||!p){v.moveTo(W,ne);const ye=4,Ee=_e-W,Se=re-ne;for(let Oe=0;Oe<ye;Oe++)v.lineTo(W+M((Oe+1)*Ee/ye),ne+M(Oe*Se/(ye-1))),Oe!=ye-1&&v.lineTo(W+M((Oe+1)*Ee/ye),ne+M((Oe+1)*Se/(ye-1)));v.lineTo($,T)}else v.moveTo(W,ne),v.lineTo(_e,re),v.lineTo($,T);v.clip(),v.transform(fe[0],fe[2],fe[1],fe[3],_e,re),v.translate(x[0]-z,x[3]-se);let me;if(R)me=R.canvas,v.scale(L,-L);else{const ye=c[0],Ee=ye.extent;me=ye.image,v.scale(Ke(Ee)/me.width,-Jt(Ee)/me.height)}v.drawImage(me,0,0),v.restore()}),R&&(Gd(R),Ns.push(R.canvas)),m&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,h.getTriangles().forEach(function(P,b,V){const D=P.target,j=(D[0][0]-A[0])/o,G=-(D[0][1]-A[1])/o,ie=(D[1][0]-A[0])/o,ee=-(D[1][1]-A[1])/o,Q=(D[2][0]-A[0])/o,ae=-(D[2][1]-A[1])/o;v.beginPath(),v.moveTo(ie,ee),v.lineTo(j,G),v.lineTo(Q,ae),v.closePath(),v.stroke()}),v.restore()),v.canvas}class td extends Yd{constructor(e,n,i,s,o,l,h,c,d,m,p,y){super(o,ce.IDLE,y),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=h,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=l||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const E=s.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let M=this.sourceTileGrid_.getExtent();const x=v?$n(E,v):E;if(ro(x)===0){this.state=ce.EMPTY;return}const R=e.getExtent();R&&(M?M=$n(M,R):M=R);const S=s.getResolution(this.wrappedTileCoord_[0]),L=vy(e,i,x,S);if(!isFinite(L)||L<=0){this.state=ce.EMPTY;return}const A=m!==void 0?m:_y;if(this.triangulation_=new yy(e,i,x,M,L*A,S),this.triangulation_.getTriangles().length===0){this.state=ce.EMPTY;return}this.sourceZ_=n.getZForResolution(L);let P=this.triangulation_.calculateSourceExtent();if(M&&(e.canWrapX()?(P[1]=pt(P[1],M[1],M[3]),P[3]=pt(P[3],M[1],M[3])):P=$n(P,M)),!ro(P))this.state=ce.EMPTY;else{let b=0,V=0;e.canWrapX()&&(b=Ke(R),V=Math.floor((P[0]-R[0])/b)),R_(P.slice(),e).forEach(j=>{const G=n.getTileRangeForExtentAndZ(j,this.sourceZ_);for(let ie=G.minX;ie<=G.maxX;ie++)for(let ee=G.minY;ee<=G.maxY;ee++){const Q=d(this.sourceZ_,ie,ee,h);if(Q){const ae=V*b;this.sourceTiles_.push({tile:Q,offset:ae})}}++V}),this.sourceTiles_.length===0&&(this.state=ce.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var s;const i=n.tile;if(i&&i.getState()==ce.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);o[0]+=n.offset,o[2]+=n.offset;const l=(s=this.clipExtent_)==null?void 0:s.slice();l&&(l[0]+=n.offset,l[2]+=n.offset),e.push({extent:o,clipExtent:l,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ce.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],l=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=oA(s,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),l,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ce.LOADED}this.changed()}load(){if(this.state==ce.IDLE){this.state=ce.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==ce.IDLE||i==ce.LOADING){e++;const s=Ve(n,Ie.CHANGE,o=>{const l=n.getState();(l==ce.LOADED||l==ce.ERROR||l==ce.EMPTY)&&(ct(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==ce.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(ct),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Gd(this.canvas_.getContext("2d")),Ns.push(this.canvas_),this.canvas_=null),super.release()}}const Sf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class lA extends Ii{constructor(e){super(),this.projection=Xt(e.projection),this.attributions_=y1(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=y1(e),this.changed()}setState(e){this.state_=e,this.changed()}}function y1(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}function Ey(t){let e=t.getDefaultTileGrid();return e||(e=fA(t),t.setDefaultTileGrid(e)),e}function uA(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),o=Qd(n);if(!Ed(o,s)){const l=Ke(o),h=Math.ceil((o[0]-s[0])/l);return s[0]+=l*h,t.getTileCoordForCoordAndZ(s,i)}return e}function hA(t,e,n,i){i=i!==void 0?i:"top-left";const s=wy(t,e,n);return new Ou({extent:t,origin:FS(t,i),resolutions:s,tileSize:n})}function cA(t){const e=t,n=e.extent||Xt("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:wy(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Ou(i)}function wy(t,e,n,i){e=e!==void 0?e:xT,n=dn(n!==void 0?n:Ad);const s=Jt(t),o=Ke(t);i=i>0?i:Math.max(o/n[0],s/n[1]);const l=e+1,h=new Array(l);for(let c=0;c<l;++c)h[c]=i/Math.pow(2,c);return h}function fA(t,e,n,i){const s=Qd(t);return hA(s,e,n,i)}function Qd(t){t=Xt(t);let e=t.getExtent();if(!e){const n=180*Fs.degrees/t.getMetersPerUnit();e=xo(-n,-n,n,n)}return e}class dA extends lA{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&dn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||$t(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,s,o){return je()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Ey(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const s=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),l=dn(s.getTileSize(e),this.tmpSize);return o==1?l:S3(l,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const i=n!==void 0?n:this.getProjection(),s=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=uA(s,e,i)),iA(e,s)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class gA extends gr{constructor(e,n){super(e),this.tile=n}}const mA=/\{z\}/g,pA=/\{x\}/g,_A=/\{y\}/g,yA=/\{-y\}/g;function vA(t,e,n,i,s){return t.replace(mA,e.toString()).replace(pA,n.toString()).replace(_A,i.toString()).replace(yA,function(){if(s===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(s-i).toString()})}function EA(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let o;for(o=i;o<=s;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}function wA(t,e){return function(n,i,s){if(!n)return;let o;const l=n[0];if(e){const h=e.getFullTileRange(l);h&&(o=h.getHeight()-1)}return vA(t,l,n[1],n[2],o)}}function MA(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=wA(t[s],e);return xA(i)}function xA(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const s=tA(e),o=Ps(s,t.length);return t[o](e,n,i)}}class Jd extends dA{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Jd.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=$t(n),s=n.getState();let o;s==ce.LOADING?(this.tileLoadingKeys_[i]=!0,o=Sf.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=s==ce.ERROR?Sf.TILELOADERROR:s==ce.LOADED?Sf.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new gA(o,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=EA(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(MA(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class RA extends Jd{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:CA,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Zd,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!hf(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||hf(n,e)))return this.tileGrid;const i=$t(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Ey(e)),this.tileGridForProjection[i]}createTile_(e,n,i,s,o,l){const h=[e,n,i],c=this.getTileCoordForTileUrlFunction(h,o),d=c?this.tileUrlFunction(c,s,o):void 0,m=new this.tileClass(h,d!==void 0?ce.IDLE:ce.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=l,m.addEventListener(Ie.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,n,i,s,o){const l=this.getProjection();if(!l||!o||hf(l,o))return this.getTileInternal(e,n,i,s,l||o);const h=[e,n,i],c=this.getKey(),d=this.getTileGridForProjection(l),m=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(h,o),y=new td(l,d,o,m,h,p,this.getTilePixelRatio(s),this.getGutter(),(E,v,M,x)=>this.getTileInternal(E,v,M,x,l),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return y.key=c,y}getTileInternal(e,n,i,s,o){const l=this.getKey();return this.createTile_(e,n,i,s,o,l)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=Xt(e);if(i){const s=$t(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}}function CA(t,e){t.getImage().src=e}class v1 extends RA{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:cA({extent:Qd(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const Jl={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class SA extends Qu{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Jl.PRELOAD)}setPreload(e){this.set(Jl.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Jl.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Jl.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const TA=5;class IA extends Co{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=TA}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return je()}getData(e){return null}prepareFrame(e){return je()}renderFrame(e,n){return je()}forEachFeatureAtCoordinate(e,n,i,s,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===De.LOADED||n.getState()===De.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=De.LOADED&&n!=De.ERROR&&e.addEventListener(Ie.CHANGE,this.boundHandleImageChange_),n==De.IDLE&&(e.load(),n=e.getState()),n==De.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class AA{constructor(){Zi(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Tu(),{get:(e,n)=>{if(typeof Tu()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const o=n[i];if(typeof o=="function"){o(e);continue}const l=n[++i];if(typeof e[o]=="function")e[o](...l);else{if(typeof l=="function"){e[o]=l(e);continue}e[o]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}let Es=null;function PA(){Es=en(1,1,void 0,{willReadFrequently:!0})}class LA extends IA{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Ls(),this.pixelTransform=Ls(),this.inversePixelTransform=Ls(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){Es||PA(),Es.clearRect(0,0,1,1);let s;try{Es.drawImage(e,n,i,1,1,0,0,1,1),s=Es.getImageData(0,0,1,1).data}catch{return Es=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let o,l;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&Hu(Us(e.style.backgroundColor),Us(i)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(l=h.getContext("2d"))}if(l&&l.canvas.style.transform===n?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=s;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",l=en();const c=l.canvas;o.appendChild(c),h=c.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=l}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=Si(i),o=Wu(i),l=$u(i),h=Bu(i);En(n.coordinateToPixelTransform,s),En(n.coordinateToPixelTransform,o),En(n.coordinateToPixelTransform,l),En(n.coordinateToPixelTransform,h);const c=this.inversePixelTransform;En(c,s),En(c,o),En(c,l),En(c,h),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,o=e.viewState.rotation,l=e.pixelRatio,h=Math.round(Ke(i)/s*l),c=Math.round(Jt(i)/s*l);ao(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,o,-h/2,-c/2),F_(this.inversePixelTransform,this.pixelTransform);const d=OT(this.pixelTransform);if(this.useContainer(n,d,this.getBackground(e)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=c?(m.width=h,m.height=c):this.context.clearRect(0,0,h,c),d!==m.style.transform&&(m.style.transform=d)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const o=new uy(e,this.inversePixelTransform,i,n);s.dispatchEvent(o)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(ni.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(ni.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new AA),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(ni.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(ni.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,s,o,l,h){const c=o/2,d=l/2,m=s/n,p=-m,y=-e[0]+h,E=-e[1];return ao(this.tempTransform,c,d,m,p,-i,y,E)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Nu(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function OA(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const NA=new Error("disposed");let ps=null;function kA(t){ps||(ps=en(t.width,t.height,void 0,{willReadFrequently:!0}));const e=ps.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),ps.clearRect(0,0,n,i),ps.drawImage(t,0,0),ps.getImageData(0,0,n,i).data}const DA=[256,256];class nd extends Yd{constructor(e){const n=ce.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Nu(this.data_);return e?[e.width,e.height]:DA}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ce.IDLE&&this.state!==ce.ERROR)return;this.state=ce.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=ce.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=ce.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(NA),this.controller_=null),super.disposeInternal()}}class FA{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof qu&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return tt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return tt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){tt(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function ah(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function id(t,e,n,i,s,o,l){l=l??ah();const h=1/(t-e),c=1/(n-i),d=1/(s-o);return l[0]=-2*h,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*c,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*d,l[11]=0,l[12]=(t+e)*h,l[13]=(i+n)*c,l[14]=(o+s)*d,l[15]=1,l}function E1(t,e,n,i,s){return s=s??ah(),s[0]=t[0]*e,s[1]=t[1]*e,s[2]=t[2]*e,s[3]=t[3]*e,s[4]=t[4]*n,s[5]=t[5]*n,s[6]=t[6]*n,s[7]=t[7]*n,s[8]=t[8]*i,s[9]=t[9]*i,s[10]=t[10]*i,s[11]=t[11]*i,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}function bA(t,e,n,i,s){s=s??ah();let o,l,h,c,d,m,p,y,E,v,M,x;return t===s?(s[12]=t[0]*e+t[4]*n+t[8]*i+t[12],s[13]=t[1]*e+t[5]*n+t[9]*i+t[13],s[14]=t[2]*e+t[6]*n+t[10]*i+t[14],s[15]=t[3]*e+t[7]*n+t[11]*i+t[15]):(o=t[0],l=t[1],h=t[2],c=t[3],d=t[4],m=t[5],p=t[6],y=t[7],E=t[8],v=t[9],M=t[10],x=t[11],s[0]=o,s[1]=l,s[2]=h,s[3]=c,s[4]=d,s[5]=m,s[6]=p,s[7]=y,s[8]=E,s[9]=v,s[10]=M,s[11]=x,s[12]=o*e+d*n+E*i+t[12],s[13]=l*e+m*n+v*i+t[13],s[14]=h*e+p*n+M*i+t[14],s[15]=c*e+y*n+x*i+t[15]),s}function zA(t,e,n,i){return i=i??ah(),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=t,i[13]=e,i[14]=n,i[15]=1,i}const UA=`
  attribute vec4 a_position;
  attribute vec4 a_texcoord;

  uniform mat4 u_matrix;
  uniform mat4 u_textureMatrix;

  varying vec2 v_texcoord;

  void main() {
    gl_Position = u_matrix * a_position;
    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;
    v_texcoord = texcoord;
  }
`,GA=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (
      v_texcoord.x < 0.0 ||
      v_texcoord.y < 0.0 ||
      v_texcoord.x > 1.0 ||
      v_texcoord.y > 1.0
    ) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;class jA{constructor(e){this.gl_=e,this.program_=rd(e,GA,UA),this.positionLocation=e.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=e.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=e.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=e.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=e.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.texcoords),e.STATIC_DRAW)}drawImage(e,n,i,s,o,l,h,c,d,m,p,y,E){const v=this.gl_;c===void 0&&(c=s),d===void 0&&(d=o),l===void 0&&(l=n),h===void 0&&(h=i),m===void 0&&(m=l),p===void 0&&(p=h),y===void 0&&(y=v.canvas.width),E===void 0&&(E=v.canvas.height),v.bindTexture(v.TEXTURE_2D,e),v.useProgram(this.program_),v.bindBuffer(v.ARRAY_BUFFER,this.positionBuffer),v.enableVertexAttribArray(this.positionLocation),v.vertexAttribPointer(this.positionLocation,2,v.FLOAT,!1,0,0),v.bindBuffer(v.ARRAY_BUFFER,this.texcoordBuffer),v.enableVertexAttribArray(this.texcoordLocation),v.vertexAttribPointer(this.texcoordLocation,2,v.FLOAT,!1,0,0);let M=id(0,y,0,E,-1,1);M=bA(M,c,d,0),M=E1(M,m,p,1),v.uniformMatrix4fv(this.matrixLocation,!1,M);let x=zA(s/n,o/i,0);x=E1(x,l/n,h/i,1),v.uniformMatrix4fv(this.textureMatrixLocation,!1,x),v.uniform1i(this.textureLocation,0),v.drawArrays(v.TRIANGLES,0,this.positions.length/2)}}function w1(t,e,n){const i=t.createShader(e);if(i===null)throw new Error("Shader compilation failed");if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){const s=t.getShaderInfoLog(i);throw s===null?new Error("Shader info log creation failed"):new Error(s)}return i}function rd(t,e,n){const i=t.createProgram(),s=w1(t,t.VERTEX_SHADER,n),o=w1(t,t.FRAGMENT_SHADER,e);if(i===null)throw new Error("Program creation failed");if(t.attachShader(i,s),t.attachShader(i,o),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw t.getProgramInfoLog(i)===null?new Error("Program info log creation failed"):new Error;return i}const BA=`
  attribute vec4 a_position;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
  }
`,$A=`
  precision mediump float;

  uniform vec4 u_val;
  void main() {
     gl_FragColor = u_val;
  }
`,WA=`
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texcoord;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
     v_texcoord = a_texcoord;
  }
`,XA=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;function VA(t,e,n,i){let s;return n.length?s=n.shift():Z_?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("webgl",i)}function KA(t){const e=t.canvas;e.width=1,e.height=1,t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}const M1=[];function qA(t,e,n,i,s,o,l,h,c,d,m,p,y,E){const v=Math.round(i*e),M=Math.round(i*n);t.canvas.width=v,t.canvas.height=M;let x,R;if(R=t.createTexture(),t.bindTexture(t.TEXTURE_2D,R),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),y?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,v,M,0,t.RGBA,m,null),x=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,x),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,R,0),x===null)throw new Error("Could not create framebuffer");if(R===null)throw new Error("Could not create texture");if(c.length===0)return{width:v,height:M,framebuffer:x,texture:R};const S=dr();c.forEach(function(G,ie,ee){w_(S,G.extent)});let L,A,P;const b=1/s;{if(L=t.createTexture(),R===null)throw new Error("Could not create texture");A=Math.round(Ke(S)*b),P=Math.round(Jt(S)*b);const G=t.getParameter(t.MAX_TEXTURE_SIZE),ie=Math.max(A,P),ee=ie>G?G/ie:1,Q=Math.round(A*ee),ae=Math.round(P*ee);t.bindTexture(t.TEXTURE_2D,L),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),y?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,Q,ae,0,t.RGBA,m,null);const te=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,te),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,L,0);const _e=new jA(t);c.forEach(function(re,W,ne){const $=(re.extent[0]-S[0])*b*ee,T=-(re.extent[3]-S[3])*b*ee,z=Ke(re.extent)*b*ee,se=Jt(re.extent)*b*ee;if(t.bindFramebuffer(t.FRAMEBUFFER,te),t.viewport(0,0,Q,ae),re.clipExtent){const le=(re.clipExtent[0]-S[0])*b*ee,fe=-(re.clipExtent[3]-S[3])*b*ee,me=Ke(re.clipExtent)*b*ee,ye=Jt(re.clipExtent)*b*ee;t.enable(t.SCISSOR_TEST),t.scissor(y?le:Math.round(le),y?fe:Math.round(fe),y?me:Math.round(le+me)-Math.round(le),y?ye:Math.round(fe+ye)-Math.round(fe))}_e.drawImage(re.texture,re.width,re.height,d,d,re.width-2*d,re.height-2*d,y?$:Math.round($),y?T:Math.round(T),y?z:Math.round($+z)-Math.round($),y?se:Math.round(T+se)-Math.round(T),Q,ae),t.disable(t.SCISSOR_TEST)}),t.deleteFramebuffer(te)}const V=Si(l),D=Si(S),j=G=>{const ie=(G[0][0]-V[0])/o*i,ee=-(G[0][1]-V[1])/o*i,Q=(G[1][0]-V[0])/o*i,ae=-(G[1][1]-V[1])/o*i,te=(G[2][0]-V[0])/o*i,_e=-(G[2][1]-V[1])/o*i;return{u1:Q,v1:ae,u0:ie,v0:ee,u2:te,v2:_e}};t.bindFramebuffer(t.FRAMEBUFFER,x),t.viewport(0,0,v,M);{const G=[],ie=[],ee=rd(t,XA,WA);t.useProgram(ee);const Q=t.getUniformLocation(ee,"u_texture");t.bindTexture(t.TEXTURE_2D,L),t.uniform1i(Q,0),h.getTriangles().forEach(function($,T,z){const se=$.source,le=$.target,{u1:fe,v1:me,u0:ye,v0:Ee,u2:Se,v2:Oe}=j(le),wt=(se[0][0]-D[0])/s/A,at=-(se[0][1]-D[1])/s/P,Ae=(se[1][0]-D[0])/s/A,Ne=-(se[1][1]-D[1])/s/P,nt=(se[2][0]-D[0])/s/A,Ue=-(se[2][1]-D[1])/s/P;G.push(fe,me,ye,Ee,Se,Oe),ie.push(Ae,Ne,wt,at,nt,Ue)});const ae=id(0,v,M,0,-1,1),te=t.getUniformLocation(ee,"u_matrix");t.uniformMatrix4fv(te,!1,ae);const _e=t.getAttribLocation(ee,"a_position"),re=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,re),t.bufferData(t.ARRAY_BUFFER,new Float32Array(G),t.STATIC_DRAW),t.vertexAttribPointer(_e,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(_e);const W=t.getAttribLocation(ee,"a_texcoord"),ne=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,ne),t.bufferData(t.ARRAY_BUFFER,new Float32Array(ie),t.STATIC_DRAW),t.vertexAttribPointer(W,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(W),t.drawArrays(t.TRIANGLES,0,G.length/2)}if(p){const G=rd(t,$A,BA);t.useProgram(G);const ie=id(0,v,M,0,-1,1),ee=t.getUniformLocation(G,"u_matrix");t.uniformMatrix4fv(ee,!1,ie);const Q=Array.isArray(p)?p:[0,0,0,255],ae=t.getUniformLocation(G,"u_val");t.uniform4fv(ae,Q);const te=t.getAttribLocation(G,"a_position"),_e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,_e),t.vertexAttribPointer(te,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(te);const re=h.getTriangles().reduce(function(W,ne){const $=ne.target,{u1:T,v1:z,u0:se,v0:le,u2:fe,v2:me}=j($);return W.concat([T,z,se,le,se,le,fe,me,fe,me,T,z])},[]);t.bufferData(t.ARRAY_BUFFER,new Float32Array(re),t.STATIC_DRAW),t.drawArrays(t.LINES,0,re.length/2)}return{width:v,height:M,framebuffer:x,texture:R}}class HA extends nd{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.renderEdges_=e.renderEdges!==void 0?e.renderEdges:!1,this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),s=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?s?$n(i,s):i:s;const o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),l=this.targetTileGrid_.getExtent();let h=this.sourceTileGrid_.getExtent();const c=l?$n(o,l):o;if(ro(c)===0){this.state=ce.EMPTY;return}i&&(h?h=$n(h,i):h=i);const d=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),m=e.targetProj,p=vy(n,m,c,d);if(!isFinite(p)||p<=0){this.state=ce.EMPTY;return}const y=e.errorThreshold!==void 0?e.errorThreshold:_y;if(this.triangulation_=new yy(n,m,c,h,p*y,d,e.transformMatrix),this.triangulation_.getTriangles().length===0){this.state=ce.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(p);let E=this.triangulation_.calculateSourceExtent();if(h&&(n.canWrapX()?(E[1]=pt(E[1],h[1],h[3]),E[3]=pt(E[3],h[1],h[3])):E=$n(E,h)),!ro(E))this.state=ce.EMPTY;else{let v=0,M=0;n.canWrapX()&&(v=Ke(i),M=Math.floor((E[0]-i[0])/v)),R_(E.slice(),n).forEach(R=>{const S=this.sourceTileGrid_.getTileRangeForExtentAndZ(R,this.sourceZ_),L=e.getTileFunction;for(let A=S.minX;A<=S.maxX;A++)for(let P=S.minY;P<=S.maxY;P++){const b=L(this.sourceZ_,A,P,this.pixelRatio_);if(b){const V=M*v;this.sourceTiles_.push({tile:b,offset:V})}}++M}),this.sourceTiles_.length===0&&(this.state=ce.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(A=>{var T;const P=A.tile;if(!P||P.getState()!==ce.LOADED)return;const b=P.getSize(),V=this.gutter_;let D;const j=OA(P.getData());j?D=j:(n=!0,D=kA(Nu(P.getData())));const G=[b[0]+2*V,b[1]+2*V],ie=D instanceof Float32Array,ee=G[0]*G[1],Q=ie?Float32Array:Uint8ClampedArray,ae=new Q(D.buffer),te=Q.BYTES_PER_ELEMENT,_e=te*ae.length/ee,re=ae.byteLength/G[1],W=Math.floor(re/te/G[0]),ne=this.sourceTileGrid_.getTileCoordExtent(P.tileCoord);ne[0]+=A.offset,ne[2]+=A.offset;const $=(T=this.clipExtent_)==null?void 0:T.slice();$&&($[0]+=A.offset,$[2]+=A.offset),e.push({extent:ne,clipExtent:$,data:ae,dataType:Q,bytesPerPixel:_e,pixelSize:G,bandCount:W})}),this.sourceTiles_.length=0,e.length===0){this.state=ce.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(i),o=typeof s=="number"?s:s[0],l=typeof s=="number"?s:s[1],h=o*this.pixelRatio_,c=l*this.pixelRatio_,d=this.targetTileGrid_.getResolution(i),m=this.sourceTileGrid_.getResolution(this.sourceZ_),p=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),y=e[0].bandCount,E=new e[0].dataType(y*h*c),v=VA(h,c,M1,{premultipliedAlpha:!1,antialias:!1});let M;const x=v.RGBA;let R;e[0].dataType==Float32Array?(R=v.FLOAT,v.getExtension("WEBGL_color_buffer_float"),v.getExtension("OES_texture_float"),v.getExtension("EXT_float_blend"),M=v.getExtension("OES_texture_float_linear")!==null&&this.interpolate):(R=v.UNSIGNED_BYTE,M=this.interpolate);const S=4,L=Math.ceil(y/S);for(let A=L-1;A>=0;--A){const P=[];for(let Q=0,ae=e.length;Q<ae;++Q){const te=e[Q],_e=te.pixelSize,re=_e[0],W=_e[1],ne=new te.dataType(S*re*W),$=te.data;let T=A*S;for(let se=0,le=ne.length;se<le;se+=S)ne[se]=$[T],ne[se+1]=$[T+1],ne[se+2]=$[T+2],ne[se+3]=$[T+3],T+=y;const z=v.createTexture();v.bindTexture(v.TEXTURE_2D,z),M?(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.LINEAR)):(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST)),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texImage2D(v.TEXTURE_2D,0,x,re,W,0,x,R,ne),P.push({extent:te.extent,clipExtent:te.clipExtent,texture:z,width:re,height:W})}const{framebuffer:b,width:V,height:D}=qA(v,o,l,this.pixelRatio_,m,d,p,this.triangulation_,P,this.gutter_,R,this.renderEdges_,M),j=V,G=D*S,ie=new e[0].dataType(j*G);v.bindFramebuffer(v.FRAMEBUFFER,b),v.readPixels(0,0,V,D,v.RGBA,R,ie);let ee=A*S;for(let Q=0,ae=ie.length;Q<ae;Q+=S){const te=(j-1-(Q/G|0))*G+Q%G;E[ee]=ie[te],E[ee+1]=ie[te+1],E[ee+2]=ie[te+2],E[ee+3]=ie[te+3],ee+=y}}if(KA(v),M1.push(v.canvas),n){const A=en(o,l),P=new ImageData(E,o);A.putImageData(P,0,0),this.reprojData_=A.canvas}else this.reprojData_=E;this.reprojSize_=[Math.round(h),Math.round(c)],this.state=ce.LOADED,this.changed()}load(){if(this.state!==ce.IDLE&&this.state!==ce.ERROR)return;this.state=ce.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==ce.IDLE&&i!==ce.LOADING)return;e++;const s=Ve(n,Ie.CHANGE,()=>{const o=n.getState();(o==ce.LOADED||o==ce.ERROR||o==ce.EMPTY)&&(ct(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==ce.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(ct),this.sourcesListenerKeys_=null}}function Tf(t,e,n,i){return`${t},${eA(e,n,i)}`}function If(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],s=i.has(e);return s||i.add(e),!s}function YA(t,e,n){const i=t[n];return i?i.delete(e):!1}function x1(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=$n(e,Lr(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const s=i.getTileGridForProjection(t.viewState.projection).getExtent();s&&(e=$n(e,s))}return e}class ZA extends LA{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=dr(),this.tempTileRange_=new Hd(0,0,0,0),this.tempTileCoord_=Lu(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new FA(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,s){const o=this.tileCache_,h=this.getLayer().getSource(),c=Tf(h.getKey(),e,n,i);let d;if(o.containsKey(c))d=o.get(c);else{if(d=h.getTile(e,n,i,s.pixelRatio,s.viewState.projection),!d)return null;o.set(c,d)}return d}getTile(e,n,i,s){const o=this.getOrCreateTile(e,n,i,s);return o||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=En(n.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ed(o,s))return null;const l=n.viewState,h=i.getRenderSource(),c=h.getTileGridForProjection(l.projection),d=h.getTilePixelRatio(n.pixelRatio);for(let m=c.getZForResolution(l.resolution);m>=c.getMinZoom();--m){const p=c.getTileCoordForCoordAndZ(s,m),y=this.getTile(m,p[1],p[2],n);if(!y||y.getState()!==ce.LOADED)continue;const E=c.getOrigin(m),v=dn(c.getTileSize(m)),M=c.getResolution(m);let x;if(y instanceof Zd||y instanceof td)x=y.getImage();else if(y instanceof nd){if(x=Nu(y.getData()),!x)continue}else continue;const R=Math.floor(d*((s[0]-E[0])/M-p[1]*v[0])),S=Math.floor(d*((E[1]-s[1])/M-p[2]*v[1])),L=Math.round(d*h.getGutterForProjection(l.projection));return this.getImageData(x,R+L,S+L)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,s,o){const l=e.viewState,h=this.getLayer(),c=h.getRenderSource(),d=c.getTileGridForProjection(l.projection),m=$t(c);m in e.wantedTiles||(e.wantedTiles[m]={});const p=e.wantedTiles[m],y=h.getMapInternal(),E=Math.max(i-o,d.getMinZoom(),d.getZForResolution(Math.min(h.getMaxResolution(),y?y.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):d.getResolution(0)),c.zDirection));for(let v=i;v>=E;--v){const M=d.getTileRangeForExtentAndZ(n,v,this.tempTileRange_),x=d.getResolution(v);for(let R=M.minX;R<=M.maxX;++R)for(let S=M.minY;S<=M.maxY;++S){const L=this.getTile(v,R,S,e);if(!L||!If(s,L,v))continue;const P=L.getKey();if(p[P]=!0,L.getState()===ce.IDLE&&!e.tileQueue.isKeyQueued(P)){const b=Lu(v,R,S,this.tempTileCoord_);e.tileQueue.enqueue([L,m,d.getTileCoordCenter(b),x])}}}}findStaleTile_(e,n){const i=this.tileCache_,s=e[0],o=e[1],l=e[2],h=this.getStaleKeys();for(let c=0;c<h.length;++c){const d=Tf(h[c],s,o,l);if(i.containsKey(d)){const m=i.get(d);if(m.getState()===ce.LOADED)return m.endTransition($t(this)),If(n,m,s),!0}}return!1}findAltTiles_(e,n,i,s){const o=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!o)return!1;let l=!0;const h=this.tileCache_,d=this.getLayer().getRenderSource().getKey();for(let m=o.minX;m<=o.maxX;++m)for(let p=o.minY;p<=o.maxY;++p){const y=Tf(d,i,m,p);let E=!1;if(h.containsKey(y)){const v=h.get(y);v.getState()===ce.LOADED&&(If(s,v,i),E=!0)}E||(l=!1)}return l}renderFrame(e,n){let i=!0;this.renderComplete=!0;const s=e.layerStatesArray[e.layerIndex],o=e.viewState,l=o.projection,h=o.resolution,c=o.center,d=e.pixelRatio,m=this.getLayer(),p=m.getSource(),y=p.getRevision(),E=p.getTileGridForProjection(l),v=E.getZForResolution(h,p.zDirection),M=E.getResolution(v),x=p.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==x&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=x):this.renderedSourceKey_=x;let R=e.extent;const S=p.getTilePixelRatio(d);this.prepareContainer(e,n);const L=this.context.canvas.width,A=this.context.canvas.height,P=s.extent&&Lr(s.extent);P&&(R=$n(R,Lr(s.extent)));const b=M*L/2/S,V=M*A/2/S,D=[c[0]-b,c[1]-V,c[0]+b,c[1]+V],j={};this.renderedTiles.length=0;const G=m.getPreload();if(e.nextExtent){const $=E.getZForResolution(o.nextResolution,p.zDirection),T=x1(e,e.nextExtent);this.enqueueTiles(e,T,$,j,G)}const ie=x1(e,R);if(this.enqueueTiles(e,ie,v,j,0),G>0&&setTimeout(()=>{this.enqueueTiles(e,ie,v-1,j,G-1)},0),!(v in j))return this.container;const ee=$t(this),Q=e.time;for(const $ of j[v]){const T=$.getState();if(($ instanceof td||$ instanceof HA)&&T===ce.EMPTY)continue;const z=$.tileCoord;if(T===ce.LOADED&&$.getAlpha(ee,Q)===1){$.endTransition(ee);continue}if(T!==ce.IDLE&&(i=!1),T!==ce.ERROR&&(this.renderComplete=!1),this.findStaleTile_(z,j)){YA(j,$,v),e.animate=!0;continue}if(this.findAltTiles_(E,z,v+1,j))continue;const fe=E.getMinZoom();for(let me=v-1;me>=fe&&!this.findAltTiles_(E,z,me,j);--me);}const ae=M/h*d/S,te=this.getRenderContext(e);ao(this.tempTransform,L/2,A/2,ae,ae,0,-L/2,-A/2),s.extent&&this.clipUnrotated(te,e,P),p.getInterpolate()||(te.imageSmoothingEnabled=!1),this.preRender(te,e);const _e=Object.keys(j).map(Number);_e.sort(Td);let re;const W=[],ne=[];for(let $=_e.length-1;$>=0;--$){const T=_e[$],z=p.getTilePixelSize(T,d,l),le=E.getResolution(T)/M,fe=z[0]*le*ae,me=z[1]*le*ae,ye=E.getTileCoordForCoordAndZ(Si(D),T),Ee=E.getTileCoordExtent(ye),Se=En(this.tempTransform,[S*(Ee[0]-D[0])/M,S*(D[3]-Ee[3])/M]),Oe=S*p.getGutterForProjection(l);for(const wt of j[T]){if(wt.getState()!==ce.LOADED)continue;const at=wt.tileCoord,Ae=ye[1]-at[1],Ne=Math.round(Se[0]-(Ae-1)*fe),nt=ye[2]-at[2],Ue=Math.round(Se[1]-(nt-1)*me),qe=Math.round(Se[0]-Ae*fe),_t=Math.round(Se[1]-nt*me),Ze=Ne-qe,Qe=Ue-_t,yt=_e.length===1;let wn=!1;re=[qe,_t,qe+Ze,_t,qe+Ze,_t+Qe,qe,_t+Qe];for(let Mn=0,li=W.length;Mn<li;++Mn)if(!yt&&T<ne[Mn]){const $e=W[Mn];Ro([qe,_t,qe+Ze,_t+Qe],[$e[0],$e[3],$e[4],$e[7]])&&(wn||(te.save(),wn=!0),te.beginPath(),te.moveTo(re[0],re[1]),te.lineTo(re[2],re[3]),te.lineTo(re[4],re[5]),te.lineTo(re[6],re[7]),te.moveTo($e[6],$e[7]),te.lineTo($e[4],$e[5]),te.lineTo($e[2],$e[3]),te.lineTo($e[0],$e[1]),te.clip())}W.push(re),ne.push(T),this.drawTile(wt,e,qe,_t,Ze,Qe,Oe,yt),wn&&te.restore(),this.renderedTiles.unshift(wt),this.updateUsedTiles(e.usedTiles,p,wt)}}if(this.renderedRevision=y,this.renderedResolution=M,this.extentChanged=!this.renderedExtent_||!Wf(this.renderedExtent_,D),this.renderedExtent_=D,this.renderedPixelRatio=d,this.postRender(this.context,e),s.extent&&te.restore(),te.imageSmoothingEnabled=!0,this.renderComplete){const $=(T,z)=>{const se=$t(p),le=z.wantedTiles[se],fe=le?Object.keys(le).length:0;this.updateCacheSize(fe),this.tileCache_.expireCache()};e.postRenderFunctions.push($)}return!this.renderComplete&&!i&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,s,o,l,h,c){let d;if(e instanceof nd){if(d=Nu(e.getData()),!d)throw new Error("Rendering array data is not yet supported")}else d=this.getTileImage(e);if(!d)return;const m=this.getRenderContext(n),p=$t(this),y=n.layerStatesArray[n.layerIndex],E=y.opacity*(c?e.getAlpha(p,n.time):1),v=E!==m.globalAlpha;v&&(m.save(),m.globalAlpha=E),m.drawImage(d,h,h,d.width-2*h,d.height-2*h,i,s,o,l),v&&m.restore(),E!==y.opacity?n.animate=!0:c&&e.endTransition(p)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const s=$t(n);s in e||(e[s]={}),e[s][i.getKey()]=!0}}class R1 extends SA{constructor(e){super(e)}createRenderer(){return new ZA(this,{cacheSize:this.getCacheSize()})}}/*! Lerc 4.0
Copyright 2015 - 2023 Esri
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
A local copy of the license and additional notices are located with the
source distribution at:
http://github.com/Esri/lerc/
Contributors:  Thomas Maurer, Wenxue Ju
*/var QA=(()=>{var t=import.meta.url;return function(n){n=n||{};var n=typeof n<"u"?n:{},i,s;n.ready=new Promise(function(X,H){i=X,s=H});var o=Object.assign({},n),l=typeof window=="object",h=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",d="";function m(X){return n.locateFile?n.locateFile(X,d):d+X}var p,y,E,v,M,x;c?(h?d=require("path").dirname(d)+"/":d=__dirname+"/",x=()=>{M||(v=require("fs"),M=require("path"))},p=function(H,Le){return x(),H=M.normalize(H),v.readFileSync(H,Le?void 0:"utf8")},E=X=>{var H=p(X,!0);return H.buffer||(H=new Uint8Array(H)),H},y=(X,H,Le)=>{x(),X=M.normalize(X),v.readFile(X,function(Je,St){Je?Le(Je):H(St.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(X){if(!(X instanceof oh))throw X}),process.on("unhandledRejection",function(X){throw X}),n.inspect=function(){return"[Emscripten Module object]"}):(l||h)&&(h?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),t&&(d=t),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",p=X=>{var H=new XMLHttpRequest;return H.open("GET",X,!1),H.send(null),H.responseText},h&&(E=X=>{var H=new XMLHttpRequest;return H.open("GET",X,!1),H.responseType="arraybuffer",H.send(null),new Uint8Array(H.response)}),y=(X,H,Le)=>{var Je=new XMLHttpRequest;Je.open("GET",X,!0),Je.responseType="arraybuffer",Je.onload=()=>{if(Je.status==200||Je.status==0&&Je.response){H(Je.response);return}Le()},Je.onerror=Le,Je.send(null)}),n.print||console.log.bind(console);var R=n.printErr||console.warn.bind(console);Object.assign(n,o),o=null,n.arguments,n.thisProgram,n.quit;var S;n.wasmBinary&&(S=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Ee("no native wasm support detected");var L,A=!1,P=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function b(X,H,Le){for(var Je=H+Le,St=H;X[St]&&!(St>=Je);)++St;if(St-H>16&&X.buffer&&P)return P.decode(X.subarray(H,St));for(var Vt="";H<St;){var et=X[H++];if(!(et&128)){Vt+=String.fromCharCode(et);continue}var dt=X[H++]&63;if((et&224)==192){Vt+=String.fromCharCode((et&31)<<6|dt);continue}var Ft=X[H++]&63;if((et&240)==224?et=(et&15)<<12|dt<<6|Ft:et=(et&7)<<18|dt<<12|Ft<<6|X[H++]&63,et<65536)Vt+=String.fromCharCode(et);else{var ci=et-65536;Vt+=String.fromCharCode(55296|ci>>10,56320|ci&1023)}}return Vt}function V(X,H){return X?b(G,X,H):""}var D,j,G,ie,ee;function Q(X){D=X,n.HEAP8=j=new Int8Array(X),n.HEAP16=new Int16Array(X),n.HEAP32=ie=new Int32Array(X),n.HEAPU8=G=new Uint8Array(X),n.HEAPU16=new Uint16Array(X),n.HEAPU32=ee=new Uint32Array(X),n.HEAPF32=new Float32Array(X),n.HEAPF64=new Float64Array(X)}n.INITIAL_MEMORY;var ae,te=[],_e=[],re=[];function W(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)T(n.preRun.shift());Ue(te)}function ne(){Ue(_e)}function $(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)se(n.postRun.shift());Ue(re)}function T(X){te.unshift(X)}function z(X){_e.unshift(X)}function se(X){re.unshift(X)}var le=0,fe=null;function me(X){le++,n.monitorRunDependencies&&n.monitorRunDependencies(le)}function ye(X){if(le--,n.monitorRunDependencies&&n.monitorRunDependencies(le),le==0&&fe){var H=fe;fe=null,H()}}function Ee(X){n.onAbort&&n.onAbort(X),X="Aborted("+X+")",R(X),A=!0,X+=". Build with -sASSERTIONS for more info.";var H=new WebAssembly.RuntimeError(X);throw s(H),H}var Se="data:application/octet-stream;base64,";function Oe(X){return X.startsWith(Se)}function wt(X){return X.startsWith("file://")}var at;n.locateFile?(at="lerc-wasm.wasm",Oe(at)||(at=m(at))):at=new URL("/assets/lerc-wasm-BgCuHQhu.wasm",import.meta.url).toString();function Ae(X){try{if(X==at&&S)return new Uint8Array(S);if(E)return E(X);throw"both async and sync fetching of the wasm failed"}catch(H){Ee(H)}}function Ne(){if(!S&&(l||h)){if(typeof fetch=="function"&&!wt(at))return fetch(at,{credentials:"same-origin"}).then(function(X){if(!X.ok)throw"failed to load wasm binary file at '"+at+"'";return X.arrayBuffer()}).catch(function(){return Ae(at)});if(y)return new Promise(function(X,H){y(at,function(Le){X(new Uint8Array(Le))},H)})}return Promise.resolve().then(function(){return Ae(at)})}function nt(){var X={a:Pi};function H(et,dt){var Ft=et.exports;n.asm=Ft,L=n.asm.g,Q(L.buffer),ae=n.asm.m,z(n.asm.h),ye()}me();function Le(et){H(et.instance)}function Je(et){return Ne().then(function(dt){return WebAssembly.instantiate(dt,X)}).then(function(dt){return dt}).then(et,function(dt){R("failed to asynchronously prepare wasm: "+dt),Ee(dt)})}function St(){return!S&&typeof WebAssembly.instantiateStreaming=="function"&&!Oe(at)&&!wt(at)&&!c&&typeof fetch=="function"?fetch(at,{credentials:"same-origin"}).then(function(et){var dt=WebAssembly.instantiateStreaming(et,X);return dt.then(Le,function(Ft){return R("wasm streaming compile failed: "+Ft),R("falling back to ArrayBuffer instantiation"),Je(Le)})}):Je(Le)}if(n.instantiateWasm)try{var Vt=n.instantiateWasm(X,H);return Vt}catch(et){return R("Module.instantiateWasm callback failed with error: "+et),!1}return St().catch(s),{}}function Ue(X){for(;X.length>0;){var H=X.shift();if(typeof H=="function"){H(n);continue}var Le=H.func;typeof Le=="number"?H.arg===void 0?_t(Le)():_t(Le)(H.arg):Le(H.arg===void 0?null:H.arg)}}var qe=[];function _t(X){var H=qe[X];return H||(X>=qe.length&&(qe.length=X+1),qe[X]=H=ae.get(X)),H}function Ze(X,H,Le,Je){Ee("Assertion failed: "+V(X)+", at: "+[H?V(H):"unknown filename",Le,Je?V(Je):"unknown function"])}function Qe(X){return hi(X+24)+24}function yt(X){this.excPtr=X,this.ptr=X-24,this.set_type=function(H){ee[this.ptr+4>>2]=H},this.get_type=function(){return ee[this.ptr+4>>2]},this.set_destructor=function(H){ee[this.ptr+8>>2]=H},this.get_destructor=function(){return ee[this.ptr+8>>2]},this.set_refcount=function(H){ie[this.ptr>>2]=H},this.set_caught=function(H){H=H?1:0,j[this.ptr+12>>0]=H},this.get_caught=function(){return j[this.ptr+12>>0]!=0},this.set_rethrown=function(H){H=H?1:0,j[this.ptr+13>>0]=H},this.get_rethrown=function(){return j[this.ptr+13>>0]!=0},this.init=function(H,Le){this.set_adjusted_ptr(0),this.set_type(H),this.set_destructor(Le),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var H=ie[this.ptr>>2];ie[this.ptr>>2]=H+1},this.release_ref=function(){var H=ie[this.ptr>>2];return ie[this.ptr>>2]=H-1,H===1},this.set_adjusted_ptr=function(H){ee[this.ptr+16>>2]=H},this.get_adjusted_ptr=function(){return ee[this.ptr+16>>2]},this.get_exception_ptr=function(){var H=Li(this.get_type());if(H)return ee[this.excPtr>>2];var Le=this.get_adjusted_ptr();return Le!==0?Le:this.excPtr}}function wn(X,H,Le){var Je=new yt(X);throw Je.init(H,Le),X}function Mn(){Ee("")}function li(X,H,Le){G.copyWithin(X,H,H+Le)}function $e(){return 2147483648}function tn(X){try{return L.grow(X-D.byteLength+65535>>>16),Q(L.buffer),1}catch{}}function ui(X){var H=G.length;X=X>>>0;var Le=$e();if(X>Le)return!1;let Je=(Ft,ci)=>Ft+(ci-Ft%ci)%ci;for(var St=1;St<=4;St*=2){var Vt=H*(1+.2/St);Vt=Math.min(Vt,X+100663296);var et=Math.min(Le,Je(Math.max(X,Vt),65536)),dt=tn(et);if(dt)return!0}return!1}var Pi={a:Ze,c:Qe,b:wn,d:Mn,f:li,e:ui};nt(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.h).apply(null,arguments)},n._lerc_getBlobInfo=function(){return(n._lerc_getBlobInfo=n.asm.i).apply(null,arguments)},n._lerc_getDataRanges=function(){return(n._lerc_getDataRanges=n.asm.j).apply(null,arguments)},n._lerc_decode=function(){return(n._lerc_decode=n.asm.k).apply(null,arguments)},n._lerc_decode_4D=function(){return(n._lerc_decode_4D=n.asm.l).apply(null,arguments)};var hi=n._malloc=function(){return(hi=n._malloc=n.asm.n).apply(null,arguments)};n._free=function(){return(n._free=n.asm.o).apply(null,arguments)};var Li=n.___cxa_is_pointer_type=function(){return(Li=n.___cxa_is_pointer_type=n.asm.p).apply(null,arguments)},Vn;function oh(X){this.name="ExitStatus",this.message="Program terminated with exit("+X+")",this.status=X}fe=function X(){Vn||Gr(),Vn||(fe=X)};function Gr(X){if(le>0||(W(),le>0))return;function H(){Vn||(Vn=!0,n.calledRun=!0,!A&&(ne(),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),$()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),H()},1)):H()}if(n.run=Gr,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Gr(),n.ready}})();const My=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let eu=null;function JA(t={}){if(eu)return eu;const e=t.locateFile||((n,i)=>`${i}${n}`);return eu=QA({locateFile:e}).then(n=>n.ready.then(()=>{tP(n)})),eu}const ku={getBlobInfo:null,decode:null};function eP(t){return(t>>3<<3)+16}function er(t,e,n){n.set(t.slice(e,e+n.length))}function tP(t){const{_malloc:e,_free:n,_lerc_getBlobInfo:i,_lerc_getDataRanges:s,_lerc_decode_4D:o,asm:l}=t;let h;const c=Object.values(l).find(m=>m&&"buffer"in m&&m.buffer===t.HEAPU8.buffer),d=m=>{const p=m.map(M=>eP(M)),y=p.reduce((M,x)=>M+x),E=e(y);h=new Uint8Array(c.buffer);let v=p[0];p[0]=E;for(let M=1;M<p.length;M++){const x=p[M];p[M]=p[M-1]+v,v=x}return p};ku.getBlobInfo=m=>{const E=new Uint8Array(48),v=new Uint8Array(3*8),[M,x,R]=d([m.length,E.length,v.length]);h.set(m,M),h.set(E,x),h.set(v,R);let S=i(M,m.length,x,R,12,3);if(S)throw n(M),`lerc-getBlobInfo: error code is ${S}`;h=new Uint8Array(c.buffer),er(h,x,E),er(h,R,v);const L=new Uint32Array(E.buffer),A=new Float64Array(v.buffer),[P,b,V,D,j,G,ie,ee,Q,ae,te]=L,_e={version:P,dimCount:V,width:D,height:j,validPixelCount:ie,bandCount:G,blobSize:ee,maskCount:Q,depthCount:ae,dataType:b,minValue:A[0],maxValue:A[1],maxZerror:A[2],statistics:[],bandCountWithNoData:te};if(te)return n(M),_e;if(ae===1&&G===1)return n(M),_e.statistics.push({minValue:A[0],maxValue:A[1]}),_e;const re=ae*G*8,W=new Uint8Array(re),ne=new Uint8Array(re);let $=M,T=0,z=0,se=!1;if(h.byteLength<M+re*2?(n(M),se=!0,[$,T,z]=d([m.length,re,re]),h.set(m,$)):[T,z]=d([re,re]),h.set(W,T),h.set(ne,z),S=s($,m.length,ae,G,T,z),S)throw n($),se||n(T),`lerc-getDataRanges: error code is ${S}`;h=new Uint8Array(c.buffer),er(h,T,W),er(h,z,ne);const le=new Float64Array(W.buffer),fe=new Float64Array(ne.buffer),me=_e.statistics;for(let ye=0;ye<G;ye++)if(ae>1){const Ee=le.slice(ye*ae,(ye+1)*ae),Se=fe.slice(ye*ae,(ye+1)*ae),Oe=Math.min.apply(null,Ee),wt=Math.max.apply(null,Se);me.push({minValue:Oe,maxValue:wt,dimStats:{minValues:Ee,maxValues:Se},depthStats:{minValues:Ee,maxValues:Se}})}else me.push({minValue:le[ye],maxValue:fe[ye]});return n($),se||n(T),_e},ku.decode=(m,p)=>{const{maskCount:y,depthCount:E,bandCount:v,width:M,height:x,dataType:R,bandCountWithNoData:S}=p,L=My[R],A=M*x,P=new Uint8Array(A*v),b=A*E*v*L.size,V=new Uint8Array(b),D=new Uint8Array(v),j=new Uint8Array(v*8),[G,ie,ee,Q,ae]=d([m.length,P.length,V.length,D.length,j.length]);h.set(m,G),h.set(P,ie),h.set(V,ee),h.set(D,Q),h.set(j,ae);const te=o(G,m.length,y,ie,E,M,x,v,R,ee,Q,ae);if(te)throw n(G),`lerc-decode: error code is ${te}`;h=new Uint8Array(c.buffer),er(h,ee,V),er(h,ie,P);let _e=null;if(S){er(h,Q,D),er(h,ae,j),_e=[];const re=new Float64Array(j.buffer);for(let W=0;W<D.length;W++)_e.push(D[W]?re[W]:null)}return n(G),{data:V,maskData:P,noDataValues:_e}}}function nP(t,e,n,i,s){if(n<2)return t;const o=new i(e*n);for(let l=0,h=0;l<e;l++)for(let c=0,d=l;c<n;c++,d+=e)o[d]=t[h++];return o}function iP(t,e={}){var n,i;const s=(n=e.inputOffset)!==null&&n!==void 0?n:0,o=t instanceof Uint8Array?t.subarray(s):new Uint8Array(t,s),l=ku.getBlobInfo(o),{data:h,maskData:c}=ku.decode(o,l),{width:d,height:m,bandCount:p,dimCount:y,depthCount:E,dataType:v,maskCount:M,statistics:x}=l,R=My[v],S=new R.ctor(h.buffer),L=[],A=[],P=d*m,b=P*E,V=(i=e.returnInterleaved)!==null&&i!==void 0?i:e.returnPixelInterleavedDims;for(let Q=0;Q<p;Q++){const ae=S.subarray(Q*b,(Q+1)*b);if(V)L.push(ae);else{const te=nP(ae,P,E,R.ctor);L.push(te)}A.push(c.subarray(Q*b,(Q+1)*b))}const D=M===0?null:M===1?A[0]:new Uint8Array(P);if(M>1){D.set(A[0]);for(let Q=1;Q<A.length;Q++){const ae=A[Q];for(let te=0;te<P;te++)D[te]=D[te]&ae[te]}}const{noDataValue:j}=e,G=j!=null&&R.range[0]<=j&&R.range[1]>=j;if(M>0&&G)for(let Q=0;Q<p;Q++){const ae=L[Q],te=A[Q]||D;for(let _e=0;_e<P;_e++)te[_e]===0&&(ae[_e]=j)}const ie=M===p&&p>1?A:null,{pixelType:ee}=R;return{width:d,height:m,pixelType:ee,statistics:x,pixels:L,mask:D,dimCount:y,depthCount:E,bandMasks:ie}}const rP=t=>{const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");if(n===null)throw new Error("ctx is not created");const i=n.createImageData(t.width,t.height);for(let s=0;s<t.mask.length;s++){const o=t.pixels[0][s];i.data[s*4]=o,i.data[s*4+1]=o,i.data[s*4+2]=o,i.data[s*4+3]=255}return n.putImageData(i,0,0),e},rr=class rr{constructor(){Zi(this,"projection");Zi(this,"lercLoaded",!1)}async setup(){if(gn.defs("EPSG:2176","+proj=tmerc +lat_0=0 +lon_0=15 +k=0.999923 +x_0=5500000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),pT(gn),this.projection=Xt("EPSG:2176")||void 0,!this.projection)throw new Error("Projection EPSG:2176 not found!");await JA({locateFile:()=>"/lerc-wasm.wasm"}),this.lercLoaded=!0}getMap(e,n,i){if(!this.projection)throw new Error("Call setup() before using getMap()");const s=[i.minX,i.minY,i.maxX,i.maxY];this.projection.setExtent(s);const o=[(i.minX+i.maxX)/2,(i.minY+i.maxY)/2],l=this.getLayer500(i),h=this.getLayer499(n);return new YI({target:e,layers:[h,l],view:new ei({projection:this.projection,center:o,zoom:0,minZoom:0,maxZoom:i.resolutions.length-1,extent:s}),controls:hy().extend([new JI])})}getLayer500(e){if(!this.projection)throw new Error("Call setup() before using getLayer500()");const n=[e.minX,e.minY,e.maxX,e.maxY];this.projection.setExtent(n);const i=new Ou({origin:[e.minX,e.maxY],resolutions:e.resolutions,tileSize:e.tileSize}),s=new v1({url:rr.RASTER_500_TILE,projection:this.projection,tileGrid:i,wrapX:!1});return new R1({source:s,opacity:.4})}getLayer499(e){if(!this.projection)throw new Error("Call setup() before using getLayer499()");if(!this.lercLoaded)throw new Error("lerc not loaded, call setup() first!");const n=new Ou({origin:[e.minX,e.maxY],resolutions:e.resolutions,tileSize:e.tileSize}),i=new v1({url:rr.RASTER_499_TILE,projection:this.projection,tileGrid:n,wrapX:!1,tileLoadFunction:async(s,o)=>{if(!(s instanceof Zd))throw new Error("imageTile must be of type ImageTile");return fetch(o).then(l=>l.arrayBuffer()).then(l=>{const h=rP(iP(l));s.getImage().setAttribute("src",h.toDataURL())}).catch(l=>{console.warn(l)})}});return new R1({source:i,opacity:.6})}};Zi(rr,"RASTER_499_METADATA","/data/6/rasters/499/499/metadata.json"),Zi(rr,"RASTER_499_TILE","/data/6/rasters/499/499/{z}/{x}/{y}.lerc"),Zi(rr,"RASTER_500_METADATA","/data/6/rasters/500/500/metadata.json"),Zi(rr,"RASTER_500_TILE","/data/6/rasters/500/500/{z}/{x}/{y}.webp");let Za=rr;function sP(){const t=rp(Za.RASTER_499_METADATA,sp),e=rp(Za.RASTER_500_METADATA,sp),n=U.useRef(),i=U.useRef(null);return U.useEffect(()=>{let s=!0;const o=async()=>{const l=new Za;await l.setup(),s&&(n.current=l.getMap(i.current,t.data,e.data))};return!n.current&&t.data&&e.data&&o(),()=>{s=!1,n.current&&n.current.setTarget(void 0),n.current=void 0}},[t,e]),ze.jsxs(ze.Fragment,{children:[t.isLoading||e.isLoading?ze.jsx("div",{children:"Loading..."}):null,t.error?ze.jsxs("div",{children:["Error: ",t.error]}):null,e.error?ze.jsxs("div",{children:["Error: ",e.error]}):null,ze.jsx("div",{ref:i,style:{height:"500px",width:"100%"}})]})}function aP(){return ze.jsx(sP,{})}const oP="/data/6/pointclouds/2473/ept/ept.json";function lP(){const t=U.useRef(null);return U.useEffect(()=>{const e=new Potree.Viewer(t.current);return e.setEDLEnabled(!0),e.setFOV(60),e.setPointBudget(1*1e3*1e3),e.loadSettingsFromURL(),Potree.loadPointCloud(oP,"points",n=>{const i=e.scene,s=n.pointcloud,o=s.material;o.size=1,o.pointSizeType=Potree.PointSizeType.ADAPTIVE,o.shape=Potree.PointShape.SQUARE,i.addPointCloud(s),e.fitToScreen()}),()=>{e.renderer.dispose()}},[]),ze.jsx("div",{ref:t,style:{height:"500px",position:"relative"}})}function uP(){return ze.jsx(lP,{})}TE.createRoot(document.getElementById("root")).render(ze.jsx(U.StrictMode,{children:ze.jsx(X2,{children:ze.jsx(M2,{children:ze.jsxs(Fa,{element:ze.jsx(ew,{}),children:[ze.jsx(Fa,{index:!0,element:ze.jsx(IE,{})}),ze.jsx(Fa,{path:"2d",element:ze.jsx(aP,{})}),ze.jsx(Fa,{path:"3d",element:ze.jsx(uP,{})})]})})})}));
